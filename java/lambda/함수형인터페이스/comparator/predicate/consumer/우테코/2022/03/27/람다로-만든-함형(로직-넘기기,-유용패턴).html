<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">함수형인터페이스 만들어 로직넘기기</h1><p class="page-description">로직을 특정 객체의 행위에 넘기고 싶을 때 + 유용패턴3</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-03-27T00:00:00-05:00" itemprop="datePublished">
        Mar 27, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#java">java</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#lambda">lambda</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#함수형인터페이스">함수형인터페이스</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#comparator">comparator</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#predicate">predicate</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#consumer">consumer</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#우테코">우테코</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!-- toc가 먼저 나오므로 h3로 안내하기 -->
    <h3>📜 제목으로 보기</h3>
    <ul class="section-nav">
<li class="toc-entry toc-h3"><a href="#문제-상황">문제 상황</a>
<ul>
<li class="toc-entry toc-h4"><a href="#어떤-객체-로직이-타-객체행위-성공여부에-따라-갈린다면-응답값을-억지로-받지말고-----타-객체-context-내부로-넘기자">어떤 객체 로직이 [타 객체.행위() 성공여부]에 따라 갈린다면, 응답값을 억지로 받지말고  -&gt;  [타 객체 context] 내부로 넘기자</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#예시1-thr가능성있는-타객체메세지-이후의-로직들을-타객체메세지보낼때-같이-보내기">예시1: thr가능성있는 타객체.메세지() 이후의 로직들을 타객체메세지보낼때 같이 보내기</a>
<ul>
<li class="toc-entry toc-h4"><a href="#01-넘기고-싶은-로직을-----람다를-이용하여-함형을-만든다">01 넘기고 싶은 로직을 () -&gt; {}; 람다를 이용하여 함형을 만든다.</a></li>
<li class="toc-entry toc-h4"><a href="#02-타-객체가-내부에-사용됬다면-람다식의-input---으로-받아---함형메서드-this-로-사용되도록-해야한다">02 타 객체가 내부에 사용됬다면, 람다식의 (input) -&gt; {};으로 받아 -&gt; 함형.메서드( this );로 사용되도록 해야한다.</a></li>
<li class="toc-entry toc-h4"><a href="#03-람다식의-input이-정해지면-변수추출로-함형종류--inputtype을-지정해준다---변수추출하면-메서드-추출도-응답값-지정이-잘됨">03 람다식의 input이 정해지면, [변수추출]로 함형종류 + inputType을 지정해준다 -&gt; 변수추출하면 메서드 추출도 응답값 지정이 잘됨.</a></li>
<li class="toc-entry toc-h4"><a href="#04-타-객체의-메서드인자로-넘겨주기-위해-함형의--제외한-우항만-메서드-추출">04 타 객체의 메서드(인자)로 넘겨주기 위해, 함형의 = 제외한 우항만 메서드 추출</a></li>
<li class="toc-entry toc-h4"><a href="#05-추출한-로직의-함형을-타객체-메서드에-건네줘서---내부에서-this를-사용해-실행되도록-옮긴다">05 추출한 로직의 함형을, 타객체 메서드에 건네줘서 -&gt; 내부에서 this를 사용해 실행되도록 옮긴다.</a></li>
<li class="toc-entry toc-h4"><a href="#06-함형으로-로직을-넘겨받은-타-객체는-내부에서-this를-인자로-주고-호출한다">06 함형으로 로직을 넘겨받은 타 객체는 내부에서 (this)를 인자로 주고 호출한다</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#예시2-아래쪽-분기별-outputview-로직이-도메인-샌드위치-사이에-위치한-경우----runnable객체면-consumer로-위쪽-도메인-메서드-인자에-함형메서드로-쏴서-넘겨주기">예시2: 아래쪽 분기별 OutputView 로직이 도메인 샌드위치 사이에 위치한 경우 -&gt;  Runnable?객체면 Consumer?로 위쪽 도메인 메서드 인자에 함형메서드로 쏴서 넘겨주기</a>
<ul>
<li class="toc-entry toc-h4"><a href="#문제상황">문제상황</a></li>
<li class="toc-entry toc-h4"><a href="#01-view로직을-도메인-메서드-안에서-출력시키고-싶은데-view-사용--view를-알면-안된다---view는-알면-안되지만-함수형-인터페이스는-알아도-된다---view로직-전체----람다를-통한-함형---메서드추출후-응답에-함형">01 view로직을 도메인 메서드 안에서 출력시키고 싶은데, view 사용 == view를 알면 안된다. -&gt; view는 알면 안되지만, 함수형 인터페이스는 알아도 된다 -&gt; view로직 전체  -&gt; 람다를 통한 함형 -&gt; 메서드추출후 응답에 함형</a></li>
<li class="toc-entry toc-h4"><a href="#02-도메인메서드의-인자에-함형-응답-메서드호출로-인한-함형인자를-추가하기">02 도메인메서드의 인자에 함형 응답 메서드호출로 인한 함형인자를 추가하기</a></li>
<li class="toc-entry toc-h4"><a href="#03-view로직을-함형으로-넘겨받은-도메인-메서드에서는-함형메서드로-가동시키기">03 view로직을 함형으로 넘겨받은 도메인 메서드에서는 함형.메서드()로 가동시키기</a></li>
<li class="toc-entry toc-h4"><a href="#04-샌드위치를-만들던-도메인로직2도-해당분기에-맞게-도메인-내부로-옮겨준다">04 샌드위치를 만들던 도메인로직2도 해당분기에 맞게 도메인 내부로 옮겨준다.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#람다식을-통한-함형이-유용할-경우-3가지">[람다식을 통한 함형]이 유용할 경우 3가지</a>
<ul>
<li class="toc-entry toc-h4"><a href="#listsort--속-comparator의-역정렬--thencomparing-2개이상-정렬">list.sort( ) 속 [Comparator]의 역정렬 + thenComparing 2개이상 정렬</a>
<ul>
<li class="toc-entry toc-h5"><a href="#참고-그냥-comparable안에서-2개-정렬">참고) 그냥 Comparable안에서 2개 정렬</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#predicate-1개에--negate-반전-이외에-and-람다--or-람다-로-연쇄할-경우">Predicate 1개에  .negate() 반전 이외에 .and( 람다 ) .or( 람다 )로 연쇄할 경우</a></li>
<li class="toc-entry toc-h4"><a href="#수식용-function-들을-여러개-만들어놓고-andthen---or-compose-로-조합">수식용 Function 들을 여러개 만들어놓고 .andThen( )  or .compose( )로 조합</a></li>
</ul>
</li>
</ul><h3 id="문제-상황">
<a class="anchor" href="#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>문제 상황</h3>

<h4 id="어떤-객체-로직이-타-객체행위-성공여부에-따라-갈린다면-응답값을-억지로-받지말고-----타-객체-context-내부로-넘기자">
<a class="anchor" href="#%EC%96%B4%EB%96%A4-%EA%B0%9D%EC%B2%B4-%EB%A1%9C%EC%A7%81%EC%9D%B4-%ED%83%80-%EA%B0%9D%EC%B2%B4%ED%96%89%EC%9C%84-%EC%84%B1%EA%B3%B5%EC%97%AC%EB%B6%80%EC%97%90-%EB%94%B0%EB%9D%BC-%EA%B0%88%EB%A6%B0%EB%8B%A4%EB%A9%B4-%EC%9D%91%EB%8B%B5%EA%B0%92%EC%9D%84-%EC%96%B5%EC%A7%80%EB%A1%9C-%EB%B0%9B%EC%A7%80%EB%A7%90%EA%B3%A0-----%ED%83%80-%EA%B0%9D%EC%B2%B4-context-%EB%82%B4%EB%B6%80%EB%A1%9C-%EB%84%98%EA%B8%B0%EC%9E%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>어떤 객체 로직이 [타 객체.행위() 성공여부]에 따라 갈린다면, 응답값을 억지로 받지말고  -&gt;  [타 객체 context] 내부로 넘기자</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">movePiece</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Piece</span> <span class="n">beforePiece</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">);</span>

        <span class="n">beforePiece</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">);</span>

        <span class="c1">// .move()의 결과에 따라 실행/안실행되는 -&gt; piece내부로 넘겨주고 싶은 Board 로직</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">afterPosition</span><span class="o">,</span> <span class="n">beforePiece</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NullPiece</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
    <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Board의 this.value(<code class="language-plaintext highlighter-rouge">map</code>)에 pu하는 로직을
    <ul>
      <li>**타 객체인 <code class="language-plaintext highlighter-rouge">beforePiece.move( , )의 성공여부에 따라 실행</code>시키고 싶다 **</li>
      <li>그러려면 <strong>beforePiece.move( , )의 성공여부를 <code class="language-plaintext highlighter-rouge">.move()의  응답값</code>을 받아와</strong> if 그 결과에 따라 실행시켜야한다.</li>
      <li><strong><code class="language-plaintext highlighter-rouge">특정 로직의 결과에 따라 움직인다면, 결과를 응답받지말고, 그 객체 text에  함형으로 넘겨주자</code></strong></li>
    </ul>
  </li>
</ul>

<h3 id="예시1-thr가능성있는-타객체메세지-이후의-로직들을-타객체메세지보낼때-같이-보내기">
<a class="anchor" href="#%EC%98%88%EC%8B%9C1-thr%EA%B0%80%EB%8A%A5%EC%84%B1%EC%9E%88%EB%8A%94-%ED%83%80%EA%B0%9D%EC%B2%B4%EB%A9%94%EC%84%B8%EC%A7%80-%EC%9D%B4%ED%9B%84%EC%9D%98-%EB%A1%9C%EC%A7%81%EB%93%A4%EC%9D%84-%ED%83%80%EA%B0%9D%EC%B2%B4%EB%A9%94%EC%84%B8%EC%A7%80%EB%B3%B4%EB%82%BC%EB%95%8C-%EA%B0%99%EC%9D%B4-%EB%B3%B4%EB%82%B4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>예시1: <code class="language-plaintext highlighter-rouge">thr가능성있는 타객체.메세지() </code>이후의 로직들을 타객체메세지보낼때 같이 보내기</h3>

<h4 id="01-넘기고-싶은-로직을-----람다를-이용하여-함형을-만든다">
<a class="anchor" href="#01-%EB%84%98%EA%B8%B0%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EB%A1%9C%EC%A7%81%EC%9D%84-----%EB%9E%8C%EB%8B%A4%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%ED%95%A8%ED%98%95%EC%9D%84-%EB%A7%8C%EB%93%A0%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 넘기고 싶은 로직을 <code class="language-plaintext highlighter-rouge">() -&gt; {};</code> 람다를 이용하여 함형을 만든다.</h4>

<ol>
  <li>
    <p>일단 넘기고 싶은 로직을 <code class="language-plaintext highlighter-rouge">{}</code>아웃풋 자리에 넣고 람다식<code class="language-plaintext highlighter-rouge">()-&gt;{};</code>을 만든다.</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="o">()</span> <span class="o">-&gt;</span> 
 <span class="o">{</span>
     <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">afterPosition</span><span class="o">,</span> <span class="n">beforePiece</span><span class="o">);</span>
     <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NullPiece</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="02-타-객체가-내부에-사용됬다면-람다식의-input---으로-받아---함형메서드-this-로-사용되도록-해야한다">
<a class="anchor" href="#02-%ED%83%80-%EA%B0%9D%EC%B2%B4%EA%B0%80-%EB%82%B4%EB%B6%80%EC%97%90-%EC%82%AC%EC%9A%A9%EB%90%AC%EB%8B%A4%EB%A9%B4-%EB%9E%8C%EB%8B%A4%EC%8B%9D%EC%9D%98-input---%EC%9C%BC%EB%A1%9C-%EB%B0%9B%EC%95%84---%ED%95%A8%ED%98%95%EB%A9%94%EC%84%9C%EB%93%9C-this-%EB%A1%9C-%EC%82%AC%EC%9A%A9%EB%90%98%EB%8F%84%EB%A1%9D-%ED%95%B4%EC%95%BC%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 타 객체가 내부에 사용됬다면, <code class="language-plaintext highlighter-rouge">람다식의 (input) -&gt; {};</code>으로 받아 -&gt; <code class="language-plaintext highlighter-rouge">함형.메서드( this );</code>로 사용되도록 해야한다.</h4>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330181914543.png" alt="image-20220330181914543"></p>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330181944197.png" alt="image-20220330181944197"></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">beforePiece</code>.move(, )에 넘겨줄 예정이므로 <strong>piece를 함형 람다의 input으로 지정해주고, 고치자</strong></p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">movePiece</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">)</span> <span class="o">{</span>
     <span class="nc">Piece</span> <span class="n">beforePiece</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">);</span>
    
     <span class="n">beforePiece</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">);</span>
    
     <span class="o">(</span><span class="n">piece</span><span class="o">)</span> <span class="o">-&gt;</span>
     <span class="o">{</span>
         <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">afterPosition</span><span class="o">,</span> <span class="n">piece</span><span class="o">);</span>
         <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NullPiece</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
     <span class="o">};</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="03-람다식의-input이-정해지면-변수추출로-함형종류--inputtype을-지정해준다---변수추출하면-메서드-추출도-응답값-지정이-잘됨">
<a class="anchor" href="#03-%EB%9E%8C%EB%8B%A4%EC%8B%9D%EC%9D%98-input%EC%9D%B4-%EC%A0%95%ED%95%B4%EC%A7%80%EB%A9%B4-%EB%B3%80%EC%88%98%EC%B6%94%EC%B6%9C%EB%A1%9C-%ED%95%A8%ED%98%95%EC%A2%85%EB%A5%98--inputtype%EC%9D%84-%EC%A7%80%EC%A0%95%ED%95%B4%EC%A4%80%EB%8B%A4---%EB%B3%80%EC%88%98%EC%B6%94%EC%B6%9C%ED%95%98%EB%A9%B4-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%B6%94%EC%B6%9C%EB%8F%84-%EC%9D%91%EB%8B%B5%EA%B0%92-%EC%A7%80%EC%A0%95%EC%9D%B4-%EC%9E%98%EB%90%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 람다식의 input이 정해지면, [변수추출]로 함형종류 + inputType을 지정해준다 -&gt; 변수추출하면 메서드 추출도 응답값 지정이 잘됨.</h4>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330182031077.png" alt="image-20220330182031077">
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330182119229.png" alt="image-20220330182119229"></p>

<ol>
  <li>
    <p><strong>함형의 <code class="language-plaintext highlighter-rouge">inputType</code>에는 <code class="language-plaintext highlighter-rouge">넘겨받을 타 객체Piece</code>로 정해줘야한다.</strong></p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">movePiece</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">)</span> <span class="o">{</span>
     <span class="nc">Piece</span> <span class="n">beforePiece</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">);</span>
    
     <span class="n">beforePiece</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">);</span>
    
     <span class="kd">final</span> <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Piece</span><span class="o">&gt;</span> <span class="n">function</span> <span class="o">=</span> <span class="o">(</span><span class="n">piece</span><span class="o">)</span> <span class="o">-&gt;</span>
     <span class="o">{</span>
         <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">afterPosition</span><span class="o">,</span> <span class="n">piece</span><span class="o">);</span>
         <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NullPiece</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
     <span class="o">};</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="04-타-객체의-메서드인자로-넘겨주기-위해-함형의--제외한-우항만-메서드-추출">
<a class="anchor" href="#04-%ED%83%80-%EA%B0%9D%EC%B2%B4%EC%9D%98-%EB%A9%94%EC%84%9C%EB%93%9C%EC%9D%B8%EC%9E%90%EB%A1%9C-%EB%84%98%EA%B2%A8%EC%A3%BC%EA%B8%B0-%EC%9C%84%ED%95%B4-%ED%95%A8%ED%98%95%EC%9D%98--%EC%A0%9C%EC%99%B8%ED%95%9C-%EC%9A%B0%ED%95%AD%EB%A7%8C-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%B6%94%EC%B6%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>04 타 객체의 메서드(인자)로 넘겨주기 위해, 함형의 <code class="language-plaintext highlighter-rouge">= 제외한 우항</code>만 메서드 추출</h4>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">추출할 메서드의 응답Type</code> -&gt;  타객체. 메서드(  <code class="language-plaintext highlighter-rouge">인자로 들어갈 Type</code>  )이 될 것이니 <strong>응답값이 <code class="language-plaintext highlighter-rouge">함수형 인터페이스</code>가 되도록 <code class="language-plaintext highlighter-rouge">= 우항</code>만 메서드 추출해준다.</strong>
    <ul>
      <li><strong>만약, 변수추출 안했다면 추론이 안되서 함형을 응답값으로 못빼주더라</strong></li>
      <li>
<code class="language-plaintext highlighter-rouge">=</code>를 포함시켜서 추출하면 추출안됨.
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330183610664.png" alt="image-20220330183610664">
</li>
      <li>
<strong><code class="language-plaintext highlighter-rouge">=제외시키고 함형 메서드추출</code>하면 잘된다.</strong>
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330183629943.png" alt="image-20220330183629943">
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330183652047.png" alt="image-20220330183652047">
</li>
    </ul>
  </li>
</ul>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">=</code>을 제외하고 <code class="language-plaintext highlighter-rouge">우항만 메서드 추출</code>해서, 응답값이 함수형 인터페이스로 잘 뽑히는지 확인한다.</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">movePiece</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">)</span> <span class="o">{</span>
     <span class="nc">Piece</span> <span class="n">beforePiece</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">);</span>
    
     <span class="n">beforePiece</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">);</span>
    
     <span class="kd">final</span> <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Piece</span><span class="o">&gt;</span> <span class="n">function</span> <span class="o">=</span> <span class="n">getMoveConsumer</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">);</span>
 <span class="o">}</span>
    
 <span class="kd">private</span> <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Piece</span><span class="o">&gt;</span> <span class="nf">getMoveConsumer</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">return</span> <span class="o">(</span><span class="n">piece</span><span class="o">)</span> <span class="o">-&gt;</span>
     <span class="o">{</span>
         <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">afterPosition</span><span class="o">,</span> <span class="n">piece</span><span class="o">);</span>
         <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NullPiece</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
     <span class="o">};</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="05-추출한-로직의-함형을-타객체-메서드에-건네줘서---내부에서-this를-사용해-실행되도록-옮긴다">
<a class="anchor" href="#05-%EC%B6%94%EC%B6%9C%ED%95%9C-%EB%A1%9C%EC%A7%81%EC%9D%98-%ED%95%A8%ED%98%95%EC%9D%84-%ED%83%80%EA%B0%9D%EC%B2%B4-%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90-%EA%B1%B4%EB%84%A4%EC%A4%98%EC%84%9C---%EB%82%B4%EB%B6%80%EC%97%90%EC%84%9C-this%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-%EC%8B%A4%ED%96%89%EB%90%98%EB%8F%84%EB%A1%9D-%EC%98%AE%EA%B8%B4%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>05 추출한 로직의 함형을, 타객체 메서드에 건네줘서 -&gt; 내부에서 this를 사용해 실행되도록 옮긴다.</h4>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330183845210.png" alt="image-20220330183845210"></p>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330183912350.png" alt="image-20220330183912350">
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330183925566.png" alt="image-20220330183925566"></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kt">void</span> <span class="nf">movePiece</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Piece</span> <span class="n">beforePiece</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">);</span>

    <span class="n">beforePiece</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">,</span> <span class="n">getMoveConsumer</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="06-함형으로-로직을-넘겨받은-타-객체는-내부에서-this를-인자로-주고-호출한다">
<a class="anchor" href="#06-%ED%95%A8%ED%98%95%EC%9C%BC%EB%A1%9C-%EB%A1%9C%EC%A7%81%EC%9D%84-%EB%84%98%EA%B2%A8%EB%B0%9B%EC%9D%80-%ED%83%80-%EA%B0%9D%EC%B2%B4%EB%8A%94-%EB%82%B4%EB%B6%80%EC%97%90%EC%84%9C-this%EB%A5%BC-%EC%9D%B8%EC%9E%90%EB%A1%9C-%EC%A3%BC%EA%B3%A0-%ED%98%B8%EC%B6%9C%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>06 함형으로 로직을 넘겨받은 타 객체는 <code class="language-plaintext highlighter-rouge">내부에서 (this)를 인자로 주고 호출</code>한다</h4>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220330184002158.png" alt="image-20220330184002158"></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">move</span><span class="o">(</span><span class="nc">Position</span> <span class="n">beforePosition</span><span class="o">,</span>
                 <span class="nc">Position</span> <span class="n">afterPosition</span><span class="o">,</span>
                 <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Piece</span><span class="o">&gt;</span> <span class="n">moveFunction</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">canMove</span><span class="o">(</span><span class="n">beforePosition</span><span class="o">,</span> <span class="n">afterPosition</span><span class="o">))</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="no">NOT_MOVABLE_POSITION</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">moveFunction</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="예시2-아래쪽-분기별-outputview-로직이-도메인-샌드위치-사이에-위치한-경우----runnable객체면-consumer로-위쪽-도메인-메서드-인자에-함형메서드로-쏴서-넘겨주기">
<a class="anchor" href="#%EC%98%88%EC%8B%9C2-%EC%95%84%EB%9E%98%EC%AA%BD-%EB%B6%84%EA%B8%B0%EB%B3%84-outputview-%EB%A1%9C%EC%A7%81%EC%9D%B4-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%83%8C%EB%93%9C%EC%9C%84%EC%B9%98-%EC%82%AC%EC%9D%B4%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C-%EA%B2%BD%EC%9A%B0----runnable%EA%B0%9D%EC%B2%B4%EB%A9%B4-consumer%EB%A1%9C-%EC%9C%84%EC%AA%BD-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B8%EC%9E%90%EC%97%90-%ED%95%A8%ED%98%95%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%EC%8F%B4%EC%84%9C-%EB%84%98%EA%B2%A8%EC%A3%BC%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>예시2: <code class="language-plaintext highlighter-rouge">아래쪽 분기별 OutputView 로직</code>이 <code class="language-plaintext highlighter-rouge">도메인 샌드위치 사이</code>에 위치한 경우 -&gt;  Runnable?객체면 Consumer?로 <code class="language-plaintext highlighter-rouge">위쪽 도메인 메서드 인자</code>에 <code class="language-plaintext highlighter-rouge">함형메서드로 쏴서 넘겨주기</code>
</h3>

<h4 id="문제상황">
<a class="anchor" href="#%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>문제상황</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">OutputView</span><span class="o">.</span><span class="na">printStartMessage</span><span class="o">();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">gameSwitch</span><span class="o">.</span><span class="na">isOn</span><span class="o">())</span> <span class="o">{</span>
        <span class="c1">//도메인로직</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">command</span> <span class="o">=</span> <span class="nc">InputView</span><span class="o">.</span><span class="na">inputCommand</span><span class="o">();</span>
        <span class="kd">final</span> <span class="nc">GameCommand</span> <span class="n">gameCommand</span> <span class="o">=</span> <span class="nc">GameCommand</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>
        <span class="n">gameCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">command</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>

        <span class="c1">//view로직 ( State에 따라서 출력 )</span>
        <span class="n">printBoardInfo</span><span class="o">();</span>
        
        <span class="c1">//도메인로직2 (샌드위치유발) -&gt; 특정상태인 경우, 다시 돌려주는 로직</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="na">toRunningState</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">private</span> <span class="kt">void</span> <span class="nf">printBoardAndBeRunningIfStatus</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">isReadyOrRunning</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">OutputView</span><span class="o">.</span><span class="na">printBoard</span><span class="o">(</span><span class="n">getBoard</span><span class="o">());</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">isStatusInRunning</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">OutputView</span><span class="o">.</span><span class="na">printStatus</span><span class="o">(</span><span class="n">calculateStatus</span><span class="o">());</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">isFinishedAndGameEnd</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">OutputView</span><span class="o">.</span><span class="na">printFinalStatus</span><span class="o">(</span><span class="n">calculateStatus</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="01-view로직을-도메인-메서드-안에서-출력시키고-싶은데-view-사용--view를-알면-안된다---view는-알면-안되지만-함수형-인터페이스는-알아도-된다---view로직-전체----람다를-통한-함형---메서드추출후-응답에-함형">
<a class="anchor" href="#01-view%EB%A1%9C%EC%A7%81%EC%9D%84-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%95%88%EC%97%90%EC%84%9C-%EC%B6%9C%EB%A0%A5%EC%8B%9C%ED%82%A4%EA%B3%A0-%EC%8B%B6%EC%9D%80%EB%8D%B0-view-%EC%82%AC%EC%9A%A9--view%EB%A5%BC-%EC%95%8C%EB%A9%B4-%EC%95%88%EB%90%9C%EB%8B%A4---view%EB%8A%94-%EC%95%8C%EB%A9%B4-%EC%95%88%EB%90%98%EC%A7%80%EB%A7%8C-%ED%95%A8%EC%88%98%ED%98%95-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%8A%94-%EC%95%8C%EC%95%84%EB%8F%84-%EB%90%9C%EB%8B%A4---view%EB%A1%9C%EC%A7%81-%EC%A0%84%EC%B2%B4----%EB%9E%8C%EB%8B%A4%EB%A5%BC-%ED%86%B5%ED%95%9C-%ED%95%A8%ED%98%95---%EB%A9%94%EC%84%9C%EB%93%9C%EC%B6%94%EC%B6%9C%ED%9B%84-%EC%9D%91%EB%8B%B5%EC%97%90-%ED%95%A8%ED%98%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 view로직을 도메인 메서드 안에서 출력시키고 싶은데, view 사용 == view를 알면 안된다. -&gt; <code class="language-plaintext highlighter-rouge">view는 알면 안되지만, 함수형 인터페이스는 알아도 된다</code> -&gt; view로직 전체  -&gt; 람다를 통한 함형 -&gt; 메서드추출후 응답에 함형</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="nc">Runnable</span> <span class="nf">printBoardInfo</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">isReadyOrRunning</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">OutputView</span><span class="o">.</span><span class="na">printBoard</span><span class="o">(</span><span class="n">getBoard</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">isStatusInRunning</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">OutputView</span><span class="o">.</span><span class="na">printStatus</span><span class="o">(</span><span class="n">calculateStatus</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">isFinishedAndGameEnd</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">OutputView</span><span class="o">.</span><span class="na">printFinalStatus</span><span class="o">(</span><span class="n">calculateStatus</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="02-도메인메서드의-인자에-함형-응답-메서드호출로-인한-함형인자를-추가하기">
<a class="anchor" href="#02-%EB%8F%84%EB%A9%94%EC%9D%B8%EB%A9%94%EC%84%9C%EB%93%9C%EC%9D%98-%EC%9D%B8%EC%9E%90%EC%97%90-%ED%95%A8%ED%98%95-%EC%9D%91%EB%8B%B5-%EB%A9%94%EC%84%9C%EB%93%9C%ED%98%B8%EC%B6%9C%EB%A1%9C-%EC%9D%B8%ED%95%9C-%ED%95%A8%ED%98%95%EC%9D%B8%EC%9E%90%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 도메인메서드의 인자에 <code class="language-plaintext highlighter-rouge">함형 응답 메서드호출로 인한 함형인자</code>를 추가하기</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">OutputView</span><span class="o">.</span><span class="na">printStartMessage</span><span class="o">();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">gameSwitch</span><span class="o">.</span><span class="na">isOn</span><span class="o">())</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">command</span> <span class="o">=</span> <span class="nc">InputView</span><span class="o">.</span><span class="na">inputCommand</span><span class="o">();</span>
        <span class="kd">final</span> <span class="nc">GameCommand</span> <span class="n">gameCommand</span> <span class="o">=</span> <span class="nc">GameCommand</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>
        <span class="n">gameCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">command</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="n">printBoardInfo</span><span class="o">());</span>
        
        <span class="c1">//도메인로직2 (샌드위치유발) -&gt; 특정상태인 경우, 다시 돌려주는 로직</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="na">toRunningState</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="03-view로직을-함형으로-넘겨받은-도메인-메서드에서는-함형메서드로-가동시키기">
<a class="anchor" href="#03-view%EB%A1%9C%EC%A7%81%EC%9D%84-%ED%95%A8%ED%98%95%EC%9C%BC%EB%A1%9C-%EB%84%98%EA%B2%A8%EB%B0%9B%EC%9D%80-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90%EC%84%9C%EB%8A%94-%ED%95%A8%ED%98%95%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%EA%B0%80%EB%8F%99%EC%8B%9C%ED%82%A4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 <code class="language-plaintext highlighter-rouge">view로직을 함형으로 넘겨받은 도메인 메서드</code>에서는 함형.메서드()로 가동시키기</h4>

<ul>
  <li>함형으로 넘겨서 실행만 시키면 <strong><code class="language-plaintext highlighter-rouge">도메인은</code> view를 모르고 <code class="language-plaintext highlighter-rouge">view로직이 담겨 실행직전인 함수형인터페이스</code>만 알아도 된다.</strong>
</li>
</ul>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220402171414317.png" alt="image-20220402171414317"></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Status</span> <span class="kd">implements</span> <span class="nc">CommandStrategy</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">command</span><span class="o">,</span>
                        <span class="kd">final</span> <span class="nc">ChessGame</span> <span class="n">chessGame</span><span class="o">,</span>
                        <span class="kd">final</span> <span class="nc">Runnable</span> <span class="n">runnable</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">chessGame</span><span class="o">.</span><span class="na">status</span><span class="o">();</span>

        <span class="n">runnable</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="04-샌드위치를-만들던-도메인로직2도-해당분기에-맞게-도메인-내부로-옮겨준다">
<a class="anchor" href="#04-%EC%83%8C%EB%93%9C%EC%9C%84%EC%B9%98%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%8D%98-%EB%8F%84%EB%A9%94%EC%9D%B8%EB%A1%9C%EC%A7%812%EB%8F%84-%ED%95%B4%EB%8B%B9%EB%B6%84%EA%B8%B0%EC%97%90-%EB%A7%9E%EA%B2%8C-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%82%B4%EB%B6%80%EB%A1%9C-%EC%98%AE%EA%B2%A8%EC%A4%80%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>04 샌드위치를 만들던 도메인로직2도 해당분기에 맞게 도메인 내부로 옮겨준다.</h4>

<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220402171724717.png" alt="image-20220402171724717"></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Status</span> <span class="kd">implements</span> <span class="nc">CommandStrategy</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">command</span><span class="o">,</span>
                        <span class="kd">final</span> <span class="nc">ChessGame</span> <span class="n">chessGame</span><span class="o">,</span>
                        <span class="kd">final</span> <span class="nc">Runnable</span> <span class="n">runnable</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">chessGame</span><span class="o">.</span><span class="na">status</span><span class="o">();</span>

        <span class="n">runnable</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>

<span class="c1">//        if (state.isStatus()) {</span>
<span class="c1">//            state = state.toRunningState();</span>
<span class="c1">//        }</span>
        <span class="n">chessGame</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="람다식을-통한-함형이-유용할-경우-3가지">
<a class="anchor" href="#%EB%9E%8C%EB%8B%A4%EC%8B%9D%EC%9D%84-%ED%86%B5%ED%95%9C-%ED%95%A8%ED%98%95%EC%9D%B4-%EC%9C%A0%EC%9A%A9%ED%95%A0-%EA%B2%BD%EC%9A%B0-3%EA%B0%80%EC%A7%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>[람다식을 통한 함형]이 유용할 경우 3가지</h3>

<h4 id="listsort--속-comparator의-역정렬--thencomparing-2개이상-정렬">
<a class="anchor" href="#listsort--%EC%86%8D-comparator%EC%9D%98-%EC%97%AD%EC%A0%95%EB%A0%AC--thencomparing-2%EA%B0%9C%EC%9D%B4%EC%83%81-%EC%A0%95%EB%A0%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>list.sort( ) 속 [Comparator]의 역정렬 + thenComparing 2개이상 정렬</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1</span>
<span class="n">inventory</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="nc">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span><span class="nl">Apple:</span><span class="o">:</span><span class="n">getWeight</span><span class="o">)</span>
               <span class="o">.</span><span class="na">reversed</span><span class="o">());</span> <span class="c1">// 역으로 정렬</span>


<span class="c1">// 2 </span>
<span class="n">inventory</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="nc">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span><span class="nl">Apple:</span><span class="o">:</span><span class="n">getWeight</span><span class="o">)</span>
		<span class="o">.</span><span class="na">reversed</span><span class="o">()</span> <span class="c1">// 역으로 정렬</span>
		<span class="o">.</span><span class="na">thenComparing</span><span class="o">(</span><span class="nl">Apple:</span><span class="o">:</span><span class="n">getCountry</span><span class="o">));</span> <span class="c1">// 두 사과의 무게가 같으면 국가별로 정렬</span>
</code></pre></div></div>

<h5 id="참고-그냥-comparable안에서-2개-정렬">
<a class="anchor" href="#%EC%B0%B8%EA%B3%A0-%EA%B7%B8%EB%83%A5-comparable%EC%95%88%EC%97%90%EC%84%9C-2%EA%B0%9C-%EC%A0%95%EB%A0%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>참고) 그냥 Comparable안에서 2개 정렬</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="nc">Position</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span><span class="nl">Position:</span><span class="o">:</span><span class="n">getRow</span><span class="o">,</span> <span class="nc">Comparator</span><span class="o">.</span><span class="na">reverseOrder</span><span class="o">())</span>
        <span class="o">.</span><span class="na">thenComparing</span><span class="o">(</span><span class="nl">Position:</span><span class="o">:</span><span class="n">getColumn</span><span class="o">)</span>
        <span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">o</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="predicate-1개에--negate-반전-이외에-and-람다--or-람다-로-연쇄할-경우">
<a class="anchor" href="#predicate-1%EA%B0%9C%EC%97%90--negate-%EB%B0%98%EC%A0%84-%EC%9D%B4%EC%99%B8%EC%97%90-and-%EB%9E%8C%EB%8B%A4--or-%EB%9E%8C%EB%8B%A4-%EB%A1%9C-%EC%97%B0%EC%87%84%ED%95%A0-%EA%B2%BD%EC%9A%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Predicate 1개에  .negate() 반전 이외에 .and( 람다 ) .or( 람다 )로 연쇄할 경우</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Apple</span><span class="o">&gt;</span> <span class="n">notRedApple</span> <span class="o">=</span> <span class="n">redApple</span><span class="o">.</span><span class="na">negate</span><span class="o">();</span> <span class="c1">// 결과를 반전</span>

<span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Apple</span><span class="o">&gt;</span> <span class="n">redAndHeavyApple</span> <span class="o">=</span> <span class="n">redApple</span>
			<span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">apple</span> <span class="o">-&gt;</span> <span class="n">apple</span><span class="o">.</span><span class="na">getWeight</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="o">);</span>

<span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Apple</span><span class="o">&gt;</span> <span class="n">redAndHeavyApple</span> <span class="o">=</span> <span class="n">redApple</span>
			<span class="o">.</span><span class="na">or</span><span class="o">(</span><span class="n">apple</span> <span class="o">-&gt;</span> <span class="n">apple</span><span class="o">.</span><span class="na">getWeight</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="o">);</span>

<span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Apple</span><span class="o">&gt;</span> <span class="n">redAndHeavyAndGreenApple</span> <span class="o">=</span> <span class="n">redApple</span>
    <span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">apple</span> <span class="o">-&gt;</span> <span class="n">apple</span><span class="o">.</span><span class="na">getWeight</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="o">)</span>
    <span class="o">.</span><span class="na">or</span><span class="o">(</span><span class="n">apple</span> <span class="o">-&gt;</span> <span class="no">GREEN</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">apple</span><span class="o">.</span><span class="na">getColor</span><span class="o">()));</span> 

<span class="c1">// 빨간 사과 중 무게가 150 넘는 사과 혹은 초록 사과 (오른쪽 연결)</span>
</code></pre></div></div>

<h4 id="수식용-function-들을-여러개-만들어놓고-andthen---or-compose-로-조합">
<a class="anchor" href="#%EC%88%98%EC%8B%9D%EC%9A%A9-function-%EB%93%A4%EC%9D%84-%EC%97%AC%EB%9F%AC%EA%B0%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%86%93%EA%B3%A0-andthen---or-compose-%EB%A1%9C-%EC%A1%B0%ED%95%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>수식용 Function 들을 여러개 만들어놓고 .andThen( )  or .compose( )로 조합</h4>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">compose( )는 뒤에 람다부터</code> 계산</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">plus10</span> <span class="o">=</span> <span class="o">(</span><span class="n">number</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">10</span><span class="o">;</span>
<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">multiply3</span> <span class="o">=</span> <span class="o">(</span><span class="n">number</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">number</span> <span class="o">*</span> <span class="mi">3</span><span class="o">;</span>

<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">multiply3AndPlus10</span> <span class="o">=</span> <span class="n">plus10</span><span class="o">.</span><span class="na">compose</span><span class="o">(</span><span class="n">multiply3</span><span class="o">);</span> 
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">multiply3AndPlus10</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="mi">4</span><span class="o">));</span>  <span class="c1">// 결과 22</span>
        
        
<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">plus10AndMultiply3</span> <span class="o">=</span> <span class="n">plus10</span><span class="o">.</span><span class="na">andThen</span><span class="o">(</span><span class="n">multiply3</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">plus10AndMultiply3</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>  <span class="c1">// 결과 42</span>
</code></pre></div></div>


  </div><a class="u-url" href="/java/lambda/%ED%95%A8%EC%88%98%ED%98%95%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4/comparator/predicate/consumer/%EC%9A%B0%ED%85%8C%EC%BD%94/2022/03/27/%EB%9E%8C%EB%8B%A4%EB%A1%9C-%EB%A7%8C%EB%93%A0-%ED%95%A8%ED%98%95(%EB%A1%9C%EC%A7%81-%EB%84%98%EA%B8%B0%EA%B8%B0,-%EC%9C%A0%EC%9A%A9%ED%8C%A8%ED%84%B4).html" hidden></a>
</article>