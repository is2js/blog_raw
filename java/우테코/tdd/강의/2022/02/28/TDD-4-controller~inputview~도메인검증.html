<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>TDD 4 ìê²½(controller~view~ê²€ì¦) | ëŒë²”í…¤ë†‘</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="TDD 4 ìê²½(controller~view~ê²€ì¦)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="controller Viewì²˜ë¦¬+Serviceì—ì„œ ë„ë©”ì¸ê²€ì¦" />
<meta property="og:description" content="controller Viewì²˜ë¦¬+Serviceì—ì„œ ë„ë©”ì¸ê²€ì¦" />
<link rel="canonical" href="blog.chojaeseong.com/java/%EC%9A%B0%ED%85%8C%EC%BD%94/tdd/%EA%B0%95%EC%9D%98/2022/02/28/TDD-4-controller~inputview~%EB%8F%84%EB%A9%94%EC%9D%B8%EA%B2%80%EC%A6%9D.html" />
<meta property="og:url" content="blog.chojaeseong.com/java/%EC%9A%B0%ED%85%8C%EC%BD%94/tdd/%EA%B0%95%EC%9D%98/2022/02/28/TDD-4-controller~inputview~%EB%8F%84%EB%A9%94%EC%9D%B8%EA%B2%80%EC%A6%9D.html" />
<meta property="og:site_name" content="ëŒë²”í…¤ë†‘" />
<meta property="og:image" content="blog.chojaeseong.com/images/posts/wootech.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-28T00:00:00-06:00" />
<script type="application/ld+json">
{"datePublished":"2022-02-28T00:00:00-06:00","url":"blog.chojaeseong.com/java/%EC%9A%B0%ED%85%8C%EC%BD%94/tdd/%EA%B0%95%EC%9D%98/2022/02/28/TDD-4-controller~inputview~%EB%8F%84%EB%A9%94%EC%9D%B8%EA%B2%80%EC%A6%9D.html","@type":"BlogPosting","image":"blog.chojaeseong.com/images/posts/wootech.png","headline":"TDD 4 ìê²½(controller~view~ê²€ì¦)","dateModified":"2022-02-28T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"blog.chojaeseong.com/java/%EC%9A%B0%ED%85%8C%EC%BD%94/tdd/%EA%B0%95%EC%9D%98/2022/02/28/TDD-4-controller~inputview~%EB%8F%84%EB%A9%94%EC%9D%B8%EA%B2%80%EC%A6%9D.html"},"description":"controller Viewì²˜ë¦¬+Serviceì—ì„œ ë„ë©”ì¸ê²€ì¦","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- í°íŠ¸ì¶”ê°€ë¥¼ ìœ„í•œ linkíƒœê·¸ ì‚½ì… -->
  <!-- í°íŠ¸1:  ê¸°ë³¸ spoqa ì›¹í°íŠ¸ -->
  <!-- cssì—ì„œ * {} ë‹¤ ë’¤ì§‘ì–´ì”€. -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
  <!-- í°íŠ¸2:  ë¸”ë¡œê·¸ ì œëª©ë“¤ sunflower ì›¹í°íŠ¸ -->
  <!-- ì¥¬í”¼í„° ë“± í¬ìŠ¤íŠ¸ ë‚´ë¶€ ê¸€ì h1, h2 ì œëª©ì€ sunflowerì²´ ë„ì… -->
  <link href="//fonts.googleapis.com/css?family=Sunflower:300,500,700" rel="stylesheet"> 

  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="blog.chojaeseong.com/feed.xml" title="ëŒë²”í…¤ë†‘" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ëŒë²”í…¤ë†‘</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">TDD 4 ìê²½(controller~view~ê²€ì¦)</h1><p class="page-description">controller Viewì²˜ë¦¬+Serviceì—ì„œ ë„ë©”ì¸ê²€ì¦</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-02-28T00:00:00-06:00" itemprop="datePublished">
        Feb 28, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      9 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#java">java</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#ìš°í…Œì½”">ìš°í…Œì½”</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#TDD">TDD</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#ê°•ì˜">ê°•ì˜</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!-- tocê°€ ë¨¼ì € ë‚˜ì˜¤ë¯€ë¡œ h3ë¡œ ì•ˆë‚´í•˜ê¸° -->
    <h3>ğŸ“œ ì œëª©ìœ¼ë¡œ ë³´ê¸°</h3>
    <ul class="section-nav">
<li class="toc-entry toc-h3"><a href="#controllertest-for-ì»¨íŠ¸ë¡¤ëŸ¬ì™€-service-í˜•íƒœ-ê²°ì •">ControllerTest for ì»¨íŠ¸ë¡¤ëŸ¬ì™€ service í˜•íƒœ ê²°ì •</a>
<ul>
<li class="toc-entry toc-h4"><a href="#testcontrollerëŠ”-inputviewë¥¼-íŒŒë¼ë¯¸í„°ë¡œ-ë°›ëŠ”ë‹¤">(test)ControllerëŠ” InputViewë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ”ë‹¤.</a></li>
<li class="toc-entry toc-h4"><a href="#prodcontroller-ìƒì„±ì-ë‚´ë¶€-new-service-inputxx--ì´ˆê¸°í™”">(prod)Controller ìƒì„±ì ë‚´ë¶€ new Service( inputXX ) ì´ˆê¸°í™”</a>
<ul>
<li class="toc-entry toc-h5"><a href="#01-ëª¨ë“ -ì…ë ¥ì„-í•œë²ˆì—-ë‹¤---new-service-inputviewgetinputdto-">01 ëª¨ë“  ì…ë ¥ì„ í•œë²ˆì— ë‹¤ -&gt; new Service( InputView.getInputDto() )</a>
<ul>
<li class="toc-entry toc-h6"><a href="#01-1-inputdtoof-ê°œë³„getinput--ê°œë³„getinput-í˜•íƒœë¡œ-return">01-1 inputDto.of( ê°œë³„getInput() , ê°œë³„getInput()) í˜•íƒœë¡œ return</a></li>
<li class="toc-entry toc-h6"><a href="#01-2-inputdtoëŠ”-of-ì •í™ë§¤---ìƒì„±ì---ì›ì‹œê°’í•„ë“œ---getterìˆœìœ¼ë¡œ-ì •ì˜">01-2 InputDtoëŠ” of ì •í™ë§¤ -&gt; ìƒì„±ì -&gt; ì›ì‹œê°’í•„ë“œ -&gt; getterìˆœìœ¼ë¡œ ì •ì˜</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#02-ìˆœì°¨ì ì´ë¼ë©´-new-service-ì²«input----ë©”ì„œë“œíŒŒë¼ë¯¸í„°--ë‹´input-">02 ìˆœì°¨ì ì´ë¼ë©´ new Service( ì²«input ) -&gt; ë©”ì„œë“œíŒŒë¼ë¯¸í„° ( ë‹´input )</a>
<ul>
<li class="toc-entry toc-h5"><a href="#02-1-ì²«-ì…ë ¥ë§Œ-ì¼ë‹¨-ìƒì„±ìì—ì„œ-ê°œë³„inputìœ¼ë¡œ-ë°›ëŠ”ë‹¤">02-1 ì²« ì…ë ¥ë§Œ ì¼ë‹¨ ìƒì„±ìì—ì„œ ê°œë³„input()ìœ¼ë¡œ ë°›ëŠ”ë‹¤.</a></li>
<li class="toc-entry toc-h5"><a href="#02-2-ê°œë³„input-in-inputview-ì •ì˜">02-2 ê°œë³„input() in InputView ì •ì˜</a></li>
<li class="toc-entry toc-h5"><a href="#02-3-ê·¸ì—-ë”°ë¼-serviceì˜-ìƒì„±ì-ì •ì˜">02-3 ê·¸ì— ë”°ë¼ Serviceì˜ ìƒì„±ì ì •ì˜</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#03-inputview-ì½˜ì†”ì…ë ¥ê³µí†µê²€ì¦ë¶€í„°ì˜-í…ŒìŠ¤íŠ¸---new-controller--inputstreamnullë¶ˆê°€">03 inputView ì½˜ì†”ì…ë ¥(ê³µí†µê²€ì¦)ë¶€í„°ì˜ í…ŒìŠ¤íŠ¸ -&gt; new Controller + InputStream(nullë¶ˆê°€)</a>
<ul>
<li class="toc-entry toc-h5"><a href="#ì¬ê·€ì¶”ê°€ì‹œ-fail-ëœ¨ê²Œ-ë˜ë¯€ë¡œ-validí•œ-inputì„-ë‹¤ì‹œ-ë„£ì–´ë‘ì">ì¬ê·€ì¶”ê°€ì‹œ fail ëœ¨ê²Œ ë˜ë¯€ë¡œ validí•œ inputì„ ë‹¤ì‹œ ë„£ì–´ë‘ì.</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#04-nullë¥¼-ì§ì ‘í•˜ê³ -ì‹¶ë‹¤ë©´-ë°”ë¡œ-ë©”ì„œë“œ-ìœ í‹¸validatorschecknulloremtpy-ìì²´ë¥¼-í…ŒìŠ¤íŠ¸í•˜ì">04 nullë¥¼ ì§ì ‘í•˜ê³  ì‹¶ë‹¤ë©´ ë°”ë¡œ ë©”ì„œë“œ ìœ í‹¸Validators.checkNullorEmtpy ìì²´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ì.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#servicetest-again-for-ë„˜ì–´ì˜¨-ì •ì œëœinputìœ¼ë¡œ-ë„ë©”ì¸-ê²€ì¦">ServiceTest again for ë„˜ì–´ì˜¨ ì •ì œëœinputìœ¼ë¡œ ë„ë©”ì¸ ê²€ì¦</a>
<ul>
<li class="toc-entry toc-h4"><a href="#new-service---serviceë©”ì„œë“œì—ì„œ--ë°›ì•„ì£¼ëŠ”-input-ìˆœì„œëŒ€ë¡œ-ë„ë©”ì¸-ê²€ì¦í•˜ê¸°">new Service() -&gt; service.ë©”ì„œë“œ()ì—ì„œ  ë°›ì•„ì£¼ëŠ” input ìˆœì„œëŒ€ë¡œ ë„ë©”ì¸ ê²€ì¦í•˜ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#01-inputviewê°œë³„input-ìë¦¬ì—-valid-í…ŒìŠ¤íŠ¸-ë°ì´í„°-ì…ë ¥">01 inputView.ê°œë³„input() ìë¦¬ì— valid í…ŒìŠ¤íŠ¸ ë°ì´í„° ì…ë ¥</a></li>
<li class="toc-entry toc-h4"><a href="#02-invalidí•œ-í…ŒìŠ¤íŠ¸-ì‘ì„±í•˜ë©´ì„œ-ì˜ˆì™¸ë°œìƒí† ë¡-ë„ë©”ì¸-ê²€ì¦-ì‘ì„±">02 invalidí•œ í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ë©´ì„œ, ì˜ˆì™¸ë°œìƒí† ë¡ ë„ë©”ì¸ ê²€ì¦ ì‘ì„±</a></li>
<li class="toc-entry toc-h4"><a href="#03-ì»¤ìŠ¤í…€-ì˜ˆì™¸í´ë˜ìŠ¤-ë§Œë“¤ê¸°">03 ì»¤ìŠ¤í…€ ì˜ˆì™¸í´ë˜ìŠ¤ ë§Œë“¤ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#04-invalid-í…ŒìŠ¤íŠ¸">04 invalid í…ŒìŠ¤íŠ¸</a></li>
<li class="toc-entry toc-h4"><a href="#05-ê°œë³„inputì„œë¹„ìŠ¤ê°ì²´-ìƒì„±---ì¬ê·€ë©”ì„œë“œí™”-in-controllerìƒì„±ì">05 ê°œë³„input~ì„œë¹„ìŠ¤ê°ì²´ ìƒì„± -&gt; ì¬ê·€ë©”ì„œë“œí™” in Controllerìƒì„±ì</a>
<ul>
<li class="toc-entry toc-h5"><a href="#ì¬ê·€ë‹¬ë¦°ì´í›„-í…ŒìŠ¤íŠ¸-í‹€-ë§ìœ¼ë¡œ-êµ¬ì„±ëœ-sequenceinputstream">ì¬ê·€ë‹¬ë¦°ì´í›„ í…ŒìŠ¤íŠ¸: í‹€-&gt;ë§ìœ¼ë¡œ êµ¬ì„±ëœ SequenceInputStream</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#06-ë©”ì„œë“œ-íŒŒë¼ë¯¸í„°ë¡œ-ë“¤ì–´ì˜¤ëŠ”-ê°œë³„inputê³¼-ì´ë¯¸-ìƒì„±ë˜ì—ˆì„-serviceê°ì²´">06 ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¡œ ë“¤ì–´ì˜¤ëŠ” ê°œë³„inputê³¼ ì´ë¯¸ ìƒì„±[ë˜ì—ˆì„] serviceê°ì²´</a></li>
<li class="toc-entry toc-h4"><a href="#07-invalid-case---ë„ë©”ì¸-ê²€ì¦-ì¶”ê°€-ì‘ì—…-ë°˜ë³µ">07 invalid case -&gt; ë„ë©”ì¸ ê²€ì¦ ì¶”ê°€ ì‘ì—… ë°˜ë³µ</a></li>
<li class="toc-entry toc-h4"><a href="#08-ê°œë³„input-ì¬ê·€í™”---tddëŠ”-í•˜ì§€ë§ê²ƒ">08 ê°œë³„input ì¬ê·€í™” -&gt; TDDëŠ” í•˜ì§€ë§ê²ƒ</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#controllertest-ì¬ê·€-ì˜¬-ê°œë°œ-í›„-">ControllerTest (ì¬ê·€ ì˜¬ ê°œë°œ í›„ )</a>
<ul>
<li class="toc-entry toc-h4"><a href="#01-ì¬ê·€ì‘ì„±-ì™„ë£Œí›„-ê°œë³„input-all-ë§-ë§-ìœ¼ë¡œ-ì»¨íŠ¸ë¡¤ëŸ¬-ìƒì„±ì-í…ŒìŠ¤íŠ¸">01 ì¬ê·€ì‘ì„± ì™„ë£Œí›„ [ê°œë³„input ALL ë§-&gt;ë§ ]ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±ì í…ŒìŠ¤íŠ¸</a></li>
<li class="toc-entry toc-h4"><a href="#02-ì»¨íŠ¸ë¡¤ëŸ¬-ìƒì„±ìwithinput-ì „ì²´ë¥¼-ì…‹ì—…-ì˜¬ë¦¬ê³ ---controllerrun-new-ouputview-ê°œë°œ">02 ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±ìwithInput ì „ì²´ë¥¼ ì…‹ì—… ì˜¬ë¦¬ê³  -&gt; Controller.run (new OuputView()) ê°œë°œ</a></li>
<li class="toc-entry toc-h4"><a href="#03-controllerrunë‚´ë¶€ì—-serviceë¡œì§--ouputviewì²˜ë¦¬">03 controller.run()ë‚´ë¶€ì— serviceë¡œì§ + OuputViewì²˜ë¦¬</a></li>
<li class="toc-entry toc-h4"><a href="#04-outputview-ê²°ê³¼ë°›ì•„-ì¶œë ¥-ì‘ì„±-with--outputview-test">04 OutputView ê²°ê³¼ë°›ì•„ ì¶œë ¥ ì‘ì„± with  OutputView Test</a>
<ul>
<li class="toc-entry toc-h5"><a href="#setup">setup</a></li>
<li class="toc-entry toc-h5"><a href="#outputì—-ë“¤ì–´ê°ˆ-ê²°ê³¼dto-or-dtolistë¥¼-ë§Œë“¤ì–´ì„œ-outputì—-ë¿Œë ¤ì£¼ê¸°">outputì— ë“¤ì–´ê°ˆ ê²°ê³¼(dto or dtoList)ë¥¼ ë§Œë“¤ì–´ì„œ outputì— ë¿Œë ¤ì£¼ê¸°</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#applicationìœ¼ë¡œ-controllerrunnew-outputview-ì‹¤í–‰">Applicationìœ¼ë¡œ controller.run(new OutputView()) ì‹¤í–‰</a></li>
</ul><h3 id="controllertest-for-ì»¨íŠ¸ë¡¤ëŸ¬ì™€-service-í˜•íƒœ-ê²°ì •">
<a class="anchor" href="#controllertest-for-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC%EC%99%80-service-%ED%98%95%ED%83%9C-%EA%B2%B0%EC%A0%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>ControllerTest for ì»¨íŠ¸ë¡¤ëŸ¬ì™€ service í˜•íƒœ ê²°ì •</h3>

<h4 id="testcontrollerëŠ”-inputviewë¥¼-íŒŒë¼ë¯¸í„°ë¡œ-ë°›ëŠ”ë‹¤">
<a class="anchor" href="#testcontroller%EB%8A%94-inputview%EB%A5%BC-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0%EB%A1%9C-%EB%B0%9B%EB%8A%94%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>(test)ControllerëŠ” InputViewë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ”ë‹¤.</h4>

<ul>
  <li>Controller -&gt; <strong>ControllerTest</strong>ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">());</span>
</code></pre></div></div>

<h4 id="prodcontroller-ìƒì„±ì-ë‚´ë¶€-new-service-inputxx--ì´ˆê¸°í™”">
<a class="anchor" href="#prodcontroller-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%82%B4%EB%B6%80-new-service-inputxx--%EC%B4%88%EA%B8%B0%ED%99%94" aria-hidden="true"><span class="octicon octicon-link"></span></a>(prod)Controller ìƒì„±ì ë‚´ë¶€ new Service( inputXX ) ì´ˆê¸°í™”</h4>

<h5 id="01-ëª¨ë“ -ì…ë ¥ì„-í•œë²ˆì—-ë‹¤---new-service-inputviewgetinputdto-">
<a class="anchor" href="#01-%EB%AA%A8%EB%93%A0-%EC%9E%85%EB%A0%A5%EC%9D%84-%ED%95%9C%EB%B2%88%EC%97%90-%EB%8B%A4---new-service-inputviewgetinputdto-" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 ëª¨ë“  ì…ë ¥ì„ í•œë²ˆì— ë‹¤ -&gt; new Service( InputView.getInputDto() )</h5>

<ul>
  <li>ê°œë³„ try/catchëŠ” ì•ˆë  ê²ƒì´ë‹¤.
    <ul>
      <li>ì²˜ìŒë¶€í„° ì¬ì…ë ¥ë°›ëŠ” ë¡œì§ì´ í•„ìš”í•˜ë‹¤ë©´, ì—¬ê¸°ë¥¼ í•¨ìˆ˜í™”í•˜ê³  ì¬ê·€ ê±¸ì–´ì£¼ë©´ ë ë“¯</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nf">Controller</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputView</span> <span class="n">inputView</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//1-1. ì„œë¹„ìŠ¤ ìƒì„±ì‹œ inputViewì—ì„œ í•œêº¼ë²ˆì— inputDtoë¡œ ë°›ëŠ” ê²½ìš°</span>
    <span class="n">racingService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">inputView</span><span class="o">.</span><span class="na">getInputDto</span><span class="o">());</span>
</code></pre></div></div>

<h6 id="01-1-inputdtoof-ê°œë³„getinput--ê°œë³„getinput-í˜•íƒœë¡œ-return">
<a class="anchor" href="#01-1-inputdtoof-%EA%B0%9C%EB%B3%84getinput--%EA%B0%9C%EB%B3%84getinput-%ED%98%95%ED%83%9C%EB%A1%9C-return" aria-hidden="true"><span class="octicon octicon-link"></span></a>01-1 inputDto.of( ê°œë³„getInput() , ê°œë³„getInput()) í˜•íƒœë¡œ return</h6>

<ul>
  <li>
<strong>ê°œë³„inputì—ì„œëŠ”</strong>
    <ol>
      <li>ì¶œë ¥ë¬¸</li>
      <li>ê¸°ë³¸ scanner inputë°›ì•„ì„œ, <strong>ê³µí†µ <code class="language-plaintext highlighter-rouge">NullOrEmpty</code> + ìˆ«ìë©´<code class="language-plaintext highlighter-rouge">í¬ë§·</code></strong>
</li>
      <li>
<code class="language-plaintext highlighter-rouge">split(,-1)+trim</code> or <code class="language-plaintext highlighter-rouge">parseInt</code>ì˜ <strong><code class="language-plaintext highlighter-rouge">ì •ì œëœ í˜•ìœ¼ë¡œ ë³€í™˜</code></strong>
</li>
      <li>ì›ì‹œê°’ return</li>
    </ol>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">InputView</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Scanner</span> <span class="no">SCANNER</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>

    <span class="c1">//1-3. getINputDtoë‚´ë¶€ì—ì„œ ì‚¬ìš©ë  ê°œë³„ getXXXëŠ” getInput()ìŠ¤ìºë„ˆì— ì˜ì¡´í•œë‹¤.</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="nf">getInput</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="no">SCANNER</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">//1-2. ëª¨ë“  inputë“¤ì„ InputDto.ofì— ë„£ì–´ì„œ InputDtoë¡œ ë°˜í™˜í•´ì£¼ëŠ” ì‘ì—….</span>
    <span class="c1">// -&gt; dtoëŠ” ì¼ë‹¨ of(ëª¨ë“  ì†ì„±ë“¤ì„ ì›ì‹œê°’ìœ¼ë¡œ) ë°›ì•„ì„œ -&gt; new dto( ì›ì‹œê°’, ë“¤ë¡œ ìƒì„±)í•´ì•¼í•œë‹¤.</span>
    <span class="kd">public</span> <span class="nc">InputDto</span> <span class="nf">getInputDto</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">InputDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">getNames</span><span class="o">(),</span> <span class="n">getRound</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="c1">//1-4. ê°œë³„ getInputë“¤ì€ ì¶œë ¥ + ê³µí†µinputê²€ì¦(nullOrEmpty/format)ì´ ìƒì„±ëœë‹¤.</span>
    <span class="c1">// ê°œë³„ getInputë“¤ì€ 4ë‹¨ê³„ê°€ ìˆë‹¤ê³  í–ˆë‹¤ (1)ì¶œë ¥ (2) nullOrEmypy ê²€ì¦ (3) formatê²€ì¦í›„convert or split+trim ë³€í™˜ (4) return</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getNames</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"</span><span class="o">);</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">input</span> <span class="o">=</span> <span class="n">getInput</span><span class="o">();</span>
        <span class="nc">Validators</span><span class="o">.</span><span class="na">checkNullOrEmpty</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
        <span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="n">input</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">String:</span><span class="o">:</span><span class="n">trim</span><span class="o">)</span>
            <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getRound</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ëª‡ íšŒ ì§„í–‰í•˜ê² ìŠµë‹ˆê¹Œ?"</span><span class="o">);</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">input</span> <span class="o">=</span> <span class="n">getInput</span><span class="o">();</span>
        <span class="nc">Validators</span><span class="o">.</span><span class="na">checkNullOrEmpty</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
        <span class="nc">Validators</span><span class="o">.</span><span class="na">checkValidFormat</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
        <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h6 id="01-2-inputdtoëŠ”-of-ì •í™ë§¤---ìƒì„±ì---ì›ì‹œê°’í•„ë“œ---getterìˆœìœ¼ë¡œ-ì •ì˜">
<a class="anchor" href="#01-2-inputdto%EB%8A%94-of-%EC%A0%95%ED%8E%99%EB%A7%A4---%EC%83%9D%EC%84%B1%EC%9E%90---%EC%9B%90%EC%8B%9C%EA%B0%92%ED%95%84%EB%93%9C---getter%EC%88%9C%EC%9C%BC%EB%A1%9C-%EC%A0%95%EC%9D%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>01-2 InputDtoëŠ” of ì •í™ë§¤ -&gt; ìƒì„±ì -&gt; ì›ì‹œê°’í•„ë“œ -&gt; getterìˆœìœ¼ë¡œ ì •ì˜</h6>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">InputDto</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">InputDto</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">names</span> <span class="o">=</span> <span class="n">names</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">round</span> <span class="o">=</span> <span class="n">round</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//1-5. ofì—ì„œ ê°œë³„inputë‹¤ ë°›ì•˜ìœ¼ë©´, ê·¸ê±¸ë¡œ newìƒì„±ì -&gt; í•„ë“œ -&gt; getterê¹Œì§€ ë‹¤ ë§Œë“ ë‹¤.</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">InputDto</span> <span class="nf">of</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">InputDto</span><span class="o">(</span><span class="n">names</span><span class="o">,</span> <span class="n">round</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getNames</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">names</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getRound</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">round</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="02-ìˆœì°¨ì ì´ë¼ë©´-new-service-ì²«input----ë©”ì„œë“œíŒŒë¼ë¯¸í„°--ë‹´input-">
<a class="anchor" href="#02-%EC%88%9C%EC%B0%A8%EC%A0%81%EC%9D%B4%EB%9D%BC%EB%A9%B4-new-service-%EC%B2%ABinput----%EB%A9%94%EC%84%9C%EB%93%9C%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0--%EB%8B%B4input-" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 ìˆœì°¨ì ì´ë¼ë©´ new Service( ì²«input ) -&gt; ë©”ì„œë“œíŒŒë¼ë¯¸í„° ( ë‹´input )</h4>

<ul>
  <li>setterê¸ˆì§€ë ¹ìœ¼ë¡œ ì¸í•´ -&gt; ë©”ì¸ë¡œì§ì— í•„ìš”í•œ ë°ì´í„°ëŠ” ìƒì„±ìì—ì„œ ê°ì²´ ìƒì„±ì‹œ ë°›ì•„ -&gt;  ì¸ë³€ì— ë„£ì–´ì¤˜ì•¼í•œë‹¤.
    <ul>
      <li>ControllerëŠ” serviceë¥¼ ê´€ë¦¬í•˜ê³  ìˆìœ¼ë©°, ìƒì„±ì‹œservice ì´ˆê¸°í™”í•´ì¤˜ì•¼í•œë‹¤.
        <ul>
          <li>ê·¸ service ì´ˆê¸°í™”ì‹œ ë°›ì„ input -&gt; ì¢€ìˆë‹¤ê°€ ë°›ì„ inputì´ ë”°ë¡œ ìˆëŠ” ê²½ìš°</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h5 id="02-1-ì²«-ì…ë ¥ë§Œ-ì¼ë‹¨-ìƒì„±ìì—ì„œ-ê°œë³„inputìœ¼ë¡œ-ë°›ëŠ”ë‹¤">
<a class="anchor" href="#02-1-%EC%B2%AB-%EC%9E%85%EB%A0%A5%EB%A7%8C-%EC%9D%BC%EB%8B%A8-%EC%83%9D%EC%84%B1%EC%9E%90%EC%97%90%EC%84%9C-%EA%B0%9C%EB%B3%84input%EC%9C%BC%EB%A1%9C-%EB%B0%9B%EB%8A%94%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>02-1 ì²« ì…ë ¥ë§Œ ì¼ë‹¨ ìƒì„±ìì—ì„œ ê°œë³„input()ìœ¼ë¡œ ë°›ëŠ”ë‹¤.</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nf">Controller</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputView</span> <span class="n">inputView</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// ì²« ì…ë ¥ë§Œ ì¼ë‹¨ ìƒì„±ìì—ì„œ ê°œë³„input()ìœ¼ë¡œ ë°›ëŠ”ë‹¤.</span>
	<span class="n">racingService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">inputView</span><span class="o">.</span><span class="na">getNames</span><span class="o">());</span>
</code></pre></div></div>

<h5 id="02-2-ê°œë³„input-in-inputview-ì •ì˜">
<a class="anchor" href="#02-2-%EA%B0%9C%EB%B3%84input-in-inputview-%EC%A0%95%EC%9D%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>02-2 ê°œë³„input() in InputView ì •ì˜</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getNames</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">String</span> <span class="n">input</span> <span class="o">=</span> <span class="n">getInput</span><span class="o">();</span>
    <span class="nc">Validators</span><span class="o">.</span><span class="na">checkNullOrEmpty</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
    <span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="n">input</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">))</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">String:</span><span class="o">:</span><span class="n">trim</span><span class="o">)</span>
        <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="02-3-ê·¸ì—-ë”°ë¼-serviceì˜-ìƒì„±ì-ì •ì˜">
<a class="anchor" href="#02-3-%EA%B7%B8%EC%97%90-%EB%94%B0%EB%9D%BC-service%EC%9D%98-%EC%83%9D%EC%84%B1%EC%9E%90-%EC%A0%95%EC%9D%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>02-3 ê·¸ì— ë”°ë¼ Serviceì˜ ìƒì„±ì ì •ì˜</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nf">RacingService</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">carNames</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">cars</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Cars</span><span class="o">(</span><span class="n">carNames</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ì›ë˜ service ìƒì„±ìëŠ”.. ì¼ê¸‰ ë° VO ê°œë°œì‹œ, ë‹¤ ë°›ì•„ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì •í–ˆì—ˆë‹¤. ì—¬ê¸°ì— ì¶”ê°€í•´ì¤€ë‹¤.</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nf">RacingService</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">carNames</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">cars</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Cars</span><span class="o">(</span><span class="n">carNames</span><span class="o">);</span>
      <span class="k">this</span><span class="o">.</span><span class="na">round</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Round</span><span class="o">(</span><span class="n">round</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="03-inputview-ì½˜ì†”ì…ë ¥ê³µí†µê²€ì¦ë¶€í„°ì˜-í…ŒìŠ¤íŠ¸---new-controller--inputstreamnullë¶ˆê°€">
<a class="anchor" href="#03-inputview-%EC%BD%98%EC%86%94%EC%9E%85%EB%A0%A5%EA%B3%B5%ED%86%B5%EA%B2%80%EC%A6%9D%EB%B6%80%ED%84%B0%EC%9D%98-%ED%85%8C%EC%8A%A4%ED%8A%B8---new-controller--inputstreamnull%EB%B6%88%EA%B0%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 inputView ì½˜ì†”ì…ë ¥(ê³µí†µê²€ì¦)ë¶€í„°ì˜ í…ŒìŠ¤íŠ¸ -&gt; new Controller + InputStream(nullë¶ˆê°€)</h4>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">new Controller( new InputView )</code>ë¥¼ ë˜ì§€ë©´</p>

    <ul>
      <li>Controllerìƒì„±ìì—ì„œ inputView.ì½˜ì†”input() ì´ í˜¸ì¶œëœë‹¤.</li>
      <li>ì—¬ëŸ¬ê°œ ê°œë³„input()ì´ í¬í•¨ë˜ì–´ìˆë‹¤ë©´, ê·¸ë§Œí¼ <code class="language-plaintext highlighter-rouge">SequenceInputStream</code>ì„ ë˜ì ¸ì•¼í•œë‹¤.</li>
    </ul>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="c1">// 1. ì½˜ì†”ì˜ ê°œë³„input()í˜¸ì¶œ -&gt; ê³µí†µ ê²€ì¦</span>
  <span class="kd">public</span> <span class="nf">Controller</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputView</span> <span class="n">inputView</span><span class="o">)</span> <span class="o">{</span>
  	<span class="n">racingService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">inputView</span><span class="o">.</span><span class="na">getNames</span><span class="o">());</span>
        
  <span class="c1">// 2.ì •ì œëœ inputìœ¼ë¡œ -&gt; ë„ë©”ì¸ìƒì„± -&gt; ë‚´ë¶€ì—ì„œ ë„ë©”ì¸ ê²€ì¦</span>
  <span class="kd">public</span> <span class="nf">RacingService</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">carNames</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">cars</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Cars</span><span class="o">(</span><span class="n">carNames</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>**í…ŒìŠ¤íŠ¸ëŠ” inpustreamì— <code class="language-plaintext highlighter-rouge">nullì€ ë„£ì§€ëª»í•˜ë¯€ë¡œ ""ë¹ˆì¹¸ë§Œ</code> í…ŒìŠ¤íŠ¸í•œë‹¤. **</p>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">ì „ì²´ ë‹¤ ë§ëŠ” ê²ƒ + ê°œë³„input ê°¯ìˆ˜ë§Œí¼ sequence</code>ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼í•˜ë¯€ë¡œ  ëë‚˜ë©´ <code class="language-plaintext highlighter-rouge">ê°€ì¥ ë§ˆì§€ë§‰ì— í…ŒìŠ¤íŠ¸í•  ì˜ˆì •</code>ìœ¼ë¡œ ë°”ê¾¼ë‹¤.</strong></li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">controller_input_test</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
    <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>

    <span class="nc">System</span><span class="o">.</span><span class="na">setIn</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>

    <span class="n">assertThatThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">()))</span>
        <span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">hasMessageContaining</span><span class="o">(</span><span class="s">"ë¹ˆì¹¸"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="ì¬ê·€ì¶”ê°€ì‹œ-fail-ëœ¨ê²Œ-ë˜ë¯€ë¡œ-validí•œ-inputì„-ë‹¤ì‹œ-ë„£ì–´ë‘ì">
<a class="anchor" href="#%EC%9E%AC%EA%B7%80%EC%B6%94%EA%B0%80%EC%8B%9C-fail-%EB%9C%A8%EA%B2%8C-%EB%90%98%EB%AF%80%EB%A1%9C-valid%ED%95%9C-input%EC%9D%84-%EB%8B%A4%EC%8B%9C-%EB%84%A3%EC%96%B4%EB%91%90%EC%9E%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì¬ê·€ì¶”ê°€ì‹œ fail ëœ¨ê²Œ ë˜ë¯€ë¡œ validí•œ inputì„ ë‹¤ì‹œ ë„£ì–´ë‘ì.</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">input_null_or_empty_test</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument1</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span> <span class="c1">// í‹€</span>
    <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument2</span> <span class="o">=</span> <span class="s">"ì¬ì„±, ì¬ê²½"</span><span class="o">;</span> <span class="c1">// ë§ì•„ì„œ ì¬ê·€ í†µê³¼</span>
    <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument1</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>
    <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument2</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>

    <span class="kd">final</span> <span class="nc">SequenceInputStream</span> <span class="n">sequenceInputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SequenceInputStream</span><span class="o">(</span><span class="n">input1</span><span class="o">,</span> <span class="n">input2</span><span class="o">);</span>

    <span class="nc">System</span><span class="o">.</span><span class="na">setIn</span><span class="o">(</span><span class="n">sequenceInputStream</span><span class="o">);</span>

    <span class="n">assertThatThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">())).</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">hasMessageContaining</span><span class="o">(</span><span class="s">"ë¹ˆì¹¸"</span><span class="o">);</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="04-nullë¥¼-ì§ì ‘í•˜ê³ -ì‹¶ë‹¤ë©´-ë°”ë¡œ-ë©”ì„œë“œ-ìœ í‹¸validatorschecknulloremtpy-ìì²´ë¥¼-í…ŒìŠ¤íŠ¸í•˜ì">
<a class="anchor" href="#04-null%EB%A5%BC-%EC%A7%81%EC%A0%91%ED%95%98%EA%B3%A0-%EC%8B%B6%EB%8B%A4%EB%A9%B4-%EB%B0%94%EB%A1%9C-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9C%A0%ED%8B%B8validatorschecknulloremtpy-%EC%9E%90%EC%B2%B4%EB%A5%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EC%9E%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>04 nullë¥¼ ì§ì ‘í•˜ê³  ì‹¶ë‹¤ë©´ ë°”ë¡œ ë©”ì„œë“œ ìœ í‹¸Validators.checkNullorEmtpy ìì²´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ì.</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">input_null_or_empty_in_validator</span><span class="o">()</span> <span class="o">{</span>

    <span class="n">assertThatThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">Validators</span><span class="o">.</span><span class="na">checkNullOrEmpty</span><span class="o">(</span><span class="kc">null</span><span class="o">))</span>
        <span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">hasMessageContaining</span><span class="o">(</span><span class="s">"ë¹ˆì¹¸"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="servicetest-again-for-ë„˜ì–´ì˜¨-ì •ì œëœinputìœ¼ë¡œ-ë„ë©”ì¸-ê²€ì¦">
<a class="anchor" href="#servicetest-again-for-%EB%84%98%EC%96%B4%EC%98%A8-%EC%A0%95%EC%A0%9C%EB%90%9Cinput%EC%9C%BC%EB%A1%9C-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B2%80%EC%A6%9D" aria-hidden="true"><span class="octicon octicon-link"></span></a>ServiceTest again for ë„˜ì–´ì˜¨ ì •ì œëœinputìœ¼ë¡œ ë„ë©”ì¸ ê²€ì¦</h3>

<ul>
  <li>
    <p><strong>ë„ë©”ì¸ ê²€ì¦</strong>ì€ controller ìƒì„±ìì—ì„œ  <strong><code class="language-plaintext highlighter-rouge">inpuView.ê°œë³„input()</code>ì—ì„œ ê±´ë„ˆì˜¤ëŠ” <code class="language-plaintext highlighter-rouge">ì •ì œëœ input</code>ì„ ë°›ì•„ <code class="language-plaintext highlighter-rouge">ê´€ë¦¬ ë„ë©”ì¸</code>ìœ¼ë¡œ ë„£ì–´ì£¼ëŠ” <code class="language-plaintext highlighter-rouge">Service ìƒì„±ì</code>ì—ì„œ í•œë‹¤</strong></p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="c1">//controller</span>
  <span class="n">racingService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">inputView</span><span class="o">.</span><span class="na">getNames</span><span class="o">());</span>
    
  <span class="c1">//service</span>
  <span class="kd">public</span> <span class="nf">RacingService</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">carNames</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">cars</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Cars</span><span class="o">(</span><span class="n">carNames</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="new-service---serviceë©”ì„œë“œì—ì„œ--ë°›ì•„ì£¼ëŠ”-input-ìˆœì„œëŒ€ë¡œ-ë„ë©”ì¸-ê²€ì¦í•˜ê¸°">
<a class="anchor" href="#new-service---service%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90%EC%84%9C--%EB%B0%9B%EC%95%84%EC%A3%BC%EB%8A%94-input-%EC%88%9C%EC%84%9C%EB%8C%80%EB%A1%9C-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>new Service() -&gt; service.ë©”ì„œë“œ()ì—ì„œ  ë°›ì•„ì£¼ëŠ” input ìˆœì„œëŒ€ë¡œ ë„ë©”ì¸ ê²€ì¦í•˜ê¸°</h4>

<ul>
  <li>
<strong><code class="language-plaintext highlighter-rouge">new Service(  inputView.ê°œë³„input() )</code>ì„ í˜¸ì¶œ</strong>í•˜ë©´ì„œ
    <ul>
      <li>ë‚´ë¶€ `  this.cars = new Cars(carNames);` <strong>ë„ë©”ì¸ ìƒì„±ì í˜¸ì¶œ</strong>ë˜ë¯€ë¡œ,</li>
      <li>
<code class="language-plaintext highlighter-rouge">inputView.ê°œë³„input() </code> ìë¦¬ì— <strong>ì›í•˜ëŠ” ì¸ìë¡œ í…ŒìŠ¤íŠ¸</strong>í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<h4 id="01-inputviewê°œë³„input-ìë¦¬ì—-valid-í…ŒìŠ¤íŠ¸-ë°ì´í„°-ì…ë ¥">
<a class="anchor" href="#01-inputview%EA%B0%9C%EB%B3%84input-%EC%9E%90%EB%A6%AC%EC%97%90-valid-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9E%85%EB%A0%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 inputView.ê°œë³„input() ìë¦¬ì— valid í…ŒìŠ¤íŠ¸ ë°ì´í„° ì…ë ¥</h4>

<ul>
  <li>
    <p><strong>ServiceTestì—ì„œ <code class="language-plaintext highlighter-rouge">inputView.ê°œë³„input()ì„ ë°›ëŠ” ê³³</code>ì„ í˜¸ì¶œí•˜ë˜, <code class="language-plaintext highlighter-rouge">ê°’ë§Œ ì„ì˜</code>ë¡œ ë„£ì–´ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤.</strong></p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">valid_domain1_input_check</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">//new RacingService(inputView.getNames())</span>
      <span class="c1">//this.cars = new Cars(carNames);</span>
    
      <span class="c1">//given</span>
      <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="s">"ì¬ê²½"</span><span class="o">);</span>
    
      <span class="c1">//when,then</span>
      <span class="n">assertDoesNotThrow</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">names</span><span class="o">));</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="02-invalidí•œ-í…ŒìŠ¤íŠ¸-ì‘ì„±í•˜ë©´ì„œ-ì˜ˆì™¸ë°œìƒí† ë¡-ë„ë©”ì¸-ê²€ì¦-ì‘ì„±">
<a class="anchor" href="#02-invalid%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%9E%91%EC%84%B1%ED%95%98%EB%A9%B4%EC%84%9C-%EC%98%88%EC%99%B8%EB%B0%9C%EC%83%9D%ED%86%A0%EB%A1%9D-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B2%80%EC%A6%9D-%EC%9E%91%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 invalidí•œ í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ë©´ì„œ, ì˜ˆì™¸ë°œìƒí† ë¡ ë„ë©”ì¸ ê²€ì¦ ì‘ì„±</h4>

<ul>
  <li>
    <p>**invalidí•œ ê²½ìš°ë¶€í„°ëŠ” <code class="language-plaintext highlighter-rouge">ë„ë©”ì¸ ê²€ì¦</code>ì„ ë§Œë“¤ê³ , ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œì•¼í•œë‹¤. **</p>
  </li>
  <li>
    <p>ë„ë©”ì¸ ë§Œì˜ ê²€ì¦ì„ ì¶”ê°€í•œë‹¤.</p>

    <ul>
      <li>ë³µìˆ˜/ì¼ê¸‰ì´ë¼ë©´ ë³µìˆ˜ì— ëŒ€í•œ ê²ƒë§Œ ì¶”ê°€í•œë‹¤.</li>
      <li>
<strong>validate( ì •ì œinput )</strong> -&gt; ëª¨ë“  ê²€ì¦ ë‚˜ì—´í•˜ê³  ë‚˜ì¤‘ì—, ë©”ì„œë“œ ì¶”ì¶œí•˜ê¸°</li>
    </ul>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nf">Cars</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 2-5-2.  ê°œë³„ ë„ë©”ì¸ ê²€ì¦ ë©”ì„œë“œ ìƒì„±</span>
      <span class="n">validate</span><span class="o">(</span><span class="n">names</span><span class="o">);</span>
      <span class="k">this</span><span class="o">.</span><span class="na">cars</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
          <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">name</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Car</span><span class="o">(</span><span class="n">name</span><span class="o">))</span>
          <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
  <span class="o">}</span>
    
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">validate</span><span class="o">(</span><span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">)</span> <span class="o">{</span>
      <span class="kt">long</span> <span class="n">distinctCountOfNames</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">distinct</span><span class="o">().</span><span class="na">count</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">distinctCountOfNames</span> <span class="o">!=</span> <span class="n">names</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
          <span class="c1">//2-5-3. thr ì´í›„ í•´ë‹¹ ì—ì™¸í´ë˜ìŠ¤() ìƒì„± -&gt; í•„ìš” ì˜ˆì™¸ ìƒì†í›„ ìƒì„±ìë§Œ ë©”ì„¸ì§€ íŒŒë¼ë¯¸í„° ì—†ì´ ì •ì˜ -&gt; ë‚´ë¶€ì—ì„œ super("message")</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"ì¤‘ë³µê°’ì„ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."</span><span class="o">);</span>
          <span class="c1">//throw new DuplicateNameException();</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="03-ì»¤ìŠ¤í…€-ì˜ˆì™¸í´ë˜ìŠ¤-ë§Œë“¤ê¸°">
<a class="anchor" href="#03-%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%98%88%EC%99%B8%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 ì»¤ìŠ¤í…€ ì˜ˆì™¸í´ë˜ìŠ¤ ë§Œë“¤ê¸°</h4>

<ul>
  <li>
    <p>thrw new ë‹¤ìŒì— ë°œìƒì‹œí‚¬ ì—ëŸ¬ì— <code class="language-plaintext highlighter-rouge">ì˜ˆì™¸ í´ë˜ìŠ¤</code>ë¥¼ ëª…ì‹œí•˜ê³ </p>

    <ul>
      <li>ìƒì†í•  ê¸°ì¡´ ì˜ˆì™¸í´ë˜ìŠ¤ë¥¼ <code class="language-plaintext highlighter-rouge">extends</code>í•œ ë’¤</li>
      <li><strong>ë¶€ëª¨ì˜ˆì™¸í´ë˜ìŠ¤ì—ì„œ í•„ìš”í–ˆë˜ íŒŒë¼ë¯¸í„°ë¥¼ <code class="language-plaintext highlighter-rouge">ìƒì„±ì</code>ë¡œ ë°›ë“ ì§€ or <code class="language-plaintext highlighter-rouge">ë‚´ë¶€ì—ì„œ ì œê³µí•  ê²ƒìœ¼ë¡œ, íŒŒë¼ë¯¸í„° ì—†ëŠ” ìƒì„±ì</code>ë¥¼ ì •ì˜í•´ì£¼ê³ </strong></li>
      <li>ë¶€ëª¨ ìƒì„±ìë¥¼ ê·¸ëŒ€ë¡œ ë¹Œë ¤ <code class="language-plaintext highlighter-rouge">super()</code> ë‚´ë¶€ì—ì„œ <code class="language-plaintext highlighter-rouge">ë¶€ëª¨ê°€ í•„ìš”í–ˆë˜ ìƒìˆ˜ë¥¼  ìƒì„±ì ë‚´ë¶€ì—ì„œ ì •ì˜</code>í•´ì£¼ì.</li>
    </ul>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">NameDuplicatedException</span> <span class="kd">extends</span> <span class="nc">IllegalArgumentException</span> <span class="o">{</span>
      <span class="kd">public</span> <span class="nf">NameDuplicatedException</span><span class="o">()</span> <span class="o">{</span>
          <span class="kd">super</span><span class="o">(</span><span class="s">"ì´ë¦„ì´ ì¤‘ë³µë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."</span><span class="o">);</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="04-invalid-í…ŒìŠ¤íŠ¸">
<a class="anchor" href="#04-invalid-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>04 invalid í…ŒìŠ¤íŠ¸</h4>

<ul>
  <li>valid: <code class="language-plaintext highlighter-rouge">ì˜¬ë°”ë¥¸_ë„ë©”ì¸ì´_ë“¤ì–´ì˜¬_ê²½ìš°ë¥¼_í™•ì¸í•œë‹¤</code>
</li>
  <li>invalid: <code class="language-plaintext highlighter-rouge">ë„ë©”ì¸ì´_ì¤‘ë³µëœ_ê²½ìš°_ì˜ˆì™¸ë¥¼_ë°œìƒì‹œí‚¨ë‹¤</code>
</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">invalid_domain2_input_exception_check</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//given</span>
    <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="s">"ì¬ì„±"</span><span class="o">);</span>

    <span class="c1">//when,then</span>
    <span class="n">assertThatThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">names</span><span class="o">))</span>
        <span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">NameDuplicatedException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">hasMessageContaining</span><span class="o">(</span><span class="s">"ì¤‘ë³µ"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="05-ê°œë³„inputì„œë¹„ìŠ¤ê°ì²´-ìƒì„±---ì¬ê·€ë©”ì„œë“œí™”-in-controllerìƒì„±ì">
<a class="anchor" href="#05-%EA%B0%9C%EB%B3%84input%EC%84%9C%EB%B9%84%EC%8A%A4%EA%B0%9D%EC%B2%B4-%EC%83%9D%EC%84%B1---%EC%9E%AC%EA%B7%80%EB%A9%94%EC%84%9C%EB%93%9C%ED%99%94-in-controller%EC%83%9D%EC%84%B1%EC%9E%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>05 ê°œë³„input~ì„œë¹„ìŠ¤ê°ì²´ ìƒì„± -&gt; ì¬ê·€ë©”ì„œë“œí™” in Controllerìƒì„±ì</h4>

<ul>
  <li>
    <p>ì—ëŸ¬ì‹œ ì¬ì…ë ¥ ë°›ê²Œ í•˜ê¸° ìœ„í•¨.</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nf">Controller</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputView</span> <span class="n">inputView</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">//racingService = new RacingService(inputView.getNames());</span>
          <span class="n">getNames</span><span class="o">(</span><span class="n">inputView</span><span class="o">);</span>
  <span class="o">}</span>
    
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">getNames</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputView</span> <span class="n">inputView</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
          <span class="n">racingService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">inputView</span><span class="o">.</span><span class="na">getNames</span><span class="o">());</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"[ERROR] "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
          <span class="n">getNames</span><span class="o">(</span><span class="n">inputView</span><span class="o">);</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h5 id="ì¬ê·€ë‹¬ë¦°ì´í›„-í…ŒìŠ¤íŠ¸-í‹€-ë§ìœ¼ë¡œ-êµ¬ì„±ëœ-sequenceinputstream">
<a class="anchor" href="#%EC%9E%AC%EA%B7%80%EB%8B%AC%EB%A6%B0%EC%9D%B4%ED%9B%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%8B%80-%EB%A7%9E%EC%9C%BC%EB%A1%9C-%EA%B5%AC%EC%84%B1%EB%90%9C-sequenceinputstream" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì¬ê·€ë‹¬ë¦°ì´í›„ í…ŒìŠ¤íŠ¸: í‹€-&gt;ë§ìœ¼ë¡œ êµ¬ì„±ëœ SequenceInputStream</h5>

<ul>
  <li>
    <p>ì¬ê·€ ë‹¬ë¦° ìˆœê°„ë¶€í„° SequenceInputStreamì•„ë‹ˆì–´ì„œ, 1ë²ˆ í‹€ë¦¬ë©´ ControllerTest ì•ˆëë‚¨.</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">input_null_or_empty_test</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">//        final String argument = "";</span>
      <span class="c1">//        final InputStream input = new ByteArrayInputStream((argument + "\n").getBytes());</span>
      <span class="c1">//</span>
      <span class="c1">//        System.setIn(input);</span>
      <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument1</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span> <span class="c1">// í‹€</span>
      <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument2</span> <span class="o">=</span> <span class="s">"ì¬ì„±, ì¬ê²½"</span><span class="o">;</span> <span class="c1">// ë§ì•„ì„œ ì¬ê·€ í†µê³¼</span>
      <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument1</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>
      <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument2</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>
    
      <span class="kd">final</span> <span class="nc">SequenceInputStream</span> <span class="n">sequenceInputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SequenceInputStream</span><span class="o">(</span><span class="n">input1</span><span class="o">,</span> <span class="n">input2</span><span class="o">);</span>
    
      <span class="nc">System</span><span class="o">.</span><span class="na">setIn</span><span class="o">(</span><span class="n">sequenceInputStream</span><span class="o">);</span>
    
      <span class="n">assertThatThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">())).</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
          <span class="o">.</span><span class="na">hasMessageContaining</span><span class="o">(</span><span class="s">"ë¹ˆì¹¸"</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>ë¬¸ì œëŠ”.. ì¶”ê°€ë˜ëŠ” ì¬ê·€input -&gt; ê¸°ì¡´êº¼ ê³„ì† Sequnece ì´ì–´ì ¸ì•¼í•¨ -&gt; ì¬ê·€ëŠ” ê°€ì¥ ë‚˜ì¤‘ì— ë‹¬ë˜ê°€ [TDDëŠ” í•˜ì§€ë§ì.]</strong></p>
  </li>
</ul>

<h4 id="06-ë©”ì„œë“œ-íŒŒë¼ë¯¸í„°ë¡œ-ë“¤ì–´ì˜¤ëŠ”-ê°œë³„inputê³¼-ì´ë¯¸-ìƒì„±ë˜ì—ˆì„-serviceê°ì²´">
<a class="anchor" href="#06-%EB%A9%94%EC%84%9C%EB%93%9C-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0%EB%A1%9C-%EB%93%A4%EC%96%B4%EC%98%A4%EB%8A%94-%EA%B0%9C%EB%B3%84input%EA%B3%BC-%EC%9D%B4%EB%AF%B8-%EC%83%9D%EC%84%B1%EB%90%98%EC%97%88%EC%9D%84-service%EA%B0%9D%EC%B2%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>06 ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¡œ ë“¤ì–´ì˜¤ëŠ” ê°œë³„inputê³¼ ì´ë¯¸ ìƒì„±[ë˜ì—ˆì„] serviceê°ì²´</h4>

<ol>
  <li>
    <p>ì´ë¯¸ controllerìƒì„±ì ìœ„ìª½ì—ì„œ, ì„œë¹„ìŠ¤ ìƒì„±ê³¼ ë™ì‹œì— ë°›ì•„ì£¼ëŠ” inputìœ¼ë¡œ <strong><code class="language-plaintext highlighter-rouge">serviceê°ì²´</code>ë¥¼ ìƒì„±í•œ ìƒíƒœì´ë¯€ë¡œ, <code class="language-plaintext highlighter-rouge">validí•œ ì•ìª½ ê°œë³„inputì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ì£¼ê³ , serviceê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ</code> í…ŒìŠ¤íŠ¸í•´ì¤˜ì•¼í•  ë“¯ ì‹¶ë‹¤.</strong></p>

    <ul>
      <li>
        <p><strong>ë¨¼ì € ê°œë°œëœ <code class="language-plaintext highlighter-rouge">valid_domain1_input</code>ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">serviceê°ì²´ë¥¼ ë¨¼ì € ë§Œë“¤</code>ë©´ì„œ <code class="language-plaintext highlighter-rouge">ë©”ì„œë“œ + domain2_input</code></strong>ì„ ë„£ì–´ì£¼ë„ë¡ í•œë‹¤.</p>
      </li>
      <li>
        <p><strong>ê·¸ë˜ì•¼ ë©”ì„œë“œ(<code class="language-plaintext highlighter-rouge">initDomain2()</code>) ê°œë°œì´ ëœë‹¤.</strong></p>
      </li>
    </ul>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nd">@Test</span>
 <span class="kt">void</span> <span class="nf">valid_domain2_input_check</span><span class="o">()</span> <span class="o">{</span>
     <span class="c1">//given</span>
     <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">validNames</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="s">"ì¬ê²½"</span><span class="o">);</span>
     <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
    
     <span class="c1">//when,then</span>
     <span class="n">assertDoesNotThrow</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">validNames</span><span class="o">).</span><span class="na">initiateRound</span><span class="o">(</span><span class="n">round</span><span class="o">))</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>serviceì˜ ìƒì„±ìì—ì„œ ëª»ë°›ì€ ê°œë³„inputì„, serviceê´€ë¦¬ ì¸ë³€ì— ë„£ì–´ì£¼ì.</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initiateRound</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">this</span><span class="o">.</span><span class="na">round</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Round</span><span class="o">(</span><span class="n">round</span><span class="o">);</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="07-invalid-case---ë„ë©”ì¸-ê²€ì¦-ì¶”ê°€-ì‘ì—…-ë°˜ë³µ">
<a class="anchor" href="#07-invalid-case---%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B2%80%EC%A6%9D-%EC%B6%94%EA%B0%80-%EC%9E%91%EC%97%85-%EB%B0%98%EB%B3%B5" aria-hidden="true"><span class="octicon octicon-link"></span></a>07 invalid case -&gt; ë„ë©”ì¸ ê²€ì¦ ì¶”ê°€ ì‘ì—… ë°˜ë³µ</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">invalid_domain2_input_range_exception</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//given</span>
    <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">validNames</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="s">"ì¬ê²½"</span><span class="o">);</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">round</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>

    <span class="c1">//when,then</span>
    <span class="n">assertThatThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">RacingService</span><span class="o">(</span><span class="n">validNames</span><span class="o">).</span><span class="na">initiateRound</span><span class="o">(</span><span class="n">round</span><span class="o">))</span>
        <span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">RoundRangeException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">hasMessageContaining</span><span class="o">(</span><span class="s">"0íšŒ ì´ìƒ"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="08-ê°œë³„input-ì¬ê·€í™”---tddëŠ”-í•˜ì§€ë§ê²ƒ">
<a class="anchor" href="#08-%EA%B0%9C%EB%B3%84input-%EC%9E%AC%EA%B7%80%ED%99%94---tdd%EB%8A%94-%ED%95%98%EC%A7%80%EB%A7%90%EA%B2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>08 ê°œë³„input ì¬ê·€í™” -&gt; TDDëŠ” í•˜ì§€ë§ê²ƒ</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">getRound</span><span class="o">(</span><span class="n">inputView</span><span class="o">);</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">getRound</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputView</span> <span class="n">inputView</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">racingService</span><span class="o">.</span><span class="na">initRound</span><span class="o">(</span><span class="n">inputView</span><span class="o">.</span><span class="na">getRound</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"[ERROR] "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="n">getRound</span><span class="o">(</span><span class="n">inputView</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="controllertest-ì¬ê·€-ì˜¬-ê°œë°œ-í›„-">
<a class="anchor" href="#controllertest-%EC%9E%AC%EA%B7%80-%EC%98%AC-%EA%B0%9C%EB%B0%9C-%ED%9B%84-" aria-hidden="true"><span class="octicon octicon-link"></span></a>ControllerTest (ì¬ê·€ ì˜¬ ê°œë°œ í›„ )</h3>

<h4 id="01-ì¬ê·€ì‘ì„±-ì™„ë£Œí›„-ê°œë³„input-all-ë§-ë§-ìœ¼ë¡œ-ì»¨íŠ¸ë¡¤ëŸ¬-ìƒì„±ì-í…ŒìŠ¤íŠ¸">
<a class="anchor" href="#01-%EC%9E%AC%EA%B7%80%EC%9E%91%EC%84%B1-%EC%99%84%EB%A3%8C%ED%9B%84-%EA%B0%9C%EB%B3%84input-all-%EB%A7%9E-%EB%A7%9E-%EC%9C%BC%EB%A1%9C-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EC%83%9D%EC%84%B1%EC%9E%90-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 ì¬ê·€ì‘ì„± ì™„ë£Œí›„ [ê°œë³„input ALL ë§-&gt;ë§ ]ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±ì í…ŒìŠ¤íŠ¸</h4>

<ul>
  <li>
    <p>ì¬ê·€ê°€ ì¶”ê°€ë¨ì— ë”°ë¼, controllerìƒì„±ì‹œ <code class="language-plaintext highlighter-rouge">ì¶”ê°€ &amp;&amp; ë§ëŠ” ê²ƒìœ¼ë¡œ ë§ì¶°ì¤˜ì•¼í•˜ëŠ” input</code>ì´ ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì—, <strong>controllerìƒì„±ìœ¼ë¡œ ì¸í•œ inputí…ŒìŠ¤íŠ¸ëŠ” ê°€ì¥ ë‚˜ì¤‘ì— í•´ì•¼í•  ê²ƒ ê°™ë‹¤.</strong></p>

    <ul>
      <li>ê°œë³„inputê°œìˆ˜ë§Œí¼ SequenceInputStreamìœ¼ë¡œ ë“¤ì–´ê°€ê²Œ í•´ì¤€ë‹¤.</li>
    </ul>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">controller_input_test</span><span class="o">()</span> <span class="o">{</span>
      <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument1</span> <span class="o">=</span> <span class="s">"ì¬ì„±, ì¬ê²½"</span><span class="o">;</span> <span class="c1">// í‹€</span>
      <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument2</span> <span class="o">=</span> <span class="s">"5"</span><span class="o">;</span> <span class="c1">// ë§ì•„ì„œ ì¬ê·€ í†µê³¼</span>
      <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument1</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>
      <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument2</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>
    
      <span class="nc">SequenceInputStream</span> <span class="n">sequenceInputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SequenceInputStream</span><span class="o">(</span><span class="n">input1</span><span class="o">,</span> <span class="n">input2</span><span class="o">);</span>
    
      <span class="nc">System</span><span class="o">.</span><span class="na">setIn</span><span class="o">(</span><span class="n">sequenceInputStream</span><span class="o">);</span>
    
      <span class="n">assertDoesNotThrow</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">()));</span>
  <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="02-ì»¨íŠ¸ë¡¤ëŸ¬-ìƒì„±ìwithinput-ì „ì²´ë¥¼-ì…‹ì—…-ì˜¬ë¦¬ê³ ---controllerrun-new-ouputview-ê°œë°œ">
<a class="anchor" href="#02-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EC%83%9D%EC%84%B1%EC%9E%90withinput-%EC%A0%84%EC%B2%B4%EB%A5%BC-%EC%85%8B%EC%97%85-%EC%98%AC%EB%A6%AC%EA%B3%A0---controllerrun-new-ouputview-%EA%B0%9C%EB%B0%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±ìwithInput ì „ì²´ë¥¼ ì…‹ì—… ì˜¬ë¦¬ê³  -&gt; Controller.run (new OuputView()) ê°œë°œ</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Controller</span> <span class="n">controller</span><span class="o">;</span>

<span class="nd">@BeforeEach</span>
<span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument1</span> <span class="o">=</span> <span class="s">"ì¬ì„±, ì¬ê²½"</span><span class="o">;</span> <span class="c1">// í‹€</span>
    <span class="kd">final</span> <span class="nc">String</span> <span class="n">argument2</span> <span class="o">=</span> <span class="s">"5"</span><span class="o">;</span> <span class="c1">// ë§ì•„ì„œ ì¬ê·€ í†µê³¼</span>
    <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument1</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>
    <span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">input2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayInputStream</span><span class="o">((</span><span class="n">argument2</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">).</span><span class="na">getBytes</span><span class="o">());</span>

    <span class="nc">SequenceInputStream</span> <span class="n">sequenceInputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SequenceInputStream</span><span class="o">(</span><span class="n">input1</span><span class="o">,</span> <span class="n">input2</span><span class="o">);</span>

    <span class="nc">System</span><span class="o">.</span><span class="na">setIn</span><span class="o">(</span><span class="n">sequenceInputStream</span><span class="o">);</span>

    <span class="n">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">());</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">controller_run</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">controller</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="k">new</span> <span class="nc">OutputView</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OutputView</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//controller</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kd">final</span> <span class="nc">OutputView</span> <span class="n">outputView</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//outputViewì˜ ê¸°ë³¸ í”„ë¦°í„° ê¸°ëŠ¥ ì“°ë©´ì„œ</span>
    <span class="c1">//ë©”ì¸ë¡œì§</span>
    
    <span class="c1">//ë©”ì¸ë¡œì§ì´í›„ serviceì—ê²Œì„œ ê²°ê³¼ë°›ì€ ê²ƒ -&gt; ouputViewê°€ ì¸ìë¡œ ë°›ì•„ì„œ ì²˜ë¦¬</span>
    
<span class="o">}</span>
</code></pre></div></div>

<h4 id="03-controllerrunë‚´ë¶€ì—-serviceë¡œì§--ouputviewì²˜ë¦¬">
<a class="anchor" href="#03-controllerrun%EB%82%B4%EB%B6%80%EC%97%90-service%EB%A1%9C%EC%A7%81--ouputview%EC%B2%98%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 controller.run()ë‚´ë¶€ì— serviceë¡œì§ + OuputViewì²˜ë¦¬</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kd">final</span> <span class="nc">OutputView</span> <span class="n">outputView</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">outputView</span><span class="o">.</span><span class="na">printStartMessage</span><span class="o">();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">racingService</span><span class="o">.</span><span class="na">isContinuable</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">racingService</span><span class="o">.</span><span class="na">race</span><span class="o">(</span><span class="k">new</span> <span class="nc">RandomNumberGenerator</span><span class="o">());</span>
        <span class="n">racingService</span><span class="o">.</span><span class="na">decreaseRound</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="n">outputView</span><span class="o">.</span><span class="na">printRoundResult</span><span class="o">(</span><span class="n">racingService</span><span class="o">.</span><span class="na">getCurrentCars</span><span class="o">());</span>

    <span class="n">outputView</span><span class="o">.</span><span class="na">printWinner</span><span class="o">(</span><span class="n">racingService</span><span class="o">.</span><span class="na">getWinners</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="04-outputview-ê²°ê³¼ë°›ì•„-ì¶œë ¥-ì‘ì„±-with--outputview-test">
<a class="anchor" href="#04-outputview-%EA%B2%B0%EA%B3%BC%EB%B0%9B%EC%95%84-%EC%B6%9C%EB%A0%A5-%EC%9E%91%EC%84%B1-with--outputview-test" aria-hidden="true"><span class="octicon octicon-link"></span></a>04 OutputView ê²°ê³¼ë°›ì•„ ì¶œë ¥ ì‘ì„± with  OutputView Test</h4>

<h5 id="setup">
<a class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>setup</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">OutputStream</span> <span class="n">output</span><span class="o">;</span>

<span class="nd">@BeforeEach</span>
<span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
	<span class="n">output</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayOutputStream</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">setOut</span><span class="o">(</span><span class="k">new</span> <span class="nc">PrintStream</span><span class="o">(</span><span class="n">output</span><span class="o">));</span> <span class="c1">// output.toString() -&gt; actual ë¡œì„œ printëœ ìŠ¤íŠ¸ë§ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆê²Œ ëœë‹¤</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="outputì—-ë“¤ì–´ê°ˆ-ê²°ê³¼dto-or-dtolistë¥¼-ë§Œë“¤ì–´ì„œ-outputì—-ë¿Œë ¤ì£¼ê¸°">
<a class="anchor" href="#output%EC%97%90-%EB%93%A4%EC%96%B4%EA%B0%88-%EA%B2%B0%EA%B3%BCdto-or-dtolist%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%84%9C-output%EC%97%90-%EB%BF%8C%EB%A0%A4%EC%A3%BC%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>outputì— ë“¤ì–´ê°ˆ ê²°ê³¼(dto or dtoList)ë¥¼ ë§Œë“¤ì–´ì„œ outputì— ë¿Œë ¤ì£¼ê¸°</h5>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">name</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//(1)outputView.printRoundResult(racingService.getCurrentCars());</span>
    <span class="c1">// racingService.getCurrentCars() -&gt; List&lt;CarDto&gt; ë§Œë“¤ì–´ì£¼ê¸°</span>
    
    <span class="c1">//controller.run()ì— ì‚¬ìš©ë˜ë˜ dtoê²°ê³¼ë“¤ì„ ë‹¨ì¼dto.of() -&gt; dto list -&gt; dtos ê¹Œì§€ ì§ì ‘ ë§Œë“¤ì–´ì¤€ë‹¤.</span>
    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ì„±</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ê²½</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ê²½"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">CarDto</span><span class="o">&gt;</span> <span class="n">cars</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">ì¬ì„±</span><span class="o">,</span> <span class="n">ì¬ê²½</span><span class="o">);</span>

    <span class="c1">//(2) outputViewê°ì²´ ë§Œë“¤ì–´ì„œ printë¿Œë ¤ì£¼ê¸°( outputì— ë°•íˆê²Œ ë¨ )</span>
    <span class="k">new</span> <span class="nf">OutputView</span><span class="o">().</span><span class="na">printRoundResult</span><span class="o">(</span><span class="n">cars</span><span class="o">);</span>

    <span class="c1">//(3) printë¿Œë ¤ì§„ output.toString()ê³¼   ì˜ˆìƒstringì„ ë¹„êµí•˜ê¸°</span>
    <span class="c1">// -&gt; soutëŠ” System.lineSeparator()ë¡œ ì¤„ë°”ê¿ˆí•œë‹¤.</span>
    <span class="c1">// -&gt; ë‚´ë¶€stringì€ \në¡œ ì‘ì„±ë˜ë©´ -&gt; \n ì¡ìœ¼ë©´ ëœë‹¤.</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">output</span><span class="o">.</span><span class="na">toString</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="s">"ì¬ì„± : -\nì¬ê²½ : --\n"</span> <span class="o">+</span> <span class="nc">System</span><span class="o">.</span><span class="na">lineSeparator</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">name2</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ì„±</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ê²½</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ê²½"</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">CarDto</span><span class="o">&gt;</span> <span class="n">cars</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">ì¬ì„±</span><span class="o">,</span> <span class="n">ì¬ê²½</span><span class="o">);</span>

    <span class="kd">final</span> <span class="nc">CarsDto</span> <span class="n">carsDto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CarsDto</span><span class="o">(</span><span class="n">cars</span><span class="o">);</span>

    <span class="k">new</span> <span class="nf">OutputView</span><span class="o">().</span><span class="na">printRoundResult</span><span class="o">(</span><span class="n">cars</span><span class="o">);</span>

    <span class="n">assertThat</span><span class="o">(</span><span class="n">output</span><span class="o">.</span><span class="na">toString</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="s">"ì¬ì„± : -\nì¬ê²½ : \n"</span> <span class="o">+</span> <span class="nc">System</span><span class="o">.</span><span class="na">lineSeparator</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">name3</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//outputView.printWinner(racingService.getWinners());</span>
    <span class="c1">// racingService.getWinners() -&gt; CarsDto ë§Œë“¤ì–´ì£¼ê¸°</span>

    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ì„±</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">CarDto</span><span class="o">&gt;</span> <span class="n">cars</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">ì¬ì„±</span><span class="o">);</span>

    <span class="kd">final</span> <span class="nc">CarsDto</span> <span class="n">carsDto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CarsDto</span><span class="o">(</span><span class="n">cars</span><span class="o">);</span>

    <span class="k">new</span> <span class="nf">OutputView</span><span class="o">().</span><span class="na">printWinner</span><span class="o">(</span><span class="n">carsDto</span><span class="o">);</span>

    <span class="n">assertThat</span><span class="o">(</span><span class="n">output</span><span class="o">.</span><span class="na">toString</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="s">"ì¬ì„±"</span> <span class="o">+</span> <span class="nc">System</span><span class="o">.</span><span class="na">lineSeparator</span><span class="o">());</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">name4</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//outputView.printWinner(racingService.getWinners());</span>
    <span class="c1">// racingService.getWinners() -&gt; CarsDto ë§Œë“¤ì–´ì£¼ê¸°</span>

    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ì„±</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ì„±"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">CarDto</span> <span class="n">ì¬ê²½</span> <span class="o">=</span> <span class="nc">CarDto</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"ì¬ê²½"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">CarDto</span><span class="o">&gt;</span> <span class="n">cars</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">ì¬ì„±</span><span class="o">,</span> <span class="n">ì¬ê²½</span><span class="o">);</span>

    <span class="kd">final</span> <span class="nc">CarsDto</span> <span class="n">carsDto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CarsDto</span><span class="o">(</span><span class="n">cars</span><span class="o">);</span>

    <span class="k">new</span> <span class="nf">OutputView</span><span class="o">().</span><span class="na">printWinner</span><span class="o">(</span><span class="n">carsDto</span><span class="o">);</span>

    <span class="n">assertThat</span><span class="o">(</span><span class="n">output</span><span class="o">.</span><span class="na">toString</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="s">"ì¬ì„±, ì¬ê²½"</span> <span class="o">+</span> <span class="nc">System</span><span class="o">.</span><span class="na">lineSeparator</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="applicationìœ¼ë¡œ-controllerrunnew-outputview-ì‹¤í–‰">
<a class="anchor" href="#application%EC%9C%BC%EB%A1%9C-controllerrunnew-outputview-%EC%8B%A4%ED%96%89" aria-hidden="true"><span class="octicon octicon-link"></span></a>Applicationìœ¼ë¡œ controller.run(new OutputView()) ì‹¤í–‰</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">controller.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">view.InputView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">view.OutputView</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">application</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="nc">Controller</span> <span class="n">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Controller</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputView</span><span class="o">());</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="k">new</span> <span class="nc">OutputView</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>


  </div><a class="u-url" href="/java/%EC%9A%B0%ED%85%8C%EC%BD%94/tdd/%EA%B0%95%EC%9D%98/2022/02/28/TDD-4-controller~inputview~%EB%8F%84%EB%A9%94%EC%9D%B8%EA%B2%80%EC%A6%9D.html" hidden></a>
</article>


<!-- <script src="https://utteranc.es/client.js"
        repo="is2js/blog_raw"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script> -->
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="blog.chojaeseong.com/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>í‰ë²”í•œ í•œì˜ì‚¬ ëŒë²”ì˜ ì—”ì§€ë‹ˆì–´ ë„ì „ê¸°</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a href="/feed.xml" target="_blank" title="rss">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://github.com/is2js/" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/yarotheslav" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.linkedin.com/in/yshmarov/" target="_blank" title="linkedin">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
