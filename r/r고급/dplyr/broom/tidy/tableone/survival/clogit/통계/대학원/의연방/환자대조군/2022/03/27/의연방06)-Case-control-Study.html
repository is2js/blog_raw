<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>의연방06) 환자대조군 연구 | 돌범텤놑</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="의연방06) 환자대조군 연구" />
<meta name="author" content="tingstyle1" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Case-control Study" />
<meta property="og:description" content="Case-control Study" />
<link rel="canonical" href="https://blog.chojaeseong.com/r/r%EA%B3%A0%EA%B8%89/dplyr/broom/tidy/tableone/survival/clogit/%ED%86%B5%EA%B3%84/%EB%8C%80%ED%95%99%EC%9B%90/%EC%9D%98%EC%97%B0%EB%B0%A9/%ED%99%98%EC%9E%90%EB%8C%80%EC%A1%B0%EA%B5%B0/2022/03/27/%EC%9D%98%EC%97%B0%EB%B0%A906)-Case-control-Study.html" />
<meta property="og:url" content="https://blog.chojaeseong.com/r/r%EA%B3%A0%EA%B8%89/dplyr/broom/tidy/tableone/survival/clogit/%ED%86%B5%EA%B3%84/%EB%8C%80%ED%95%99%EC%9B%90/%EC%9D%98%EC%97%B0%EB%B0%A9/%ED%99%98%EC%9E%90%EB%8C%80%EC%A1%B0%EA%B5%B0/2022/03/27/%EC%9D%98%EC%97%B0%EB%B0%A906)-Case-control-Study.html" />
<meta property="og:site_name" content="돌범텤놑" />
<meta property="og:image" content="https://blog.chojaeseong.com/images/posts/data.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-27T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2022-03-27T00:00:00-05:00","url":"https://blog.chojaeseong.com/r/r%EA%B3%A0%EA%B8%89/dplyr/broom/tidy/tableone/survival/clogit/%ED%86%B5%EA%B3%84/%EB%8C%80%ED%95%99%EC%9B%90/%EC%9D%98%EC%97%B0%EB%B0%A9/%ED%99%98%EC%9E%90%EB%8C%80%EC%A1%B0%EA%B5%B0/2022/03/27/%EC%9D%98%EC%97%B0%EB%B0%A906)-Case-control-Study.html","@type":"BlogPosting","image":"https://blog.chojaeseong.com/images/posts/data.png","headline":"의연방06) 환자대조군 연구","dateModified":"2022-03-27T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chojaeseong.com/r/r%EA%B3%A0%EA%B8%89/dplyr/broom/tidy/tableone/survival/clogit/%ED%86%B5%EA%B3%84/%EB%8C%80%ED%95%99%EC%9B%90/%EC%9D%98%EC%97%B0%EB%B0%A9/%ED%99%98%EC%9E%90%EB%8C%80%EC%A1%B0%EA%B5%B0/2022/03/27/%EC%9D%98%EC%97%B0%EB%B0%A906)-Case-control-Study.html"},"author":{"@type":"Person","name":"tingstyle1"},"description":"Case-control Study","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- 폰트추가를 위한 link태그 삽입 -->
  <!-- 폰트1:  기본 spoqa 웹폰트 -->
  <!-- css에서 * {} 다 뒤집어씀. -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
  <!-- 폰트2:  블로그 제목들 sunflower 웹폰트 -->
  <!-- 쥬피터 등 포스트 내부 글자 h1, h2 제목은 sunflower체 도입 -->
  <link href="//fonts.googleapis.com/css?family=Sunflower:300,500,700" rel="stylesheet"> 

  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.chojaeseong.com/feed.xml" title="돌범텤놑" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">돌범텤놑</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">의연방06) 환자대조군 연구</h1><p class="page-description">Case-control Study</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-03-27T00:00:00-05:00" itemprop="datePublished">
        Mar 27, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">tingstyle1</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      22 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#R">R</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#R고급">R고급</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#dplyr">dplyr</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#broom">broom</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#tidy">tidy</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#tableone">tableone</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#survival">survival</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#clogit">clogit</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#통계">통계</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#대학원">대학원</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#의연방">의연방</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#환자대조군">환자대조군</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/is2js/blog_raw/tree/master/_notebooks/2022-03-27-의연방06) Case-control Study.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/is2js/blog_raw/master?filepath=_notebooks%2F2022-03-27-%EC%9D%98%EC%97%B0%EB%B0%A906%29+Case-control+Study.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/is2js/blog_raw/blob/master/_notebooks/2022-03-27-의연방06) Case-control Study.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!-- toc가 먼저 나오므로 h3로 안내하기 -->
    <h3>📜 제목으로 보기</h3><a href="#댓글">🖊 댓글 바로가기</a><ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#학습개요">학습개요 </a>
<ul>
<li class="toc-entry toc-h3"><a href="#학습목표">학습목표 </a></li>
<li class="toc-entry toc-h3"><a href="#주요용어">주요용어 </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Case-control-study">Case-control study </a>
<ul>
<li class="toc-entry toc-h3"><a href="#연구-디자인">연구 디자인 </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Cohort-study와의-비교">Cohort study와의 비교 </a></li>
<li class="toc-entry toc-h4"><a href="#장점">장점 </a></li>
<li class="toc-entry toc-h4"><a href="#단점">단점 </a>
<ul>
<li class="toc-entry toc-h5"><a href="#bias">bias </a></li>
<li class="toc-entry toc-h5"><a href="#Control을-선정할-때-지켜야할-원칙">Control을 선정할 때 지켜야할 원칙 </a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#Information-bias">Information bias </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Matching">Matching </a>
<ul>
<li class="toc-entry toc-h4"><a href="#일반적인-case-control-해석과-Confounding제거를-위한-Matched-case-contro-study">일반적인 case-control 해석과 Confounding제거를 위한 Matched case-contro study </a></li>
<li class="toc-entry toc-h4"><a href="#매칭의-종류">매칭의 종류 </a></li>
<li class="toc-entry toc-h4"><a href="#매칭의-문제">매칭의 문제 </a></li>
<li class="toc-entry toc-h4"><a href="#매칭-비율">매칭 비율 </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#RR-&-OR-in-case-control-study">RR &amp; OR in case-control study </a>
<ul>
<li class="toc-entry toc-h4"><a href="#핵심:-RR은-추정안되지만,-OR은-추정가능하다.">핵심: RR은 추정안되지만, OR은 추정가능하다. </a></li>
<li class="toc-entry toc-h4"><a href="#RR을-추정할-수-없는-이유">RR을 추정할 수 없는 이유 </a></li>
<li class="toc-entry toc-h4"><a href="#OR을-추정할-수-있는-이유">OR을 추정할 수 있는 이유 </a></li>
<li class="toc-entry toc-h4"><a href="#Case-control-study-OR(unmatched-data)">Case-control study OR(unmatched data) </a></li>
<li class="toc-entry toc-h4"><a href="#Case-control-study-OR(matched-data)">Case-control study OR(matched data) </a>
<ul>
<li class="toc-entry toc-h5"><a href="#데이터-구조">데이터 구조 </a></li>
<li class="toc-entry toc-h5"><a href="#Mantel-Haenszel-방법으로-OR구하는-것-리뷰">Mantel-Haenszel 방법으로 OR구하는 것 리뷰 </a></li>
<li class="toc-entry toc-h5"><a href="#McNemar's-test:-matched-case-control에서-위험요소-질병과의-상관관계(독립성)-검정">McNemar&#39;s test: matched case-control에서 위험요소-질병과의 상관관계(독립성) 검정 </a></li>
<li class="toc-entry toc-h5"><a href="#진짜-계산은--Conditional-logistic-regression(M-H로-OR,-멕니마-검정가-아닌..)">진짜 계산은  Conditional logistic regression(M-H로 OR, 멕니마 검정가 아닌..) </a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#R실습(Matched-case-control-study)">R실습(Matched case-control study) </a>
<ul>
<li class="toc-entry toc-h4"><a href="#내장된-Matched-case-control-study-Data-(infert)-이용">내장된 Matched case-control study Data (infert) 이용 </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Case-control-study-논문-예제">Case-control study 논문 예제 </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#정리하기">정리하기 </a>
<ul>
<li class="toc-entry toc-h3"><a href="#연습문제">연습문제 </a>
<ul>
<li class="toc-entry toc-h4"><a href="#다음-중-case-control-study에-대한-설명으로-적절하지-않은-것은?">다음 중 case-control study에 대한 설명으로 적절하지 않은 것은? </a></li>
<li class="toc-entry toc-h4"><a href="#다음은-어떤-case-control-study에서-흡연과-CHD의-관계를-알아보기-위해,-흡연자-100명,-비흡연자-100명을-1:1로-individual-matching하여-흡연여부를-조사한-데이터이다.">다음은 어떤 case-control study에서 흡연과 CHD의 관계를 알아보기 위해, 흡연자 100명, 비흡연자 100명을 1:1로 individual matching하여 흡연여부를 조사한 데이터이다. </a>
<ul>
<li class="toc-entry toc-h5"><a href="#내-풀이">내 풀이 </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-03-27-의연방06) Case-control Study.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>R  고급 실습(matched case-control study with dplyr-pipeline, broom-tidy, tableone, survival-clogit) 포함됨</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="학습개요">
<a class="anchor" href="#%ED%95%99%EC%8A%B5%EA%B0%9C%EC%9A%94" aria-hidden="true"><span class="octicon octicon-link"></span></a>학습개요<a class="anchor-link" href="#%ED%95%99%EC%8A%B5%EA%B0%9C%EC%9A%94"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="학습목표">
<a class="anchor" href="#%ED%95%99%EC%8A%B5%EB%AA%A9%ED%91%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>학습목표<a class="anchor-link" href="#%ED%95%99%EC%8A%B5%EB%AA%A9%ED%91%9C"> </a>
</h3>
<ul>
<li>
<p>Case-control study의 정의를 설명하고, cohort study와의 차이점을 말할 수 있다.</p>
</li>
<li>
<p>Case-control study에서 매칭을 수행하는 이유와 주의할 점을 설명할 수 있다.</p>
</li>
<li>
<p>Case-control study에서 risk를 추정할 수 없는 이유를 설명할 수 있다.</p>
</li>
<li>
<p>Matched case-control study의 데이터를 분석하기 위하여 conditional logistic regression을 수행할 수 있다.</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="주요용어">
<a class="anchor" href="#%EC%A3%BC%EC%9A%94%EC%9A%A9%EC%96%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>주요용어<a class="anchor-link" href="#%EC%A3%BC%EC%9A%94%EC%9A%A9%EC%96%B4"> </a>
</h3>
<ul>
<li>Case-control study : 질병을 가지고 있는 환자군(cases)을 먼저 선정하고, 그 질병이 없는 대조군(controls)을 선정하여, 두 그룹 간 과거의 위험요소 노출여부나 특성을 비교하는 연구</li>
<li>Individual matching : 각각의 case 환자 당 매칭변수 값이 비슷한 control을 찾아 짝을 짓는 매칭방법</li>
<li>Conditional logistic regression : 매칭된 연구대상자끼리는 독립이 아니고 서로 비슷한 경향이 있다는 점을 반영한 로지스틱 회귀분석 </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Case-control-study">
<a class="anchor" href="#Case-control-study" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case-control study<a class="anchor-link" href="#Case-control-study"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="연구-디자인">
<a class="anchor" href="#%EC%97%B0%EA%B5%AC-%EB%94%94%EC%9E%90%EC%9D%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>연구 디자인<a class="anchor-link" href="#%EC%97%B0%EA%B5%AC-%EB%94%94%EC%9E%90%EC%9D%B8"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Observatinal: 익스페리멘탈이 아닌 옵져베이셔널 스터디(관찰연구) 중에서 <ul>
<li>Retrospective: 후향적 = 현재 시점에서부터 과거의 기록들을 이용하며<ul>
<li>Logintidinal: 적어도 2시점 이상을 관찰한다.</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>
<p>구체적으로 보면</p>
<ol>
<li>case: <strong><code>질병</code>을 가진 <code>환자군(=case) 먼저</code> 설정</strong>
</li>
<li>control: <strong><code>질병이 없으면서</code> &amp;&amp; <code>환자군(case)과 비슷한 대조군을 그 후</code> 설정</strong>
</li>
<li>각 질병여부O/X(case/control) 그룹별 -&gt; <code>과거</code>에 위험요소노출 O/X여부(특성O/X여부)를 확인 및 비교한다<ul>
<li>
<strong>cohort와는 반대로 순서로 순서가 정해져있음</strong>
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423180408180.png" alt="image-20220423180408180">
</li>
</ul>
</li>
</ol>
</li>
<li>
<p><strong><code>위험요소와 질병의 상관관계</code>가 있다면?</strong></p>
<ul>
<li>코호트(위험요소 그룹별 -&gt; 질병여부 risk, RR, OR)와 달리 질병여부 -&gt; 위험요소 순으로 계산을 해야한다.</li>
<li>
<strong>상관관계가 있다면, <code>질병O(case) 그룹 중 위험요소 노출O</code> 사람이 <code>질병X(control)그룹 중 위험요소 노출O</code>보다 많을 것이다.가 기본 개념이다</strong>
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423181039380.png" alt="image-20220423181039380">
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cohort-study와의-비교">
<a class="anchor" href="#Cohort-study%EC%99%80%EC%9D%98-%EB%B9%84%EA%B5%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cohort study와의 비교<a class="anchor-link" href="#Cohort-study%EC%99%80%EC%9D%98-%EB%B9%84%EA%B5%90"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>cohort study에서는 <strong><code>현재 시점</code>에 위험요소 노출여부가 먼저 결정</strong>이 되고 -&gt; 그 이후에 질병이 생기냐/안생기냐를 본다.
 <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423181115475.png" alt="image-20220423181115475">
</li>
<li>case-control에서는 <strong><code>현재 시점</code>에서 질병O인 사람/질병X인 사람을 찾은 뒤</strong>-&gt; <strong><code>과거</code>에 위험요소에 노출이 되었냐/안되었냐를 본다.</strong>
 <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423181637233.png" alt="image-20220423181637233">
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="장점">
<a class="anchor" href="#%EC%9E%A5%EC%A0%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>장점<a class="anchor-link" href="#%EC%9E%A5%EC%A0%90"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>저렴하고 빠르다<ul>
<li>
<strong>cohort처럼 질병이 일어날 때까지 계속 FU하면서 기다림, 이 필요가 없다</strong><ul>
<li>지금 벌써 질병이 발생한 사람으로 시작 -&gt; 빠르게 연구 수행 가능</li>
</ul>
</li>
<li>rare disease 연구에 적합하다<ul>
<li>지금 벌써 질병이 발생한 사람으로 시작 -&gt; 희귀병도 발생할때까지 기다릴 필요 X</li>
</ul>
</li>
<li>발병에 오래 걸리는 질병 연구에 적합하다<ul>
<li>지금 벌써 질병이 발생한 사람으로 시작 -&gt; 발병 오래걸리는 병을 기다릴 필요 X</li>
</ul>
</li>
</ul>
</li>
<li>
<p>여러개의 위험요소를 동시에 연구할 수 있다</p>
<ul>
<li>질병O/X가 먼저고 -&gt; 뒤에 결정되는 (그 이전 기록을 찾아보다가) 여러개 위험요소를 동시에 연구 가능<ul>
<li>대신 먼저 지정되는 <code>질병</code>에 대해서는 1개만 관찰 가능</li>
</ul>
</li>
</ul>
</li>
<li>
<p>보통 cohort study에 비해 적은 수의 연구대상자가 필요하다</p>
<ul>
<li>코호트는 많은 환자들을 대상으로 시작해야 -&gt; 일부만 질병이 발병함</li>
<li>케이스-컨트롤은 애초에 발병된 사람을 잔뜩 확보한 상태로 시작 -&gt; 그나마 적은 수로 가능</li>
</ul>
</li>
<li>
<p><strong><code>질병에 대해 알려진 것이 없</code>을 때, <code>위험요소와의 상관관계를 제안하는 초기 단계의 연구</code>로 적합하다</strong></p>
<ul>
<li>위험요소-질병의 상관관계를 알아보고 싶다면, <strong>시간이 오래걸리는 전향적 코호트 연구 이전에, <code>먼저 질병O인 사람들 먼저 모아놓고 시작하는 케이스-컨트롤 연구</code>부터 시작한다</strong>
</li>
<li>
<strong>case-control study에서 상관관계가 있는 것 같다 -&gt; 다음 단계로 cohort study를 비용+시간 좀 들더라도 진행하는 것이 일반적</strong>이다</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="단점">
<a class="anchor" href="#%EB%8B%A8%EC%A0%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>단점<a class="anchor-link" href="#%EB%8B%A8%EC%A0%90"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>위험요소 노출과 질병의 <strong>선후관계가 불분명할 때가 많다</strong><ul>
<li>(선후관계가 불분명하니)<strong>인과관계 성립이 어려움</strong>
</li>
</ul>
</li>
<li>Case-control study에서 얻은 데이터에서는 case와 control의 비율이 연구자에 의해 인위적으로 조정되므로 prevalence에 대한 추론을 할 수 없다<ul>
<li>case를 먼저 몇명 모은 뒤 -&gt; control을 계획해서 수가 정해진다. -&gt; <strong>case:control의 비율이 연구자에 의해 인위적으로 정해진다</strong>
</li>
<li><strong>질병에 대한 prevalence(발생확률), risk를 추정할 수 없다</strong></li>
</ul>
</li>
<li>bias가 생길 가능성이 아주 높다<ul>
<li>bias를 피하기 위해 신중하게 선택해야한다.</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="bias">
<a class="anchor" href="#bias" aria-hidden="true"><span class="octicon octicon-link"></span></a>bias<a class="anchor-link" href="#bias"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>Case 선택에서 오는 bias:<ul>
<li>case중 살아남은 사람만 연구에 포함된다. 즉, 발병 후 빠르게 사망한 환자는 연구에 포함되기 어렵다<ul>
<li><strong>정말 심각하여 발병후 사망한 환자들은 case를 선택할 때 포함되질 않는다. -&gt; <code>살아남은 사람만 포함되는 bias</code></strong></li>
</ul>
</li>
<li>
<strong>위험요소와 질병 발병(incidence)의 연관성보다는 위험요소와 ‘발병 후 생존’의 연관성을 관측하게 된다</strong><ul>
<li><strong>case를 먼저 선택하는 경우, <code>질병 발생 &amp;&amp; 발병후 생존</code>까지 포함된 개념을 -&gt; <code>위험요소노출</code>과의 상관관계를 조사하게 된다.</strong></li>
</ul>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>
<p>Control 선택에서 오는 bias:</p>
<ul>
<li>
<code>최대한 case와 비슷한 사람</code>을 골라야 하는가 vs. <code>최대한 control 전체를 대표(위험요소 노출 가능성이 관심인구와 비슷한)</code>하는 사람을 골라야 하는가가 <strong>control 선택의 관건</strong>이다.</li>
<li>
<p>예제) Pearl (1929): 결핵이 암을 예방하는가?</p>
<ul>
<li>cases : 존스홉킨스병원의 암 사망자(질병O)</li>
<li>controls : <code>같은 기간 같은 병원</code>의 암환자가 아니었던 사망자(질병X)<ul>
<li><strong>case와 비슷한 controls를 고른 경우에 해당함</strong></li>
</ul>
</li>
<li>
<p>case의 6.6%, control의16.3%가 부검에서 결핵이 발견됨</p>
<ul>
<li>위험요소 노출여부 O/X를 확인함.</li>
<li>
<strong>controls(질병X)에서 -&gt; 결핵(위험요소 노출여부 X)가 많이 발견됨</strong><ul>
<li>
<strong>결핵(위험요소노출X) -&gt; controls(질병X, 암X)와 상관관계가 있다(결핵이 암예방에 효과있다)고 결론</strong>내릴 수 있다.?!</li>
</ul>
</li>
</ul>
</li>
<li>
<p>당시 결핵이 주요 입원요인이어서, control 그룹의 결핵 prevalence가 general population에 비해 높게 나타남</p>
<ul>
<li><strong>case와 비슷한 상황을 맞추다 보니(같은기간, 같은병원), control 전체를 대표하질 못했다.</strong></li>
</ul>
</li>
<li>Carlson &amp; Bell (1929): <strong>control을 같은 기간 같은 병원의 <code>(암X사망자) -&gt; 심장병 사망자</code>로 설정</strong>하여 재분석, 결핵의 비율이 case와 control에서 비슷하게 나타남<ul>
<li>
<strong>my) case와 비슷하게 맞추면서 (같은기간&amp;같은병원), <code>위험요소 노출 가능성이, 관심인구(전체인구)와 비슷해지도록, general population을 좁히</code>기 위해, 암X사망자 -&gt; 특정 질환 사망자로 특정해주기</strong><ul>
<li>병원내 암X 사망자의 결핵 -&gt; general population(병원 밖... 포함)의 결핵과 너무 차이남</li>
<li>병원내 &amp; 심장병사망자의 결핵 -&gt; general population자체가 병원내 심장사망자? 중 결핵?</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Control을-선정할-때-지켜야할-원칙">
<a class="anchor" href="#Control%EC%9D%84-%EC%84%A0%EC%A0%95%ED%95%A0-%EB%95%8C-%EC%A7%80%EC%BC%9C%EC%95%BC%ED%95%A0-%EC%9B%90%EC%B9%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>Control을 선정할 때 지켜야할 원칙<a class="anchor-link" href="#Control%EC%9D%84-%EC%84%A0%EC%A0%95%ED%95%A0-%EB%95%8C-%EC%A7%80%EC%BC%9C%EC%95%BC%ED%95%A0-%EC%9B%90%EC%B9%99"> </a>
</h5>
<ol>
<li>되도록이면, <strong>case와 같은 general population(같은 국가 or 같은 도시or 같은 병원)에서 선정</strong>한다<ul>
<li>앞의 연구</li>
</ul>
</li>
<li>
<strong>위험요소 노출 가능성(=질병의 노출이라면 prevalence)이 general population과 비슷한 그룹으로 선정</strong>한다<ul>
<li>앞의 연구에서는,  general population의 위험요소(결핵) prevalence보다, controls의 prevalence가 훨시 높았다.</li>
</ul>
</li>
<li>관심 질병이 <strong>발병할 가능성이 있었으나 발병하지 않은 사람</strong>으로 선정한다<ul>
<li>예) <strong>자궁암을 연구</strong>하면서 <strong>남성이나 자궁 적출한 여성을 control로 선정하면 안됨</strong>
</li>
<li>
<strong>과거에 발병했다가 치료</strong>된 사람은 되도록 <strong>control에서 제외</strong>한다</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Information-bias">
<a class="anchor" href="#Information-bias" aria-hidden="true"><span class="octicon octicon-link"></span></a>Information bias<a class="anchor-link" href="#Information-bias"> </a>
</h4>
<ul>
<li>recall bias: case가 control에 비해 과거의 일을 더 잘 기억함</li>
<li>reporting bias: case가 control에 비해 과거일을 더 잘 보고하거나, 더 잘 누락함</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Matching">
<a class="anchor" href="#Matching" aria-hidden="true"><span class="octicon octicon-link"></span></a>Matching<a class="anchor-link" href="#Matching"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="일반적인-case-control-해석과-Confounding제거를-위한-Matched-case-contro-study">
<a class="anchor" href="#%EC%9D%BC%EB%B0%98%EC%A0%81%EC%9D%B8-case-control-%ED%95%B4%EC%84%9D%EA%B3%BC-Confounding%EC%A0%9C%EA%B1%B0%EB%A5%BC-%EC%9C%84%ED%95%9C-Matched-case-contro-study" aria-hidden="true"><span class="octicon octicon-link"></span></a>일반적인 case-control 해석과 Confounding제거를 위한 Matched case-contro study<a class="anchor-link" href="#%EC%9D%BC%EB%B0%98%EC%A0%81%EC%9D%B8-case-control-%ED%95%B4%EC%84%9D%EA%B3%BC-Confounding%EC%A0%9C%EA%B1%B0%EB%A5%BC-%EC%9C%84%ED%95%9C-Matched-case-contro-study"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>Case와 control간(질병O/X 그룹별)의 <strong>위험요소 노출 <code>비율의 차이</code>를 관측했을 경우, 이것은 위험요소와 질병간의 상관관계를 의미</strong>한다 </li>
<li>이 상관관계는 인과관계인가, confounding에 의한 것인가? <strong>상관관계 확인될 시, 항상 confounding여부를 확인한다</strong><ul>
<li>예) 환자군이 대조군에 비해 흡연률이 높지만<ul>
<li>
<strong>my) 일단 case/control 그룹간 -&gt; 위험요소 노출 <code>비율 차이</code> 발생 == <code>상관관계가 확인</code>된 상태</strong> -&gt; confounding 확인해야 함</li>
</ul>
</li>
<li>예) 환자군이 대조군에 비해 흡연률이 높지만 소득이 낮을 경우, <ul>
<li><strong>my) 위험요소 노출 이외에 <code>소득</code>이라는 confounding이 있을 경우 확인해야한다.</strong></li>
</ul>
</li>
<li>예) 환자군이 대조군에 비해 흡연률이 높지만 소득이 낮을 경우, 흡연이 이 질병의 위험을 높이는가, 아니면 저소득으로 인한 다른 요인이 질병의 위험을 높인 것인가?<ul>
<li>
<strong>저소득 -&gt; 흡연이외에 다른 요인들이 질병 위험을 높이는지 vs 흡연에 의해 질병의 발병이 높아지는 것인지</strong> 구분해야한다.</li>
<li><strong>confounding(confounder에 의한 효과)를 없애야한다?!</strong></li>
</ul>
</li>
</ul>
</li>
<li>Confounding(에 의한 효과)을 없애기 위해, <strong><code>confounder로 의심되는 요인</code>의 분포가 환자군과 대조군에서 <code>비슷</code>해지도록 <code>matching</code>을 수행</strong>할 수 있다 <ul>
<li>Matched case-control study<ul>
<li><strong>my) Matched = confounding(효과)를 제거하기 위해 confounder분포를 case-control 그룹별로 맞춰놓은 것</strong></li>
</ul>
</li>
<li>주의 : 모든 case-control study가 matching을 하는 것은 아님<ul>
<li>항상 그런 것은 아니다! 해석 방법이 다르다</li>
</ul>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="매칭의-종류">
<a class="anchor" href="#%EB%A7%A4%EC%B9%AD%EC%9D%98-%EC%A2%85%EB%A5%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>매칭의 종류<a class="anchor-link" href="#%EB%A7%A4%EC%B9%AD%EC%9D%98-%EC%A2%85%EB%A5%98"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>group matching <ul>
<li>case를 먼저 선정한 후 -&gt; case에서 매칭변수(=confounder로 의심되는 변수)의 분포를 알아보고 -&gt; 동일한 분포를 가지는 control을 선정한다<ul>
<li>my) case 뽑고난 뒤, confounder를 고려해서 control을 뽑는다는 얘기</li>
<li><strong>실제론 자주 안쓰임</strong></li>
</ul>
</li>
<li>예) case에서 저소득이 30%일 경우, control도 저소득이 30%가 되도록 선정</li>
</ul>
</li>
<li>individual matching (matched pairs): <ul>
<li><strong>실제로 자주 쓰임</strong></li>
<li>case군 먼저 선정 -&gt; <strong>각각의 case 환자 1당 매칭변수 값이 비슷한 control(1명)을 찾아 짝을 짓는다</strong><ul>
<li>my) 한명씩 confounder를 고려해서 짝지어서 선발</li>
</ul>
</li>
<li>예) 1번 case의 소득과 비슷한 소득을 가진 1번 control을 선정, 2번 case의 소득과 비슷한 2번 control을 선정... </li>
<li>같은 동네에 사는 주민, 형제 자매, best friend 등을 control로 선정하기도 한다<ul>
<li><strong>1명, 1명이 아니더라도, 여러가지가 비슷한 group이면 한번에 뽑기도 한다.</strong></li>
</ul>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="매칭의-문제">
<a class="anchor" href="#%EB%A7%A4%EC%B9%AD%EC%9D%98-%EB%AC%B8%EC%A0%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>매칭의 문제<a class="anchor-link" href="#%EB%A7%A4%EC%B9%AD%EC%9D%98-%EB%AC%B8%EC%A0%9C"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>매칭변수가 많으면 매칭이 어려움
 -( 20개가 confounder면...) 비슷한 control을 찾을 수가 없으므로</li>
<li>매칭변수의 효과는 분석 불가<ul>
<li>case와 control간 매칭변수의 분포가 같아지므로 (같아놓게만 만들어놓고, 분석에는 사용 안됨)<ul>
<li>예를들어, 나이를 매칭변수(=confounder)로 지정했다면, 나이분포는 서로 비슷하다 -&gt; 질병여부에 독립이 되어버림 -&gt; 질병과의 관계를 분석 못하게 됨</li>
</ul>
</li>
</ul>
</li>
<li>overmatching (unplanned matching)<ul>
<li>
<strong>매칭변수를 지정했는데, 관계있던 변수들까지도 의도하지 않게 매칭된 경우</strong>를 말함. <ul>
<li>ex&gt; 소득을 매칭변수로 사용했는데, <strong>소득과 비슷한 변수(생활습관, 식생활)까지도 비슷해져버려서 분석이 안됨</strong>
</li>
<li>예) 소득에 대해서 매칭하였더니 생활습관, 식생활 등 다른 변수들까지 비슷해져서 관심 위험요소 분포까지 비슷해짐</li>
</ul>
</li>
<li>또는, control을 비슷한 best-friend로 지정했는데, <strong>case와 비슷한게 너무 많아, 위험요소까지도 의도하지 않게 매칭</strong>된 경우를 말함.<ul>
<li>예) 경구용 피임약과 자궁암의 관계 연구를 위해 best-friend control을 선정 : 친구끼리는 경구용 피임약 사용여부가 거의 같아서 환자군 대조군 간 경구용 피임약 사용여부가 의도하지 않게 매칭이 됨</li>
</ul>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="매칭-비율">
<a class="anchor" href="#%EB%A7%A4%EC%B9%AD-%EB%B9%84%EC%9C%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>매칭 비율<a class="anchor-link" href="#%EB%A7%A4%EC%B9%AD-%EB%B9%84%EC%9C%A8"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>
<strong>전체 연구대상자 수가 고정</strong>되어 있는 경우는  <strong>controls:cases = 1:1일 때 가장 파워가 높다</strong><ul>
<li>파워 높다 = 관측하고자 하는 차이를 detect할 가능성이 가장 높다</li>
</ul>
</li>
<li>
<strong>Case-control 스터디는 대부분의 경우 case의 수가 고정</strong>되어 있고 vs control은 충분히 많다<ul>
<li>2:1, 3:1, 4:1까지는 <strong>대조군 수를 늘릴 수록 파워가 눈에 띄게 증가한다</strong>
</li>
<li>4:1 이후(<strong>5:1부터)로는 파워 증가가 미미하다</strong><ul>
<li><strong>적은 case 1명당 -&gt; <code>control은 4명까지만 모아라</code></strong></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="RR-&amp;-OR-in-case-control-study">
<a class="anchor" href="#RR-&amp;-OR-in-case-control-study" aria-hidden="true"><span class="octicon octicon-link"></span></a>RR &amp; OR in case-control study<a class="anchor-link" href="#RR-&amp;-OR-in-case-control-study"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="핵심:-RR은-추정안되지만,-OR은-추정가능하다.">
<a class="anchor" href="#%ED%95%B5%EC%8B%AC:-RR%EC%9D%80-%EC%B6%94%EC%A0%95%EC%95%88%EB%90%98%EC%A7%80%EB%A7%8C,-OR%EC%9D%80-%EC%B6%94%EC%A0%95%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4." aria-hidden="true"><span class="octicon octicon-link"></span></a>핵심: RR은 추정안되지만, OR은 추정가능하다.<a class="anchor-link" href="#%ED%95%B5%EC%8B%AC:-RR%EC%9D%80-%EC%B6%94%EC%A0%95%EC%95%88%EB%90%98%EC%A7%80%EB%A7%8C,-OR%EC%9D%80-%EC%B6%94%EC%A0%95%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4."> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Case-control study에서는 RR을 직접 추정할 수 없다. OR은 추정 가능하다<ul>
<li>rare-disease의 경우, OR≈RR: 비슷하기 때문에 OR 구하고 -&gt; RR도 그럴 것이다.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="RR을-추정할-수-없는-이유">
<a class="anchor" href="#RR%EC%9D%84-%EC%B6%94%EC%A0%95%ED%95%A0-%EC%88%98-%EC%97%86%EB%8A%94-%EC%9D%B4%EC%9C%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>RR을 추정할 수 없는 이유<a class="anchor-link" href="#RR%EC%9D%84-%EC%B6%94%EC%A0%95%ED%95%A0-%EC%88%98-%EC%97%86%EB%8A%94-%EC%9D%B4%EC%9C%A0"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>case-control study에서는 <strong><code>모집단</code>에서 연구자가 질병O / X의 그룹별 <code>n수를 직접 선택</code></strong>해서...<ul>
<li><strong>질병의 prevalence(발생 확률)이 인위적으로 설정되어 -&gt; risk도 인위적인 값일 수 밖에 없다</strong></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>모집단에서의 risk(아직 case 선택 전) <ul>
<li>모집단에서는 risk를 계산할 수 있다. ( 위험요소노출여부 그룹별 -&gt; risk 계산 -&gt; risk비율 계산)</li>
<li>폐암인 사람 100명 / 폐암 아닌 사람 5000명 / RR = 4
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423232404911.png" alt="image-20220423232404911">
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>
<p>연구자가 뽑은 case -&gt; control</p>
<ul>
<li>폐암환자 100명은 모두 다 사용하였다</li>
<li>
<p>하지만 ,폐암 아닌 사람은 5000명 중 100명만 뽑아서 <code>controls:case = 1:1</code>로 표집하였다
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423232750306.png" alt="image-20220423232750306"></p>
</li>
<li>
<p>controls는 100명으로 줄었지만, 위험요소 노출O/X 비율 1:4는 그대로 유지하여 잘 뽑혔다.
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423233104192.png" alt="image-20220423233104192"></p>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>이제 case-control study에서 risk를 계산해보자.<ul>
<li>흡연O 폐암risk: 50/50+<code>20</code> -&gt; 0.71<ul>
<li>
<strong>흡연한 사람은 폐암발생확률이 71%다</strong> -&gt; 아무도 흡연 안할 것. <strong>너무 높은 위험</strong>
</li>
</ul>
</li>
<li>흡연X 폐암risk: 50/50+<code>80</code> -&gt; 0.38<ul>
<li>
<strong>흡연을 하지 않아도, 폐암발생확률이 38%</strong> -&gt; 끔찍한 상황의 높은 위험</li>
</ul>
</li>
<li>
<strong>controls를 case와 1:1로 표집 -&gt; <code>controls의 n수를 굉장이 낮춰 case의 prevalence가 뻥튀기 -&gt; risk도 뻥튀기</code>된 상황이기 때문 -&gt; risk 추정 불가능 -&gt; RR 추정 불가능</strong>
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423233337016.png" alt="image-20220423233337016">
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="OR을-추정할-수-있는-이유">
<a class="anchor" href="#OR%EC%9D%84-%EC%B6%94%EC%A0%95%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%9D%B4%EC%9C%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>OR을 추정할 수 있는 이유<a class="anchor-link" href="#OR%EC%9D%84-%EC%B6%94%EC%A0%95%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%9D%B4%EC%9C%A0"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423235425527.png" alt="image-20220423235425527"></p>
<ol>
<li>
<p>모집단 OR = a(oo)d(xx) / bc
 <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424000218768.png" alt="image-20220424000218768"></p>
</li>
<li>
<p><strong>case-control에서의 OR (표 반전 후, ad/bc)</strong></p>
<ul>
<li>
<p>a와 d는 그대로 있고, b와 c만 위치 바꼈다 -&gt; 공식에는 동일하게 ad/bc
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424000729986.png" alt="image-20220424000729986"></p>
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220423235354520.png" alt="image-20220423235354520"></p>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Case-control-study-OR(unmatched-data)">
<a class="anchor" href="#Case-control-study-OR(unmatched-data)" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case-control study OR(unmatched data)<a class="anchor-link" href="#Case-control-study-OR(unmatched-data)"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>Case-control study에서는 controls(질병X)를 줄여서 1:1~4:1정도만 표집하느라 <strong>상대적으로 case그룹(질병O그룹)이 뻥튀기</strong>된 상태다<ul>
<li>
<strong>실제 모집단에서의 유병률(prevalence 질병/전체)</strong>보다 훨씬 높아진다.</li>
<li>아래 질병O 컬럼의 숫자들이 <strong>실제보다 비율상 커져있게 된다.</strong>
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424001221560.png" alt="image-20220424001221560">
</li>
<li>risk의 계산 방법인 (위험 요소 노출O row / 위험요소 노출X row)별 -&gt; 가로별 risk(질o/질o+질x)가 <strong>의미가 없어진다.</strong>
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424002046284.png" alt="image-20220424002046284">
</li>
<li>질병O 칼럼 뻥튀기 -&gt;  risk 뻥튀기로 p 계산 불가 -&gt; RR 및 OR(p/1-p 비율) 계산 불가<ul>
<li>처럼 보이지만, OR은 ad/bc로 계속 사용할 수있다. <strong>분모분자속 a와 c가 똑같은 비율로 뻥튀기 되어있기 때문이다.</strong>
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424002700018.png" alt="image-20220424002700018">
</li>
</ul>
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>RR은 직접 추정할 수 없으나 <strong>rare disease(레어 디지즈)인 경우에 한해서는 OR과 RR 값이 비슷하다</strong>
</li>
<li>신뢰구간 및 위험요소-질병 상관관계(독립성)검정은 카이제곱 검정 -&gt; cohort study와 동일하다</li>
<li>confounding과 interaction을 다루기 위해 로지스틱 회귀분석 이용 -&gt; cohort study와 동일하다</li>
<li>
<strong><code>로지스틱 회귀분석을 이용한 measure 추정</code>은</strong><ul>
<li>cohort study -&gt; 연습했던  OR외  risk, odds 추정도 다 가능</li>
<li>Case-control study -&gt; OR만 추정 가능
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424003105312.png" alt="image-20220424003105312">
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Case-control-study-OR(matched-data)">
<a class="anchor" href="#Case-control-study-OR(matched-data)" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case-control study OR(matched data)<a class="anchor-link" href="#Case-control-study-OR(matched-data)"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>일단 matching된 환자들끼리는 -&gt; <strong><code>서로 독립이 아니다</code>를 분석에 반영</strong>해야한다.<ol>
<li><strong>(독립이 아니면) <code>OR 공식</code>이 더이상 성립X</strong></li>
<li>
<strong>(독립이 아니면) <code>위험요소 - 질병 상관관계(독립성) 검정</code>을 카이제곱으로 더시아 X</strong><ul>
<li>1:1매칭일 때 : McNemar’s test</li>
<li>c:1매칭일 때 : Cochran-Mantel-Haenszel test
3.<strong>실제 Adjusted OR 계산, interaction 분석 : <code>conditional logistic regression</code></strong>
</li>
</ul>
</li>
</ol>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="데이터-구조">
<a class="anchor" href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>데이터 구조<a class="anchor-link" href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>기존 데이터 구조 <ul>
<li>위험요소 노출(E)요부 row -&gt; 질병 여부(D) col
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424104132307.png" alt="image-20220424104132307">
</li>
</ul>
</li>
</ol>
<ol>
<li>
<p><strong>1:1로 individual matching한 경우 데이터 구조</strong></p>
<ul>
<li>데이터 구조가 바뀌는 이유는, 상관관계의 정보가 없는 = 결과의 차이가 없는 n수를 한눈에 처리하기 위함이다?!</li>
<li>matching되어 짝이 정해진 상황이며 &amp;&amp; 특히 1:1이라면, 1명은 control 1명은 case이므로<ul>
<li>my) 칼럼쪽에 있던 질병O/질병X를 row/col으로 나누되, 층을 하나 더줘서 나눴다?!
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424104427404.png" alt="image-20220424104427404">
</li>
</ul>
</li>
<li>짝지어진 pair내에서<ul>
<li>둘다 exposed O -&gt; n11</li>
<li>둘다 Unexposed -&gt; n22</li>
<li>case만 exposed O -&gt; n12</li>
<li>controls만 exposed O -&gt; n21<ul>
<li>선후관계에서 뒤쪽인 exposed여부에 따라 n을 세어주는 sense</li>
<li>각 자리에 몇개의 matched된 pair가 들어갔는지 확인할 수 있다.
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424104157642.png" alt="image-20220424104157642">
</li>
</ul>
</li>
</ul>
</li>
<li><strong>n11, n22는 매칭된 쌍들 중, 둘 다 exposed됬거나, 둘다 unexposed 된 것이므로 <code>선후관계에서 결과 뒤쪽인 외험요소 노출 차이</code>를 만들지 못하기 때문에 <code>상관관계에 대한 정보가 없는 카운팅</code>들이다.</strong></li>
</ul>
</li>
<li>
<p><strong>case와 control간에 위험요소노출여부가 다른 cell만 상관관계에 대한 정보를 준다</strong></p>
<ol>
<li>n12 -&gt; <code>case는 위험요소노출 O</code> / control은 X -&gt; <strong>n12는 많을 수록, 위험요소는 <code>발병위험을 높인다.</code></strong>
</li>
<li>n21 -&gt; case는 X / <code>control은 위험요소 O</code> -&gt; <strong>n21는 많을 수록, 위험요소는 <code>발병위험을 높이진 않는다.</code></strong>
</li>
</ol>
</li>
</ol>
<ol>
<li>
<strong>matched Case-Control study에서 OR 계산법</strong><ul>
<li>OR = n12/n21 = CaseExposed(O)&amp;ControlExposed(X)  /  CaseExposed(X)&amp;ControlExposed(O)
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424111505986.png" alt="image-20220424111505986">
</li>
<li>증명
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424111500610.png" alt="image-20220424111500610">
</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Mantel-Haenszel-방법으로-OR구하는-것-리뷰">
<a class="anchor" href="#Mantel-Haenszel-%EB%B0%A9%EB%B2%95%EC%9C%BC%EB%A1%9C-OR%EA%B5%AC%ED%95%98%EB%8A%94-%EA%B2%83-%EB%A6%AC%EB%B7%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mantel-Haenszel 방법으로 OR구하는 것 리뷰<a class="anchor-link" href="#Mantel-Haenszel-%EB%B0%A9%EB%B2%95%EC%9C%BC%EB%A1%9C-OR%EA%B5%AC%ED%95%98%EB%8A%94-%EA%B2%83-%EB%A6%AC%EB%B7%B0"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>
<p>이전</p>
<ol>
<li>confounder가 있을 때, confounder의 값 별로 stratum을 나누고 </li>
<li>각 stratum(스트레이 텀)마다 OR을 구한뒤 M-H방법으로 합쳤었다.
 <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424121700440.png" alt="image-20220424121700440">
</li>
</ol>
</li>
<li>
<p>여기선</p>
<ol>
<li>
<strong>각 matcing pair를 stratum으로 보고, 매칭 쌍마다 OR을 구한 뒤, 합친다</strong><ul>
<li>매칭된 쌍이 총 I개 있는 경우
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424122031790.png" alt="image-20220424122031790">
</li>
</ul>
</li>
<li>
<p><code>matched case-control용 데이터구조</code>에서 1cell( n ) 마다 -&gt; cohort나 unmathced 의 2by2 table로 변경할 수 있다.???</p>
<ul>
<li>예를 들어, n11(case-exposed &amp; control-exposed) 이라면 -&gt; <ul>
<li>case-exposed :ai = 1</li>
<li>control-exposed :bi = 1</li>
<li>나머지 ci, di = 0
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424123446984.png" alt="image-20220424123446984">
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>다하면 아래와 같다고 한다.
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424122815090.png" alt="image-20220424122815090"></p>
</li>
</ol>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>
<strong>my) matched case-control study에서 OR은</strong><ol>
<li>데이터 구조가 조금 다르다(위층row-case, col-control 상태에서 아래층에는 위험요소노출여부)</li>
<li>OR계산은  n12/n21 = case-exposed &amp; control-unexposed / case-unexposed &amp; control-exposed<ul>
<li><strong>my) 앞1:case-exposed /  뒤2:control-unexposed</strong></li>
<li><strong>my) 앞2:case-unexposed / 뒤1:control-exposed</strong></li>
</ul>
</li>
</ol>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="McNemar's-test:-matched-case-control에서-위험요소-질병과의-상관관계(독립성)-검정">
<a class="anchor" href="#McNemar's-test:-matched-case-control%EC%97%90%EC%84%9C-%EC%9C%84%ED%97%98%EC%9A%94%EC%86%8C-%EC%A7%88%EB%B3%91%EA%B3%BC%EC%9D%98-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84(%EB%8F%85%EB%A6%BD%EC%84%B1)-%EA%B2%80%EC%A0%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>McNemar's test: matched case-control에서 위험요소-질병과의 상관관계(독립성) 검정<a class="anchor-link" href="#McNemar's-test:-matched-case-control%EC%97%90%EC%84%9C-%EC%9C%84%ED%97%98%EC%9A%94%EC%86%8C-%EC%A7%88%EB%B3%91%EA%B3%BC%EC%9D%98-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84(%EB%8F%85%EB%A6%BD%EC%84%B1)-%EA%B2%80%EC%A0%95"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>기존 cohort, unmatched case-control study에서는 <code>카이제곱 검정</code><ul>
<li>범주형 변수 2개가  서로 독립인지 확인</li>
</ul>
</li>
<li>matched case-control study<ul>
<li>범주형 중 2분형 변수 2개가 있고, 서로 짝지어진 matched 데이터일 때, 연관성 검정 -&gt; <code>멕니마 검정</code>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>McNemar's test<ul>
<li>H0 : 환자군과 대조군 간에 위험요소 노출비율의 <code>차이가 없다</code> ⇔ 𝑛+1 = 𝑛1+ ⇔ 𝑛21 = 𝑛12<ul>
<li>case환자군 위험요소 노출 total = n1+</li>
<li>control대조군 위험요소 노출 total = n+1<ul>
<li>
<code>2개가 같아야한다.</code>
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424141919938.png" alt="image-20220424141919938">
</li>
<li>n1+ = n11 + n12 / n+1 = n11 + n21 이므로 2개가 같다면 <code>n12 = n21이 같다</code>가 귀무가설</li>
</ul>
</li>
</ul>
</li>
<li>H1 : 환자군과 대조군 간에 위험요소 노출비율의 차이가 있다 ⇔ 𝑛+1 ≠ 𝑛1+ ⇔ 𝑛21 ≠ 𝑛12<ul>
<li>반대로 <code>n12 = n21이 같지 않다</code>가 대립가설</li>
</ul>
</li>
<li>검정통계량 : 귀무가설 아래에서 자유도 1인 카이제곱 분포를 따른다<ul>
<li>
<strong>결국에는 n12와 n21의 차이가 얼마나 크냐를 보게 되는 것이며, 분포는 카이제곱 분포를 따른다 -&gt; OR이 1이냐 아니냐로 차이가 얼마가 나는지 본다.</strong>
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424142243608.png" alt="image-20220424142243608">
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="진짜-계산은--Conditional-logistic-regression(M-H로-OR,-멕니마-검정가-아닌..)">
<a class="anchor" href="#%EC%A7%84%EC%A7%9C-%EA%B3%84%EC%82%B0%EC%9D%80--Conditional-logistic-regression(M-H%EB%A1%9C-OR,-%EB%A9%95%EB%8B%88%EB%A7%88-%EA%B2%80%EC%A0%95%EA%B0%80-%EC%95%84%EB%8B%8C..)" aria-hidden="true"><span class="octicon octicon-link"></span></a>진짜 계산은  Conditional logistic regression(M-H로 OR, 멕니마 검정가 아닌..)<a class="anchor-link" href="#%EC%A7%84%EC%A7%9C-%EA%B3%84%EC%82%B0%EC%9D%80--Conditional-logistic-regression(M-H%EB%A1%9C-OR,-%EB%A9%95%EB%8B%88%EB%A7%88-%EA%B2%80%EC%A0%95%EA%B0%80-%EC%95%84%EB%8B%8C..)"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Conditional logistic regression 1개로 OR 종합 및 검정을 퉁쳐버린다.<ul>
<li>모든 것을 한번에 해결(OR 추정, OR이 1인지 아닌지, OR의 신뢰구간)</li>
<li>standard logistic regression에서 딱 1가지만 다르다.<ul>
<li>매칭을 분석에 반영해야함.</li>
<li>매칭된 쌍마다 고유한 상수를 b0대신 ai(상수, intercept)를 넣어준다.<ul>
<li>매칭 = 비슷한 경향 = 질병 발생 확률 비슷 = Odds에 로그 취한 것도 비슷 = 비슷하게 만들어주기 위해 상수 더해줌</li>
<li>ai값 자체는 중요하지 않음.(추정하지 않음) 관심있는 회귀계수만 결국 계산됨.
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424142619830.png" alt="image-20220424142619830">
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424142807750.png" alt="image-20220424142807750"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="R실습(Matched-case-control-study)">
<a class="anchor" href="#R%EC%8B%A4%EC%8A%B5(Matched-case-control-study)" aria-hidden="true"><span class="octicon octicon-link"></span></a>R실습(Matched case-control study)<a class="anchor-link" href="#R%EC%8B%A4%EC%8A%B5(Matched-case-control-study)"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="내장된-Matched-case-control-study-Data-(infert)-이용">
<a class="anchor" href="#%EB%82%B4%EC%9E%A5%EB%90%9C-Matched-case-control-study-Data-(infert)-%EC%9D%B4%EC%9A%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>내장된 Matched case-control study Data (infert) 이용<a class="anchor-link" href="#%EB%82%B4%EC%9E%A5%EB%90%9C-Matched-case-control-study-Data-(infert)-%EC%9D%B4%EC%9A%A9"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424143315468.png" alt="image-20220424143315468"></p>
<ul>
<li>연구질문: 인위적으로 임신중절을 했을 경우, <code>secondary infertility</code>에 영향을 미치는가</li>
<li>case/control 선택<ul>
<li>case : secondary infertility</li>
<li>control : 나이, 출산자녀 수, 교육수준으로 매치된 건강한 여성</li>
<li>2:1로 매치됨 (83 cases, 83×2-1=165 controls)<ul>
<li>1명의 case는 control 1명 밖에 못찾아서 .. -1</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">head</span><span class="p">(</span><span class="n">infert</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">education</th>
<th scope="col">age</th>
<th scope="col">parity</th>
<th scope="col">induced</th>
<th scope="col">case</th>
<th scope="col">spontaneous</th>
<th scope="col">stratum</th>
<th scope="col">pooled.stratum</th>
</tr></thead>
<tbody>
	<tr>
<td>0-5yrs </td>
<td>26     </td>
<td>6      </td>
<td>1      </td>
<td>1      </td>
<td>2      </td>
<td>1      </td>
<td> 3     </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>42     </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>0      </td>
<td>2      </td>
<td> 1     </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>39     </td>
<td>6      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>3      </td>
<td> 4     </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>34     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>4      </td>
<td> 2     </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>35     </td>
<td>3      </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>5      </td>
<td>32     </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>36     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>1      </td>
<td>6      </td>
<td>36     </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">dat.i</span> <span class="o">&lt;-</span> <span class="n">infert</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">dat.i</span><span class="p">)</span>

<span class="c1"># parity: 자녀 수, induced: 중절 횟수, case: secondary infertility여부</span>
<span class="c1"># spontaneous: 자연유산 횟수 / stratum: 누가 누구랑 매칭되어있는지를 보기 위한 id(84번부터 control에 해당하며 id1이랑 매칭되어 1)</span>


<span class="c1"># 관심있는 칼럼:   case &lt;- induced</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea ">
<pre>   education        age            parity         induced      
 0-5yrs : 12   Min.   :21.00   Min.   :1.000   Min.   :0.0000  
 6-11yrs:120   1st Qu.:28.00   1st Qu.:1.000   1st Qu.:0.0000  
 12+ yrs:116   Median :31.00   Median :2.000   Median :0.0000  
               Mean   :31.50   Mean   :2.093   Mean   :0.5726  
               3rd Qu.:35.25   3rd Qu.:3.000   3rd Qu.:1.0000  
               Max.   :44.00   Max.   :6.000   Max.   :2.0000  
      case         spontaneous        stratum      pooled.stratum 
 Min.   :0.0000   Min.   :0.0000   Min.   : 1.00   Min.   : 1.00  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:21.00   1st Qu.:19.00  
 Median :0.0000   Median :0.0000   Median :42.00   Median :36.00  
 Mean   :0.3347   Mean   :0.5766   Mean   :41.87   Mean   :33.58  
 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:62.25   3rd Qu.:48.25  
 Max.   :1.0000   Max.   :2.0000   Max.   :83.00   Max.   :63.00  </pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Warning message:
"package 'dplyr' was built under R version 3.6.3"
Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">dat.i2</span> <span class="o">&lt;-</span> <span class="n">dat.i</span> <span class="o">%&gt;%</span>
    <span class="nf">mutate</span><span class="p">(</span><span class="n">induce.ever</span> <span class="o">=</span> <span class="nf">ifelse</span><span class="p">(</span> <span class="n">induced</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span>

<span class="nf">head</span><span class="p">(</span><span class="n">dat.i2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">education</th>
<th scope="col">age</th>
<th scope="col">parity</th>
<th scope="col">induced</th>
<th scope="col">case</th>
<th scope="col">spontaneous</th>
<th scope="col">stratum</th>
<th scope="col">pooled.stratum</th>
<th scope="col">induce.ever</th>
</tr></thead>
<tbody>
	<tr>
<td>0-5yrs </td>
<td>26     </td>
<td>6      </td>
<td>1      </td>
<td>1      </td>
<td>2      </td>
<td>1      </td>
<td> 3     </td>
<td>1      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>42     </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>0      </td>
<td>2      </td>
<td> 1     </td>
<td>1      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>39     </td>
<td>6      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>3      </td>
<td> 4     </td>
<td>1      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>34     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>4      </td>
<td> 2     </td>
<td>1      </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>35     </td>
<td>3      </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>5      </td>
<td>32     </td>
<td>1      </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>36     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>1      </td>
<td>6      </td>
<td>36     </td>
<td>1      </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">dat.i2</span> <span class="o">&lt;-</span> <span class="n">dat.i</span> <span class="o">%&gt;%</span>
    <span class="nf">mutate</span><span class="p">(</span><span class="n">induce.ever</span> <span class="o">=</span> <span class="nf">ifelse</span><span class="p">(</span> <span class="n">induced</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span>
           <span class="n">spontaneous.ever</span> <span class="o">=</span> <span class="nf">ifelse</span><span class="p">(</span> <span class="n">spontaneous</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span>

<span class="nf">head</span><span class="p">(</span><span class="n">dat.i2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">education</th>
<th scope="col">age</th>
<th scope="col">parity</th>
<th scope="col">induced</th>
<th scope="col">case</th>
<th scope="col">spontaneous</th>
<th scope="col">stratum</th>
<th scope="col">pooled.stratum</th>
<th scope="col">induce.ever</th>
<th scope="col">spontaneous.ever</th>
</tr></thead>
<tbody>
	<tr>
<td>0-5yrs </td>
<td>26     </td>
<td>6      </td>
<td>1      </td>
<td>1      </td>
<td>2      </td>
<td>1      </td>
<td> 3     </td>
<td>1      </td>
<td>1      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>42     </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>0      </td>
<td>2      </td>
<td> 1     </td>
<td>1      </td>
<td>0      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>39     </td>
<td>6      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>3      </td>
<td> 4     </td>
<td>1      </td>
<td>0      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>34     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>4      </td>
<td> 2     </td>
<td>1      </td>
<td>0      </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>35     </td>
<td>3      </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>5      </td>
<td>32     </td>
<td>1      </td>
<td>1      </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>36     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>1      </td>
<td>6      </td>
<td>36     </td>
<td>1      </td>
<td>1      </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">dat.i2</span> <span class="o">&lt;-</span> <span class="n">dat.i</span> <span class="o">%&gt;%</span>
    <span class="nf">mutate</span><span class="p">(</span><span class="n">induce.ever</span> <span class="o">=</span> <span class="nf">ifelse</span><span class="p">(</span> <span class="n">induced</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span>
           <span class="n">spontaneous.ever</span> <span class="o">=</span> <span class="nf">ifelse</span><span class="p">(</span> <span class="n">spontaneous</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span> <span class="o">%&gt;%</span>
    <span class="nf">mutate_at</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">induced</span><span class="p">,</span> <span class="n">induce.ever</span><span class="p">,</span> 
                  <span class="n">spontaneous</span><span class="p">,</span> <span class="n">spontaneous.ever</span><span class="p">),</span>
             <span class="nf">list</span><span class="p">(</span><span class="o">~</span><span class="nf">as.factor</span><span class="p">(</span><span class="n">.</span><span class="p">)))</span>

<span class="nf">head</span><span class="p">(</span><span class="n">dat.i2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">education</th>
<th scope="col">age</th>
<th scope="col">parity</th>
<th scope="col">induced</th>
<th scope="col">case</th>
<th scope="col">spontaneous</th>
<th scope="col">stratum</th>
<th scope="col">pooled.stratum</th>
<th scope="col">induce.ever</th>
<th scope="col">spontaneous.ever</th>
</tr></thead>
<tbody>
	<tr>
<td>0-5yrs </td>
<td>26     </td>
<td>6      </td>
<td>1      </td>
<td>1      </td>
<td>2      </td>
<td>1      </td>
<td> 3     </td>
<td>1      </td>
<td>1      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>42     </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>0      </td>
<td>2      </td>
<td> 1     </td>
<td>1      </td>
<td>0      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>39     </td>
<td>6      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>3      </td>
<td> 4     </td>
<td>1      </td>
<td>0      </td>
</tr>
	<tr>
<td>0-5yrs </td>
<td>34     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>0      </td>
<td>4      </td>
<td> 2     </td>
<td>1      </td>
<td>0      </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>35     </td>
<td>3      </td>
<td>1      </td>
<td>1      </td>
<td>1      </td>
<td>5      </td>
<td>32     </td>
<td>1      </td>
<td>1      </td>
</tr>
	<tr>
<td>6-11yrs</td>
<td>36     </td>
<td>4      </td>
<td>2      </td>
<td>1      </td>
<td>1      </td>
<td>6      </td>
<td>36     </td>
<td>1      </td>
<td>1      </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">summary</span><span class="p">(</span><span class="n">dat.i2</span><span class="p">)</span>

<span class="c1"># as.factor() 로 범주형 변수로 만들면, summary시 counting이 잘된다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea ">
<pre>   education        age            parity      induced      case       
 0-5yrs : 12   Min.   :21.00   Min.   :1.000   0:143   Min.   :0.0000  
 6-11yrs:120   1st Qu.:28.00   1st Qu.:1.000   1: 68   1st Qu.:0.0000  
 12+ yrs:116   Median :31.00   Median :2.000   2: 37   Median :0.0000  
               Mean   :31.50   Mean   :2.093           Mean   :0.3347  
               3rd Qu.:35.25   3rd Qu.:3.000           3rd Qu.:1.0000  
               Max.   :44.00   Max.   :6.000           Max.   :1.0000  
 spontaneous    stratum      pooled.stratum  induce.ever spontaneous.ever
 0:141       Min.   : 1.00   Min.   : 1.00   0:143       0:141           
 1: 71       1st Qu.:21.00   1st Qu.:19.00   1:105       1:107           
 2: 36       Median :42.00   Median :36.00                               
             Mean   :41.87   Mean   :33.58                               
             3rd Qu.:62.25   3rd Qu.:48.25                               
             Max.   :83.00   Max.   :63.00                               </pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># -&gt; case와 control에 대한 전반적인 비교를 해야한다.</span>

<span class="c1"># 4-1. descript하게 보기 위해 table을 하나 만들어준다.</span>
<span class="c1"># -&gt; tableone 라이브러리를 이용함</span>

<span class="nf">library</span><span class="p">(</span><span class="n">tableone</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">tobj</span> <span class="o">&lt;-</span> <span class="nf">CreateTableOne</span><span class="p">(</span><span class="n">vars</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">"age"</span><span class="p">,</span> <span class="s">"parity"</span><span class="p">,</span> <span class="s">"education"</span><span class="p">,</span>
                                <span class="s">"induced"</span><span class="p">,</span> <span class="s">"spontaneous"</span><span class="p">),</span> <span class="c1"># 2) strata에 넣은 그룹(case vs control)별로,  보고 싶은 데이터 칼럼</span>
                       <span class="n">strata</span> <span class="o">=</span> <span class="s">"case"</span><span class="p">,</span> <span class="c1"># 1) case와 control을 범주종류로 나눈 칼럼</span>
                       <span class="n">data</span> <span class="o">=</span> <span class="n">dat.i2</span><span class="p">)</span>

<span class="n">tobj</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea ">
<pre>                    Stratified by case
                     0             1             p      test
  n                    165            83                    
  age (mean (SD))    31.49 (5.25)  31.53 (5.28)   0.956     
  parity (mean (SD))  2.08 (1.24)   2.11 (1.28)   0.889     
  education (%)                                   0.999     
     0-5yrs              8 ( 4.8)      4 ( 4.8)             
     6-11yrs            80 (48.5)     40 (48.2)             
     12+ yrs            77 (46.7)     39 (47.0)             
  induced (%)                                     0.964     
     0                  96 (58.2)     47 (56.6)             
     1                  45 (27.3)     23 (27.7)             
     2                  24 (14.5)     13 (15.7)             
  spontaneous (%)                                &lt;0.001     
     0                 113 (68.5)     28 (33.7)             
     1                  40 (24.2)     31 (37.3)             
     2                  12 ( 7.3)     24 (28.9)             </pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="n">tobj</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="bp">F</span><span class="p">)</span> <span class="c1"># p-value를 제외하고 보는 방법: print(  , test=F)</span>

<span class="c1"># 해석</span>
<span class="c1"># - 이미 match를 age/aprity/education기준으로 맺어놓은데이터다 -&gt; case와 control에서 분포가 비슷할 것이다.</span>
<span class="c1"># - induced는  control과 case가 분포가 비슷하다</span>
<span class="c1"># - spontaneous는 control과 case가 분포 차이가 난다.</span>
<span class="c1"># -&gt; 특히, 자연임신중절이 0은, control일 때 훨씬더 많다.</span>
<span class="c1"># --&gt; 우리의 가설: 인공임신중절(induced)와 case/control여부와 관계있을 것 같았지만,별로 관계없어보이고</span>
<span class="c1"># --&gt;        오히려 자연임신중절(spontaneous)과 관련있어 보인다.</span>
<span class="c1"># --&gt;        그렇다면, spontaneous는 관심변수가 아니였는데, 결과변수에 영향을 주고 있으니, 혹시 관심변수(설명변수)에도 영향을 주고 있는</span>
<span class="c1"># --&gt;                  induced와도 관련있다면, confounder일 것이다. induced와의 관계가 궁금해진다(설명, 결과변수 모두 영향시 confounder)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                    Stratified by case
                     0             1            
  n                    165            83        
  age (mean (SD))    31.49 (5.25)  31.53 (5.28) 
  parity (mean (SD))  2.08 (1.24)   2.11 (1.28) 
  education (%)                                 
     0-5yrs              8 ( 4.8)      4 ( 4.8) 
     6-11yrs            80 (48.5)     40 (48.2) 
     12+ yrs            77 (46.7)     39 (47.0) 
  induced (%)                                   
     0                  96 (58.2)     47 (56.6) 
     1                  45 (27.3)     23 (27.7) 
     2                  24 (14.5)     13 (15.7) 
  spontaneous (%)                               
     0                 113 (68.5)     28 (33.7) 
     1                  40 (24.2)     31 (37.3) 
     2                  12 ( 7.3)     24 (28.9) 
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">tobj2</span> <span class="o">&lt;-</span> <span class="nf">CreateTableOne</span><span class="p">(</span><span class="n">vars</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">"induced"</span><span class="p">),</span>
                        <span class="n">strata</span> <span class="o">=</span> <span class="s">"spontaneous"</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="n">dat.i2</span>
                       <span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">tobj2</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="bp">F</span><span class="p">)</span> <span class="c1"># 이산형 vs 이산형의 비교는 한눈에 잘 안보인다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>             Stratified by spontaneous
              0           1          2         
  n           141         71         36        
  induced (%)                                  
     0         67 (47.5)  47 (66.2)  29 (80.6) 
     1         45 (31.9)  16 (22.5)   7 (19.4) 
     2         29 (20.6)   8 (11.3)   0 ( 0.0) 
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">tobj3</span> <span class="o">&lt;-</span> <span class="nf">CreateTableOne</span><span class="p">(</span><span class="n">vars</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">"induce.ever"</span><span class="p">),</span>
                        <span class="n">strata</span> <span class="o">=</span> <span class="s">"spontaneous.ever"</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="n">dat.i2</span>
                       <span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">tobj3</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="bp">F</span><span class="p">)</span> <span class="c1"># factor(범주형) vs 범주형의 비교는 한눈에 잘 보인다.</span>
<span class="c1"># 그러나, row에 범주형 0,1 로 2개가 있을 경우 1개만 보여주는 경향 -&gt; 다보여주게 옵션 줘야한다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                     Stratified by spontaneous.ever
                      0           1          
  n                   141         107        
  induce.ever = 1 (%)  74 (52.5)   31 (29.0) 
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="n">tobj3</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="bp">F</span><span class="p">,</span> <span class="n">showAllLevels</span><span class="o">=</span><span class="bp">T</span><span class="p">)</span>  <span class="c1"># showAllLevels=T</span>

<span class="c1"># 해석: strata 칼럼의 범주 종류별로 -&gt; row별로 비율의 차이가 있나 본다.</span>
<span class="c1"># -&gt; starat spontaneous.ever  1 : 한번이라도 자염인신중절 했던 그룹 -&gt; (안했던 그룹(52%)에 비해) 인공임신중절(30%)의 비율이 훨씬 낮다))</span>
<span class="c1"># --&gt; confounder는 아닐까 의심하고 연구를 시작한다.</span>

<span class="c1"># --&gt; 자연임신중절과 인공임신중절은 완전히 독립은 아닐 것이다! 라고 생각해준다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                 Stratified by spontaneous.ever
                  level 0           1          
  n                     141         107        
  induce.ever (%) 0      67 (47.5)   76 (71.0) 
                  1      74 (52.5)   31 (29.0) 
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># - Conditional logistic regression을 쓰려면 clogit()함수를 써야하는데, base아래 없고, survival패키지를 설치해야한다</span>
<span class="c1"># - 또한, 회귀분석 결과물을 정리해서 보여주는 broom패키지도 사용한다</span>
<span class="nf">library</span><span class="p">(</span><span class="n">survival</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">broom</span><span class="p">)</span>


<span class="c1"># clogit(결과변수~독립변수 + strata(매칭id칼럼) , data=) </span>
<span class="n">cobj</span> <span class="o">&lt;-</span> <span class="nf">clogit</span><span class="p">(</span><span class="n">case</span><span class="o">~</span><span class="n">induce.ever</span> <span class="o">+</span> <span class="nf">strata</span><span class="p">(</span><span class="n">stratum</span><span class="p">),</span>
              <span class="n">data</span> <span class="o">=</span> <span class="n">dat.i2</span><span class="p">)</span>

<span class="nf">summary</span><span class="p">(</span><span class="n">cobj</span><span class="p">)</span>
<span class="c1"># 해석: induce.ever1일 때의, coef(코에피션트)를 보고</span>
<span class="c1"># - exp(coef)를 OR로 생각한다.</span>
<span class="c1"># - lower .95 upper .95가 OR의 신뢰구간인지 확신할 수 없기 때문에, broom패키지의 tidy( ,exponentiate=T, conf.int=T)함수에 넣어주고 다시 보자.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea ">
<pre>Call:
coxph(formula = Surv(rep(1, 248L), case) ~ induce.ever + strata(stratum), 
    data = dat.i2, method = "exact")

  n= 248, number of events= 83 

                coef exp(coef) se(coef)   z Pr(&gt;|z|)
induce.ever1 0.08972   1.09387  0.29913 0.3    0.764

             exp(coef) exp(-coef) lower .95 upper .95
induce.ever1     1.094     0.9142    0.6086     1.966

Concordance= 0.509  (se = 0.04 )
Likelihood ratio test= 0.09  on 1 df,   p=0.8
Wald test            = 0.09  on 1 df,   p=0.8
Score (logrank) test = 0.09  on 1 df,   p=0.8
</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">tidy</span><span class="p">(</span><span class="n">cobj</span><span class="p">,</span> <span class="n">exponentiate</span> <span class="o">=</span> <span class="bp">T</span><span class="p">,</span> <span class="n">conf.int</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>

<span class="c1"># estimate : OR</span>
<span class="c1"># p.value</span>
<span class="c1"># conf.low	conf.high</span>

<span class="c1"># 해석: induce.ever1(인공임신중절)이, case(1)질병과 아무 관계가 없는 것 같이 보인다 </span>
<span class="c1"># -&gt; p-value 0.76423 로 독립이라서, 독립변수 - 결과변수 상관관계 X?</span>
<span class="c1"># --&gt; 하지만, 독립변수와 비슷해보이는 [자연임신중절]을 confounder로 의심할 수 있었다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">term</th>
<th scope="col">estimate</th>
<th scope="col">std.error</th>
<th scope="col">statistic</th>
<th scope="col">p.value</th>
<th scope="col">conf.low</th>
<th scope="col">conf.high</th>
</tr></thead>
<tbody>
	<tr>
<td>induce.ever1</td>
<td>1.093866    </td>
<td>0.2991307   </td>
<td>0.2999307   </td>
<td>0.76423     </td>
<td>0.6086165   </td>
<td>1.966006    </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># -&gt; 컨디션 로지스틱회귀에 공변량으로 추가한다.</span>

<span class="n">cobj2</span> <span class="o">&lt;-</span> <span class="nf">clogit</span><span class="p">(</span><span class="n">case</span><span class="o">~</span><span class="n">induce.ever</span> <span class="o">+</span> <span class="n">spontaneous.ever</span> <span class="o">+</span> <span class="nf">strata</span><span class="p">(</span><span class="n">stratum</span><span class="p">),</span>
              <span class="n">data</span> <span class="o">=</span> <span class="n">dat.i2</span><span class="p">)</span>

<span class="nf">summary</span><span class="p">(</span><span class="n">cobj2</span><span class="p">)</span>

<span class="c1"># 해석1) </span>
<span class="c1"># + spontaneous.ever만 추가했을 뿐인데, </span>
<span class="c1"># 1) summary()에서 induce.ever1 까지 p-value가 유의해졌다 -&gt; H1:독립X 상관관계 있는 것으로 나온다.</span>
<span class="c1">#                     coef exp(coef) se(coef)     z Pr(&gt;|z|)    </span>
<span class="c1"># induce.ever1      1.0926    2.9821   0.4058 2.693  0.00709 ** </span>
<span class="c1"># spontaneous.ever1 2.1344    8.4522   0.4050 5.270 1.36e-07 ***</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea ">
<pre>Call:
coxph(formula = Surv(rep(1, 248L), case) ~ induce.ever + spontaneous.ever + 
    strata(stratum), data = dat.i2, method = "exact")

  n= 248, number of events= 83 

                    coef exp(coef) se(coef)     z Pr(&gt;|z|)    
induce.ever1      1.0926    2.9821   0.4058 2.693  0.00709 ** 
spontaneous.ever1 2.1344    8.4522   0.4050 5.270 1.36e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

                  exp(coef) exp(-coef) lower .95 upper .95
induce.ever1          2.982     0.3353     1.346     6.606
spontaneous.ever1     8.452     0.1183     3.821    18.695

Concordance= 0.73  (se = 0.045 )
Likelihood ratio test= 37.82  on 2 df,   p=6e-09
Wald test            = 27.82  on 2 df,   p=9e-07
Score (logrank) test = 35.79  on 2 df,   p=2e-08
</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">tidy</span><span class="p">(</span><span class="n">cobj2</span><span class="p">,</span> <span class="n">exponentiate</span> <span class="o">=</span> <span class="bp">T</span><span class="p">,</span> <span class="n">conf.int</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>

<span class="c1"># induce.ever1의 OR이 3에 가까워졌다(1이면 차이X), p-value도 낮아서 유의하다</span>
<span class="c1"># -&gt; [자연임신중절]을 포함시키고 &amp; 고정해놓으면</span>
<span class="c1"># --&gt; 관련없어 보이던 [인공임신중절]이 [secondary infertility]와 통계적으로 유의한 관계가 있어진다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">term</th>
<th scope="col">estimate</th>
<th scope="col">std.error</th>
<th scope="col">statistic</th>
<th scope="col">p.value</th>
<th scope="col">conf.low</th>
<th scope="col">conf.high</th>
</tr></thead>
<tbody>
	<tr>
<td>induce.ever1     </td>
<td>2.982126         </td>
<td>0.4058008        </td>
<td>2.692544         </td>
<td>7.090920e-03     </td>
<td>1.346194         </td>
<td> 6.606085        </td>
</tr>
	<tr>
<td>spontaneous.ever1</td>
<td>8.452174         </td>
<td>0.4050196        </td>
<td>5.269927         </td>
<td>1.364777e-07     </td>
<td>3.821335         </td>
<td>18.694839        </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Case-control-study-논문-예제">
<a class="anchor" href="#Case-control-study-%EB%85%BC%EB%AC%B8-%EC%98%88%EC%A0%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case-control study 논문 예제<a class="anchor-link" href="#Case-control-study-%EB%85%BC%EB%AC%B8-%EC%98%88%EC%A0%9C"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>코호트 스터디 가기 전 단계</li>
<li>많은 증거가 없는 상황에서 시행되므로 high impact 저널에 출판되긴 힘들다.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424170048543.png" alt="image-20220424170048543"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424170105550.png" alt="image-20220424170105550"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>연구질문 : <code>Sigmoidoscopy(S형 결장내시경)을 이용한 screening</code>이 <code>대장암으로 인한 사망</code>을 줄이는가?<ul>
<li>
<strong>만약, 위험요소 -&gt; 질병의 <code>코호트 or RCT</code>로 분석하면, 대장암이 발병할때까지 기다려야하므로 사실상 무리</strong><ul>
<li><strong>질병 -&gt; 위험요소 노출여부 순으로 분석하는 후향적, Case-Control Study</strong></li>
</ul>
</li>
</ul>
</li>
<li>연구대상: Kaiser라는 의료보험 든 사람<ul>
<li>
<strong>이렇게 결정한 이유: 위험요소(S형 결장내시경)에 대한 접근이 같아지기 때문</strong><ul>
<li>소득 수준 등의 차이가 없어진다.</li>
</ul>
</li>
</ul>
<ol>
<li>case : 1971~1987년 사이에 대장암을 진단 받고 1988년 이전에 암으로 사망한 환자 </li>
<li>control : <strong>매칭하여</strong> 각 case마다 성별이 같고 /나이와 보험 가입일이 비슷한 (＜1년) / 생존자/ 1~4명까지</li>
</ol>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>통계분석 방법<ul>
<li>case, contorl정했으면, 위험요소 노출여부를 언제까지 볼 것인가? <ul>
<li>생존자료분석이 아니라면, 같은 기간을 보면 된다.(관측기간을 공평하게)</li>
</ul>
</li>
<li>매칭 case-control study라서 -&gt; conditional logistic regression을 이용해 OR 등을 구했다.<ul>
<li>adjusted analyses: confounder를 포함한 다변량 모델을 돌렸다</li>
</ul>
</li>
<li>adjustment는 자기들이 생각한 confounding factors들에 의해 이루어졌다. 그것들을 나열해놓음
  <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424171328825.png" alt="image-20220424171328825">
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>case와 control별, 얼마나 <code>Sigmoidoscopy(위험요소)에 노출</code>되었는지를 디스크립트하게 나타낸 것<ul>
<li>한번도 안받은 사람 / 한번 받은 사람 / 2번이상 받은 사람</li>
<li>아무래도 <strong>case가 (control에 비해) 위험요소?노출 0회(내시경을 한번도 안받은 사람)의 비율 더 많다 </strong><ul>
<li>다른 검사도, case에 비해 control이 위험요소노출 0회 = 다른 검사를 안받은 비율이 더 높다.
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424171635903.png" alt="image-20220424171635903">
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>핵심 테이블<ul>
<li>질병, 대장암의 OR를 계산 한 것이 아니라</li>
<li>S형 내시경을 받을 Odds를 계산 -&gt; case와 control간 ratio(비율)이 달랐는지? OR를 계산했다.<ul>
<li>exposed와 disease를 swtih한 OR^*에 해당하는 값이다.</li>
<li>
<strong>원래 생각하던 OR과 값이 같으니 해석도 -&gt; 대장암의 OR로 해석하면 된다.</strong><ul>
<li>대장암뿐만 아니라, 내시경확인불가 cancer를 포함하여 나눠서 계산했다</li>
<li><strong>OR이 1보다 작다 -&gt; <code>대장암 환자일수록 -&gt; 내시경을 전에 받았을 OR가 더 낫다</code></strong></li>
<li>
<strong>반대로 <code>내시경을 전에 더 많이 받았을 수록 -&gt; 대장암일 OR가 더 낫다</code></strong>
<img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424172007870.png" alt="image-20220424172007870">
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="정리하기">
<a class="anchor" href="#%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>정리하기<a class="anchor-link" href="#%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Case-control study는 질병을 가지고 있는 환자군(cases)을 먼저 선정하고, 그 질병이 없는 대조군(controls)을 선정하여, 두 그룹 간 과거의 위험요소 노출여부나 특성을 비교하는 연구이다</li>
<li>Case-control study에서는 RR은 직접 추정할 수 없으나, OR은 추정 가능하다</li>
<li>매칭하지 않은 case-control study의 OR 추정방법과 confounding, interaction을 다루는 방법은 cohort study와 거의 같다 </li>
<li>Matched case-control study의 OR 추정은 M-H 방법이나 conditional logistic regression을 이용한다</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="연습문제">
<a class="anchor" href="#%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>연습문제<a class="anchor-link" href="#%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="다음-중-case-control-study에-대한-설명으로-적절하지-않은-것은?">
<a class="anchor" href="#%EB%8B%A4%EC%9D%8C-%EC%A4%91-case-control-study%EC%97%90-%EB%8C%80%ED%95%9C-%EC%84%A4%EB%AA%85%EC%9C%BC%EB%A1%9C-%EC%A0%81%EC%A0%88%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EA%B2%83%EC%9D%80?" aria-hidden="true"><span class="octicon octicon-link"></span></a>다음 중 case-control study에 대한 설명으로 적절하지 않은 것은?<a class="anchor-link" href="#%EB%8B%A4%EC%9D%8C-%EC%A4%91-case-control-study%EC%97%90-%EB%8C%80%ED%95%9C-%EC%84%A4%EB%AA%85%EC%9C%BC%EB%A1%9C-%EC%A0%81%EC%A0%88%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EA%B2%83%EC%9D%80?"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>관찰연구의 일종이다.<ul>
<li>실험연구 아니면 다 관찰연구</li>
</ul>
</li>
<li>여러개의 질병을 동시에 연구할 수 없다.<ul>
<li>질병 먼저 -&gt; 뒤쪽에 시간들여서 찾는 위험요소노출이 여러개일 수 있다. 질병은 1개</li>
</ul>
</li>
<li>희귀병이나, 위험요소 노출부터 질병 발병까지의 기간이 너무 긴 질병의 연구에 적합하다.<ul>
<li>오래기다려야하는 병들을 미리 찍어서 과거를 보러 간다</li>
</ul>
</li>
<li>prevalence에 대한 추론이 가능하다.<ul>
<li>연구자가 case 정하고 -&gt; control을 그에 맞춰 1~4명까지 정한다 -&gt; 모집단과는 전혀다르게 prevalence가 뻥튀기 된다.</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>정답: 4</li>
<li>해설: Case-control study에서는 case와 control의 비율이 연구자에 의해 인위적으로 조정되므로, prevalence에 대한 추론을 할 수 없다.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="다음은-어떤-case-control-study에서-흡연과-CHD의-관계를-알아보기-위해,-흡연자-100명,-비흡연자-100명을-1:1로-individual-matching하여-흡연여부를-조사한-데이터이다.">
<a class="anchor" href="#%EB%8B%A4%EC%9D%8C%EC%9D%80-%EC%96%B4%EB%96%A4-case-control-study%EC%97%90%EC%84%9C-%ED%9D%A1%EC%97%B0%EA%B3%BC-CHD%EC%9D%98-%EA%B4%80%EA%B3%84%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-%EC%9C%84%ED%95%B4,-%ED%9D%A1%EC%97%B0%EC%9E%90-100%EB%AA%85,-%EB%B9%84%ED%9D%A1%EC%97%B0%EC%9E%90-100%EB%AA%85%EC%9D%84-1:1%EB%A1%9C-individual-matching%ED%95%98%EC%97%AC-%ED%9D%A1%EC%97%B0%EC%97%AC%EB%B6%80%EB%A5%BC-%EC%A1%B0%EC%82%AC%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%B4%EB%8B%A4." aria-hidden="true"><span class="octicon octicon-link"></span></a>다음은 어떤 case-control study에서 흡연과 CHD의 관계를 알아보기 위해, 흡연자 100명, 비흡연자 100명을 1:1로 individual matching하여 흡연여부를 조사한 데이터이다.<a class="anchor-link" href="#%EB%8B%A4%EC%9D%8C%EC%9D%80-%EC%96%B4%EB%96%A4-case-control-study%EC%97%90%EC%84%9C-%ED%9D%A1%EC%97%B0%EA%B3%BC-CHD%EC%9D%98-%EA%B4%80%EA%B3%84%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-%EC%9C%84%ED%95%B4,-%ED%9D%A1%EC%97%B0%EC%9E%90-100%EB%AA%85,-%EB%B9%84%ED%9D%A1%EC%97%B0%EC%9E%90-100%EB%AA%85%EC%9D%84-1:1%EB%A1%9C-individual-matching%ED%95%98%EC%97%AC-%ED%9D%A1%EC%97%B0%EC%97%AC%EB%B6%80%EB%A5%BC-%EC%A1%B0%EC%82%AC%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%B4%EB%8B%A4."> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424173023594.png" alt="image-20220424173023594"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="내-풀이">
<a class="anchor" href="#%EB%82%B4-%ED%92%80%EC%9D%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>내 풀이<a class="anchor-link" href="#%EB%82%B4-%ED%92%80%EC%9D%B4"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>주어진 데이터 자료구조를 보고 <ol>
<li>
<code>cohort study</code> or<code>unmatched case-control study</code> 문제인지
 <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424173439175.png" alt="image-20220424173439175">
</li>
<li>
<code>matched case-conrol study</code> 문제 인지 판단한다
 <img src="https://raw.githubusercontent.com/is2js/screenshots/main/image-20220424173447519.png" alt="image-20220424173447519">
</li>
</ol>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>matched case-conrol study문제의 OR은 n12/n21로 구한다<ul>
<li>n12 = case(앞) exposed(1) / control(뒤) unexposed(2)</li>
<li>n21 = case(앞) unexposed(2) / control(뒤) exposed(1)</li>
<li>50/10 = 5.0</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
</div>



  </div><h3 id="댓글"><!-- from https://github.com/utterance/utterances  -->
<script src="https://utteranc.es/client.js"
        repo="is2js/blog_raw"
        issue-term="comments"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

<!-- <div id="disqus_thread"></div>
<script>
  /**
   *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
   *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
  /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
  (function () {
    // DON'T EDIT BELOW THIS LINE
    var d = document,
      s = d.createElement('script');
    s.src = 'https://is2js-blog-raw.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
> -->
<a class="u-url" href="/r/r%EA%B3%A0%EA%B8%89/dplyr/broom/tidy/tableone/survival/clogit/%ED%86%B5%EA%B3%84/%EB%8C%80%ED%95%99%EC%9B%90/%EC%9D%98%EC%97%B0%EB%B0%A9/%ED%99%98%EC%9E%90%EB%8C%80%EC%A1%B0%EA%B5%B0/2022/03/27/%EC%9D%98%EC%97%B0%EB%B0%A906)-Case-control-Study.html" hidden></a>
</article>


<!-- <script src="https://utteranc.es/client.js"
        repo="is2js/blog_raw"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script> -->
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://blog.chojaeseong.com/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>평범한 한의사 돌범의 엔지니어 도전기</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a href="/feed.xml" target="_blank" title="rss">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://github.com/is2js/" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/yarotheslav" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.linkedin.com/in/yshmarov/" target="_blank" title="linkedin">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
