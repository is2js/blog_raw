
---
toc: true
layout: post
title: DTO 간단 적용해보기
description: OutputView에서 List<단일Dto>를 return받기

categories: [java, 우테코]
image: "images/posts/wootech.png"
---

## DTO

- [참고 DTO 쓴 PR](https://github.com/jinyoungchoi95/java-racingcar/blob/step1/src/main/java/racingcar/controller/RacingCarDto.java)



### controller OutputView.print(  관리자객체.get일급컬렉션) )

```java
OutputView.printResultEveryRound(racingGame.getCurrentCars());
```

- 관리자객체에서도 List<단일객체>나오는 일급에 들어가지 않았으므로 그대로 **여기서 return될 타입이 `List<단일Dto>`를 예상하자**

    ```java
    public List<CarDto> getCurrentCars() {
        return this.cars.getCurrentCars();
    }
    ```

    



### list.stream().map( 단일 -> 단일Dto.from( 단일) ) .collect~

```java
public List<CarDto> getCurrentCars() {
    return this.cars.stream()
        .map(car -> CarDto.from(car))
        .collect(Collectors.toList());
}
```



#### 

### Dto의 팩토리는 객채 -> 모든 속성 getter로 꺼내서 생성자 호출

- 이 때, string속성 -> **toString**() / 숫자 -> **toXXX() 네이밍**활용

```java
public class CarDto {

	private final String name;
	private final int position;

	public CarDto(String name, int positiion) {
		this.name = name;
		this.position = positiion;
	}

	public static CarDto from(Car car) {
		// Dto는 동일 객체를 받아서, 생성자호출은 객체내 개별속성들을 모조리 getter
		return new CarDto(car.toString(), car.toPosition());
	}

	public String getName() {
		return this.name;
	}

	public int getPosition() {
		return this.position;
	}
}
```



### OutputView는 List<단일Dto>를 받아 돌아가며 getter

```java
public static void printResultEveryRound(List<CarDto> currentCars) {
    for (CarDto currentCar : currentCars) {
        System.out.println(currentCar.getName() + " : " + collectDash(currentCar.getPosition()));
    }
    System.out.println();
}
```

