<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>í´ë¦°ì•„í‚¤í…ì³ 09 ManyEntity Routeë¶€í„° êµ¬í˜„(OneEntityë³´ë‹¤ ë¨¼ì €) | ëŒë²”í…¤ë†‘</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="í´ë¦°ì•„í‚¤í…ì³ 09 ManyEntity Routeë¶€í„° êµ¬í˜„(OneEntityë³´ë‹¤ ë¨¼ì €)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="python clean architecture" />
<meta property="og:description" content="python clean architecture" />
<link rel="canonical" href="blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/09/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_09_ManyEntity_register_route_%EC%B6%94%EA%B0%80.html" />
<meta property="og:url" content="blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/09/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_09_ManyEntity_register_route_%EC%B6%94%EA%B0%80.html" />
<meta property="og:site_name" content="ëŒë²”í…¤ë†‘" />
<meta property="og:image" content="blog.chojaeseong.com/images/posts/python.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-09T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2022-09-09T00:00:00-05:00","url":"blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/09/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_09_ManyEntity_register_route_%EC%B6%94%EA%B0%80.html","@type":"BlogPosting","image":"blog.chojaeseong.com/images/posts/python.png","headline":"í´ë¦°ì•„í‚¤í…ì³ 09 ManyEntity Routeë¶€í„° êµ¬í˜„(OneEntityë³´ë‹¤ ë¨¼ì €)","dateModified":"2022-09-09T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/09/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_09_ManyEntity_register_route_%EC%B6%94%EA%B0%80.html"},"description":"python clean architecture","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- í°íŠ¸ì¶”ê°€ë¥¼ ìœ„í•œ linkíƒœê·¸ ì‚½ì… -->
  <!-- í°íŠ¸1:  ê¸°ë³¸ spoqa ì›¹í°íŠ¸ -->
  <!-- cssì—ì„œ * {} ë‹¤ ë’¤ì§‘ì–´ì”€. -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
  <!-- í°íŠ¸2:  ë¸”ë¡œê·¸ ì œëª©ë“¤ sunflower ì›¹í°íŠ¸ -->
  <!-- ì¥¬í”¼í„° ë“± í¬ìŠ¤íŠ¸ ë‚´ë¶€ ê¸€ì h1, h2 ì œëª©ì€ sunflowerì²´ ë„ì… -->
  <link href="//fonts.googleapis.com/css?family=Sunflower:300,500,700" rel="stylesheet"> 

  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="blog.chojaeseong.com/feed.xml" title="ëŒë²”í…¤ë†‘" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ëŒë²”í…¤ë†‘</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">í´ë¦°ì•„í‚¤í…ì³ 09 ManyEntity Routeë¶€í„° êµ¬í˜„(OneEntityë³´ë‹¤ ë¨¼ì €)</h1><p class="page-description">python clean architecture</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-09-09T00:00:00-05:00" itemprop="datePublished">
        Sep 9, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      7 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#python">python</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#flask">flask</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#cleanarchitecture">cleanarchitecture</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!-- tocê°€ ë¨¼ì € ë‚˜ì˜¤ë¯€ë¡œ h3ë¡œ ì•ˆë‚´í•˜ê¸° -->
    <h3>ğŸ“œ ì œëª©ìœ¼ë¡œ ë³´ê¸°</h3>
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#í´ë¦°-ì•„í‚¤í…ì³-9ì¥">í´ë¦° ì•„í‚¤í…ì³ 9ì¥</a>
<ul>
<li class="toc-entry toc-h2"><a href="#1-manyentity-register-route-ì¶”ê°€---register-pet">1 ManyEntity register Route ì¶”ê°€ - register pet</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-framework-adapter-methodê°€-ìˆëŠ”-ìƒíƒœì—ì„œ-routeì¶”ê°€í•˜ë ¤ë©´-ê°€ì¥-ë¨¼ì €-composite-routeê°ì²´ì¡°í•©-controllerê°ì²´ë¥¼-ë°˜í™˜í•´ì¤„-composer-methodë¶€í„°">01 framework adapter methodê°€ ìˆëŠ” ìƒíƒœì—ì„œ routeì¶”ê°€í•˜ë ¤ë©´, ê°€ì¥ ë¨¼ì € composite routeê°ì²´(ì¡°í•© controllerê°ì²´)ë¥¼ ë°˜í™˜í•´ì¤„ [composer methodë¶€í„°]</a>
<ul>
<li class="toc-entry toc-h4"><a href="#srcmaincomposerregister_pet_compositepyì—-composer-method-ì‘ì„±í•˜ê¸°">src&gt;main&gt;composer&gt;register_pet_composite.pyì— composer method ì‘ì„±í•˜ê¸°</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#02-srcmainroutesapi_routepyì—--route-ì¶”ê°€í•˜ê¸°">02 src&gt;main&gt;routes&gt;api_route.pyì—  route ì¶”ê°€í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ê¸°ì¡´-register-oneentityë¥¼-ë³µì‚¬í•´ì„œ-ìˆ˜ì •í•œë‹¤">ê¸°ì¡´ register oneEntityë¥¼ ë³µì‚¬í•´ì„œ ìˆ˜ì •í•œë‹¤.</a></li>
<li class="toc-entry toc-h4"><a href="#routeê°ì²´--flask-request---adapterë¥¼-í†µí•œ-reponseë¡œ-messageë¥¼-ì‘ì„±í• -ë•ŒëŠ”-typeë°°ì •id-ì™¸ì—-attributesë¥¼-ë¿Œë ¤ì¤„-ë•-domainmodelsì˜-ê°-entityí•„ë“œë¥¼-ì°¸ê³ í•œë‹¤">routeê°ì²´ + flask request -&gt; adapterë¥¼ í†µí•œ reponseë¡œ messageë¥¼ ì‘ì„±í•  ë•ŒëŠ”, type/ë°°ì •id ì™¸ì— attributesë¥¼ ë¿Œë ¤ì¤„ ë•, domain&gt;modelsì˜ ê° entityí•„ë“œë¥¼ ì°¸ê³ í•œë‹¤</a></li>
<li class="toc-entry toc-h4"><a href="#jsonapiì—-ë”°ë¼-user_idfk-í•„ë“œëŠ”--id-attributes-ì™¸ì—-relationshipsì´ë¼ëŠ”-keyë¡œ-valueì—ëŠ”-fkentityì˜-entityì •ì˜ì‹œì˜-ê´€ê³„ëª…backrefëª…ìœ¼ë¡œ-ë‹¤ì‹œ-ì‹¸ì„œ-user_idë¥¼-í¬ì¥í•´ì„œ-ë”°ë¡œ-ë¿Œë ¤ì£¼ê¸°">jsonapiì— ë”°ë¼ user_id(FK) í•„ë“œëŠ”  id/ attributes ì™¸ì— relationshipsì´ë¼ëŠ” keyë¡œ valueì—ëŠ” FkEntityì˜ entity[ì •ì˜ì‹œì˜ ê´€ê³„ëª…?backrefëª…?]ìœ¼ë¡œ ë‹¤ì‹œ ì‹¸ì„œ user_idë¥¼ í¬ì¥í•´ì„œ ë”°ë¡œ ë¿Œë ¤ì£¼ê¸°</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#03-ì‘ì„±ëœ-routeë¥¼-postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸">03 ì‘ì„±ëœ routeë¥¼ POSTMANìœ¼ë¡œ í…ŒìŠ¤íŠ¸</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ì»¤ë°‹">ì»¤ë°‹</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#ì°¸ê³ ">ì°¸ê³ </a>
<ul>
<li class="toc-entry toc-h4"><a href="#gitignore">gitignore</a></li>
<li class="toc-entry toc-h4"><a href="#sqlalchemyíŒ¨í‚¤ì§€">sqlalchemyíŒ¨í‚¤ì§€</a></li>
<li class="toc-entry toc-h4"><a href="#githubì—ì„œ-brë”°ì„œ-ì‘ì—…í•˜ê¸°">githubì—ì„œ brë”°ì„œ ì‘ì—…í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h5"><a href="#1-1-githubì—ì„œ-brìƒì„±--clone">[1-1] githubì—ì„œ brìƒì„± ~ clone</a></li>
<li class="toc-entry toc-h5"><a href="#cloneí›„-ì´ˆê¸°-ì‘ì—…-ì„¸íŒ…">cloneí›„ ì´ˆê¸° ì‘ì—… ì„¸íŒ…</a></li>
<li class="toc-entry toc-h5"><a href="#1-2-ì‘ì—…ëë‚œ-brì˜-í´ë”ì—ì„œ-ìƒˆ-ì‘ì—…-brìƒì„±--ë¶„ê¸°ê²Œì‹œ-ì´ˆê¸°ì„¸íŒ…-ë˜-ì•ˆí•´ë„-ë˜ëŠ”-ì¥ì ">[1-2] ì‘ì—…ëë‚œ brì˜ í´ë”ì—ì„œ ìƒˆ ì‘ì—… brìƒì„± ~ ë¶„ê¸°ê²Œì‹œ (ì´ˆê¸°ì„¸íŒ… ë˜ ì•ˆí•´ë„ ë˜ëŠ” ì¥ì )</a></li>
<li class="toc-entry toc-h5"><a href="#1-3--ì˜›ë‚ ì—-ë”°ë‘”-brì—ì„œ-ì‘ì—…ì‹œì‘í• -ë•-ìµœì‹ -masterë¥¼-pull---rebaseí›„ì—-ì‘ì—…ì‹œì‘í•˜ê¸°">[1-3]  ì˜›ë‚ ì— ë”°ë‘” brì—ì„œ ì‘ì—…ì‹œì‘í•  ë•, ìµœì‹  masterë¥¼ pull -&gt; rebaseí›„ì— ì‘ì—…ì‹œì‘í•˜ê¸°</a></li>
<li class="toc-entry toc-h5"><a href="#2-framework-ìˆë‹¤ë©´-venvì—-í™˜ê²½ë³€ìˆ˜-ì„¸íŒ…---vscode-ë””ë²„ê¹…-ì„¸íŒ…">[2] framework ìˆë‹¤ë©´ venvì— í™˜ê²½ë³€ìˆ˜ ì„¸íŒ… -&gt; vscode ë””ë²„ê¹… ì„¸íŒ…</a></li>
<li class="toc-entry toc-h5"><a href="#3-í•´ë‹¹br-ì‘ì—…í…ŒìŠ¤íŠ¸-ì™„ë£Œí›„--mergeê¹Œì§€-ì •ë¦¬">[3] í•´ë‹¹br ì‘ì—…(í…ŒìŠ¤íŠ¸) ì™„ë£Œí›„ ~ mergeê¹Œì§€ ì •ë¦¬</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#vscode-ì„¤ì •">vscode ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#testì •ë¦¬">testì •ë¦¬</a></li>
<li class="toc-entry toc-h4"><a href="#status_code">status_code</a></li>
<li class="toc-entry toc-h4"><a href="#powershell-í™˜ê²½ë³€ìˆ˜-ë“±ë¡í™•ì¸">powershell í™˜ê²½ë³€ìˆ˜ ë“±ë¡/í™•ì¸</a></li>
</ul>
</li>
</ul>
</li>
</ul><h1 id="í´ë¦°-ì•„í‚¤í…ì³-9ì¥">
<a class="anchor" href="#%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-9%EC%9E%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>í´ë¦° ì•„í‚¤í…ì³ 9ì¥</h1>

<h2 id="1-manyentity-register-route-ì¶”ê°€---register-pet">
<a class="anchor" href="#1-manyentity-register-route-%EC%B6%94%EA%B0%80---register-pet" aria-hidden="true"><span class="octicon octicon-link"></span></a>1 ManyEntity register Route ì¶”ê°€ - register pet</h2>

<h3 id="01-framework-adapter-methodê°€-ìˆëŠ”-ìƒíƒœì—ì„œ-routeì¶”ê°€í•˜ë ¤ë©´-ê°€ì¥-ë¨¼ì €-composite-routeê°ì²´ì¡°í•©-controllerê°ì²´ë¥¼-ë°˜í™˜í•´ì¤„-composer-methodë¶€í„°">
<a class="anchor" href="#01-framework-adapter-method%EA%B0%80-%EC%9E%88%EB%8A%94-%EC%83%81%ED%83%9C%EC%97%90%EC%84%9C-route%EC%B6%94%EA%B0%80%ED%95%98%EB%A0%A4%EB%A9%B4-%EA%B0%80%EC%9E%A5-%EB%A8%BC%EC%A0%80-composite-route%EA%B0%9D%EC%B2%B4%EC%A1%B0%ED%95%A9-controller%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EB%B0%98%ED%99%98%ED%95%B4%EC%A4%84-composer-method%EB%B6%80%ED%84%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 framework adapter methodê°€ ìˆëŠ” ìƒíƒœì—ì„œ routeì¶”ê°€í•˜ë ¤ë©´, ê°€ì¥ ë¨¼ì € composite routeê°ì²´(ì¡°í•© controllerê°ì²´)ë¥¼ ë°˜í™˜í•´ì¤„ [composer methodë¶€í„°]</h3>

<h4 id="srcmaincomposerregister_pet_compositepyì—-composer-method-ì‘ì„±í•˜ê¸°">
<a class="anchor" href="#srcmaincomposerregister_pet_compositepy%EC%97%90-composer-method-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>src&gt;main&gt;composer&gt;register_pet_composite.pyì— composer method ì‘ì„±í•˜ê¸°</h4>

<ol>
  <li>
    <p>repoë¶€í„° use case, controllerê¹Œì§€ ëª¨ë“  ê°ì²´ê°€ ë‹¤ í•„ìš”í•˜ë¯€ë¡œ importí•œë‹¤</p>

    <ul>
      <li>
        <p><strong>ManyEntity Composite routeê°ì²´ê¹Œì§€ëŠ” <code class="language-plaintext highlighter-rouge">FK_repo -&gt; FindFK_usecaseê¹Œì§€ ì¶”ê°€</code>ë¡œ importí•´ì•¼í•œë‹¤.</strong></p>

        <ul>
          <li>
<strong>ManyEntity_Controllerë¶€í„°ëŠ”</strong> FKrepoì™€ FindFKusecaseê°€ í†µí•©ë˜ì„œ <strong>1ê°œ Entityë¡œ ì²˜ë¦¬</strong>ëœë‹¤.</li>
        </ul>
      </li>
      <li>
        <p><strong>repoë“¤ì€ <code class="language-plaintext highlighter-rouge">ê°ì²´ ìƒì„±ì—†ì´ ì‚¬ìš©í•˜ëŠ” @classmethod</code>ë¡œì„œ <code class="language-plaintext highlighter-rouge">init</code>ì— ì•ˆì˜¬ë¦¬ê³ , <code class="language-plaintext highlighter-rouge">ì§ì ‘ pyê¹Œì§€ fromìœ¼ë¡œ ì¡ê³  import class</code>í•´ì„œ ì“´ë‹¤.</strong></p>

        <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008212652620.png" alt="image-20221008212652620"></p>

        <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008212938458.png" alt="image-20221008212938458"></p>
      </li>
    </ul>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">src.infra.repo.pet_repository</span> <span class="kn">import</span> <span class="n">PetRepository</span>
<span class="kn">from</span> <span class="nn">src.infra.repo.user_repository</span> <span class="kn">import</span> <span class="n">UserRepository</span>
<span class="kn">from</span> <span class="nn">src.data.register_pet</span> <span class="kn">import</span> <span class="n">RegisterPet</span>
<span class="kn">from</span> <span class="nn">src.data.find_user</span> <span class="kn">import</span> <span class="n">FindUser</span>
<span class="kn">from</span> <span class="nn">src.presenters.caontrollers</span> <span class="kn">import</span> <span class="n">RegisterPetController</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>ì¡°í•©ëœ controllerê°ì²´ëŠ” returnTypeì´ RouteInterfaceë¡œ í†µì¼ì´ë‹¤.</p>

    <ul>
      <li>ë‘˜ë‹¤ routeí•¨ìˆ˜ë¥¼ ì“°ë©° HttpRequest -&gt; HttpResponse</li>
    </ul>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">src.infra.repo.pet_repository</span> <span class="kn">import</span> <span class="n">PetRepository</span>
<span class="kn">from</span> <span class="nn">src.infra.repo.user_repository</span> <span class="kn">import</span> <span class="n">UserRepository</span>
<span class="kn">from</span> <span class="nn">src.data.register_pet</span> <span class="kn">import</span> <span class="n">RegisterPet</span>
<span class="kn">from</span> <span class="nn">src.data.find_user</span> <span class="kn">import</span> <span class="n">FindUser</span>
<span class="kn">from</span> <span class="nn">src.main.interface.route</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
<span class="kn">from</span> <span class="nn">src.presenters.controllers</span> <span class="kn">import</span> <span class="n">RegisterPetController</span>
   
<span class="k">def</span> <span class="nf">register_pet_composer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RouteInterface</span><span class="p">:</span>
    <span class="s">"""Composing Register Pet Route
    :param - None
    :return - Object with Register Pet Route
    """</span>
   
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>importí•œ ì¬ë£Œë“¤ë¡œ composite routeê°ì²´(ì¡°í•©ëœ controller)ë¥¼ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•œë‹¤.</strong></p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c1">#....
</span>   
<span class="k">def</span> <span class="nf">register_pet_composer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RouteInterface</span><span class="p">:</span>
    <span class="s">"""Composing Register Pet Route
    :param - None
    :return - Object with Register Pet Route
    """</span>
   
    <span class="n">pet_repository</span> <span class="o">=</span> <span class="n">PetRepository</span><span class="p">()</span>
    <span class="n">find_user_use_case</span> <span class="o">=</span> <span class="n">FindUser</span><span class="p">(</span><span class="n">UserRepository</span><span class="p">())</span>
    <span class="n">use_case</span> <span class="o">=</span> <span class="n">RegisterPet</span><span class="p">(</span><span class="n">pet_repository</span><span class="p">,</span> <span class="n">find_user_use_case</span><span class="p">)</span>
   
    <span class="n">register_pet_route</span> <span class="o">=</span> <span class="n">RegisterPetController</span><span class="p">(</span><span class="n">use_case</span><span class="p">)</span>
   
    <span class="k">return</span> <span class="n">register_pet_route</span>
   
</code></pre></div>    </div>
  </li>
  <li>
    <p>composerì— initì— ì˜¬ë¦°ë‹¤.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.register_user_composite</span> <span class="kn">import</span> <span class="n">register_user_composer</span>
<span class="kn">from</span> <span class="nn">.register_pet_composite</span> <span class="kn">import</span> <span class="n">register_pet_composer</span>
   
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="02-srcmainroutesapi_routepyì—--route-ì¶”ê°€í•˜ê¸°">
<a class="anchor" href="#02-srcmainroutesapi_routepy%EC%97%90--route-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 src&gt;main&gt;routes&gt;api_route.pyì—  route ì¶”ê°€í•˜ê¸°</h3>

<h4 id="ê¸°ì¡´-register-oneentityë¥¼-ë³µì‚¬í•´ì„œ-ìˆ˜ì •í•œë‹¤">
<a class="anchor" href="#%EA%B8%B0%EC%A1%B4-register-oneentity%EB%A5%BC-%EB%B3%B5%EC%82%AC%ED%95%B4%EC%84%9C-%EC%88%98%EC%A0%95%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>ê¸°ì¡´ register oneEntityë¥¼ ë³µì‚¬í•´ì„œ ìˆ˜ì •í•œë‹¤.</h4>

<ol>
  <li>
    <p>routeí•¨ìˆ˜ëª…ë¶€í„° usecaseëª…ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤</p>
  </li>
  <li>
    <p>ë°ì½”ì˜ urlì—ëŠ” entity(pets)ë¥¼ methodsì—ëŠ” í–‰ìœ„(register-&gt;POST)ë¥¼ í‘œì‹œí•œë‹¤</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/pets"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_pet</span><span class="p">():</span>
    <span class="s">"""register pet route"""</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>ì‘ì„±í•œ routeê°ì²´ ë°˜í™˜ compsoer methodë¥¼ importí•œ ë’¤ <strong>adapter methodë¥¼ í†µí•´  <code class="language-plaintext highlighter-rouge">fw request</code>ì™€ <code class="language-plaintext highlighter-rouge">composite routeê°ì²´</code>ë¥¼ ì¸ìë¡œ <code class="language-plaintext highlighter-rouge">response</code>ë¥¼ ì–»ì–´ë‚´ ë©”ì„¸ì§€ë¥¼ ì‘ì„±í•  ì¤€ë¹„ë¥¼ í•œë‹¤.</strong></p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c1">#...
</span><span class="kn">from</span> <span class="nn">src.main.composer</span> <span class="kn">import</span> <span class="n">register_user_composer</span><span class="p">,</span> <span class="n">register_pet_composer</span>
<span class="c1">#...
</span>   
<span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/pets"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_pet</span><span class="p">():</span>
    <span class="s">"""register pet route"""</span>
   
    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_pet_composer</span><span class="p">())</span>
</code></pre></div>    </div>

    <ul>
      <li>controllerê°ì²´ë¶€í„°ëŠ” responseê°€ â€œstatus_codeâ€ ì™€  â€œbodyâ€ì´ë©°, bodyì—ëŠ” usecaseì˜ â€œDataâ€ê°€ ë“¤ì–´ê°€ìˆë‹¤.</li>
    </ul>
  </li>
</ol>

<h4 id="routeê°ì²´--flask-request---adapterë¥¼-í†µí•œ-reponseë¡œ-messageë¥¼-ì‘ì„±í• -ë•ŒëŠ”-typeë°°ì •id-ì™¸ì—-attributesë¥¼-ë¿Œë ¤ì¤„-ë•-domainmodelsì˜-ê°-entityí•„ë“œë¥¼-ì°¸ê³ í•œë‹¤">
<a class="anchor" href="#route%EA%B0%9D%EC%B2%B4--flask-request---adapter%EB%A5%BC-%ED%86%B5%ED%95%9C-reponse%EB%A1%9C-message%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%A0-%EB%95%8C%EB%8A%94-type%EB%B0%B0%EC%A0%95id-%EC%99%B8%EC%97%90-attributes%EB%A5%BC-%EB%BF%8C%EB%A0%A4%EC%A4%84-%EB%95%90-domainmodels%EC%9D%98-%EA%B0%81-entity%ED%95%84%EB%93%9C%EB%A5%BC-%EC%B0%B8%EA%B3%A0%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>routeê°ì²´ + flask request -&gt; adapterë¥¼ í†µí•œ reponseë¡œ messageë¥¼ ì‘ì„±í•  ë•ŒëŠ”, type/ë°°ì •id ì™¸ì— attributesë¥¼ ë¿Œë ¤ì¤„ ë•, domain&gt;modelsì˜ ê° entityí•„ë“œë¥¼ ì°¸ê³ í•œë‹¤</h4>

<ul>
  <li>
    <p>usersëŠ” <del><code class="language-plaintext highlighter-rouge">id</code></del> + <code class="language-plaintext highlighter-rouge">name</code> + <del>password</del> ë¼ì„œ <code class="language-plaintext highlighter-rouge">name</code>ë§Œ attributesì— ë¿Œë ¤ì¤¬ë‹¤.</p>
  </li>
  <li>
    <p>domain&gt;models&gt;pets.pyì—ì„œ í•„ë“œë“¤ì„ ì°¸ê³ í•˜ì</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008215631341.png" alt="image-20221008215631341"></p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/pets"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_pet</span><span class="p">():</span>
    <span class="s">"""register pet route"""</span>

    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_pet_composer</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
        <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"pets"</span><span class="p">,</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"attributes"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"name"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s">"specie"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">specie</span><span class="p">,</span>
                <span class="s">"age"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">age</span>
                <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"data"</span><span class="p">:</span> <span class="n">message</span><span class="p">}),</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span>
</code></pre></div></div>

<h4 id="jsonapiì—-ë”°ë¼-user_idfk-í•„ë“œëŠ”--id-attributes-ì™¸ì—-relationshipsì´ë¼ëŠ”-keyë¡œ-valueì—ëŠ”-fkentityì˜-entityì •ì˜ì‹œì˜-ê´€ê³„ëª…backrefëª…ìœ¼ë¡œ-ë‹¤ì‹œ-ì‹¸ì„œ-user_idë¥¼-í¬ì¥í•´ì„œ-ë”°ë¡œ-ë¿Œë ¤ì£¼ê¸°">
<a class="anchor" href="#jsonapi%EC%97%90-%EB%94%B0%EB%9D%BC-user_idfk-%ED%95%84%EB%93%9C%EB%8A%94--id-attributes-%EC%99%B8%EC%97%90-relationships%EC%9D%B4%EB%9D%BC%EB%8A%94-key%EB%A1%9C-value%EC%97%90%EB%8A%94-fkentity%EC%9D%98-entity%EC%A0%95%EC%9D%98%EC%8B%9C%EC%9D%98-%EA%B4%80%EA%B3%84%EB%AA%85backref%EB%AA%85%EC%9C%BC%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%EC%8B%B8%EC%84%9C-user_id%EB%A5%BC-%ED%8F%AC%EC%9E%A5%ED%95%B4%EC%84%9C-%EB%94%B0%EB%A1%9C-%EB%BF%8C%EB%A0%A4%EC%A3%BC%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>jsonapiì— ë”°ë¼ user_id(FK) í•„ë“œëŠ”  id/ attributes ì™¸ì— relationshipsì´ë¼ëŠ” keyë¡œ valueì—ëŠ” FkEntityì˜ entity[ì •ì˜ì‹œì˜ ê´€ê³„ëª…?backrefëª…?]ìœ¼ë¡œ ë‹¤ì‹œ ì‹¸ì„œ user_idë¥¼ í¬ì¥í•´ì„œ ë”°ë¡œ ë¿Œë ¤ì£¼ê¸°</h4>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008220350922.png" alt="image-20221008220350922"></p>

<ul>
  <li>
    <p>ì›ë˜ëŠ” <strong>Users</strong>ì—  Petsì´ ê°€ì§„ FKë¡œì„œ UserëŠ” Petsì—ê²Œ relationshipì„ ì¤„ ë•Œ,  ê´€ê³„ëª…ì„ <code class="language-plaintext highlighter-rouge">owner</code>ë¼ê³  í•  ê²ƒ ê°™ì€ë° ì—¬ê¸°ì„  ê·¸ëƒ¥ id_petì˜ ë³€ìˆ˜ë°–ì— ì—†ë‹¤?</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008221132671.png" alt="image-20221008221132671"></p>
  </li>
</ul>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008221223396.png" alt="image-20221008221223396"></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/pets"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_pet</span><span class="p">():</span>
    <span class="s">"""register pet route"""</span>

    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_pet_composer</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
        <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"pets"</span><span class="p">,</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"attributes"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"name"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s">"specie"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">specie</span><span class="p">,</span>
                <span class="s">"age"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">age</span>
            <span class="p">},</span>
            <span class="s">"relationships"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"owner"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
                    <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">user_id</span>
                <span class="p">}</span>

            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"data"</span><span class="p">:</span> <span class="n">message</span><span class="p">}),</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span>

    <span class="c1"># Handing Errors
</span>    <span class="k">return</span> <span class="p">(</span>
        <span class="n">jsonify</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s">"error"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"status"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
                    <span class="s">"title"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">[</span><span class="s">"error"</span><span class="p">],</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">),</span>
        <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></div>

<h3 id="03-ì‘ì„±ëœ-routeë¥¼-postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸">
<a class="anchor" href="#03-%EC%9E%91%EC%84%B1%EB%90%9C-route%EB%A5%BC-postman%EC%9C%BC%EB%A1%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 ì‘ì„±ëœ routeë¥¼ POSTMANìœ¼ë¡œ í…ŒìŠ¤íŠ¸</h3>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">flask run</code></p>

    <ul>
      <li>ë””ë²„ê¹…í• ë•Œë§Œ vscodeì—ì„œ F9 -&gt; F5</li>
    </ul>
  </li>
  <li>
    <p>postë‹ˆê¹Œ Headers í™•ì¸</p>
  </li>
  <li>
    <p>bodyëŠ” rawë¡œ ì‘ì„±</p>

    <ul>
      <li><strong>Find_fkì •ë³´ëŠ” <code class="language-plaintext highlighter-rouge">fk_information</code>ìœ¼ë¡œ ì§€ì •í•´ë†¨ì—ˆë‹¤.</strong></li>
    </ul>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008223856902.png" alt="image-20221008223856902"></p>
  </li>
  <li>
    <p>ê²°ê³¼</p>

    <ul>
      <li><strong>responseì‹œ fkì— ëŒ€í•œ ì •ë³´ëŠ” <code class="language-plaintext highlighter-rouge">relationships</code> ì— <code class="language-plaintext highlighter-rouge">ê´€ê³„ëª…</code>ì— ìŒ“ì—¬ì„œ ì˜¨ë‹¤</strong></li>
    </ul>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221008223948758.png" alt="image-20221008223948758"></p>
  </li>
</ol>

<ul>
  <li>Type ëŒ€ë¬¸ìë¥¼ ì†Œë¬¸ìë¡œ ê³ ì¹¨</li>
</ul>

<h4 id="ì»¤ë°‹">
<a class="anchor" href="#%EC%BB%A4%EB%B0%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì»¤ë°‹</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -am "feat: implementing register_pet Route"
</code></pre></div></div>

<h2 id="ì°¸ê³ ">
<a class="anchor" href="#%EC%B0%B8%EA%B3%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì°¸ê³ </h2>

<ul>
  <li>
<a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Robert C. Martin (Uncle Bob)ì˜ Clean Code Blog</a>
    <ul>
      <li><a href="https://leanpub.com/clean-architectures-in-python">PDF-free-Clean Architectures in Python</a></li>
    </ul>
  </li>
  <li><a href="https://velog.io/@jahoy/Python%EC%9C%BC%EB%A1%9C-Clean-Architecture-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">ìš©ì–´ ì°¸ê³  ë¸”ë¡œê·¸ 1í¸</a></li>
  <li><a href="https://velog.io/@jahoy/Python%EC%9C%BC%EB%A1%9C-%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B02">ìš©ì–´ ì°¸ê³  ë¸”ë¡œê·¸ 2í¸</a></li>
  <li>
    <p><a href="https://testdriven.io/blog/fastapi-crud/#postgres-setup">fasapi vs flask</a></p>
  </li>
  <li>jsonapi ì˜ˆì œë¬¸ì„œ
    <ul>
      <li>https://jsonapi.org/format/#document-top-level</li>
      <li>https://jsonapi.org/format/#crud-creating-responses</li>
    </ul>
  </li>
  <li>vscode flask ë””ë²„ê¹… ì„¸íŒ… ë¬¸ì„œ
    <ul>
      <li>https://code.visualstudio.com/docs/python/debugging#_flask-debugging</li>
    </ul>
  </li>
</ul>

<h4 id="gitignore">
<a class="anchor" href="#gitignore" aria-hidden="true"><span class="octicon octicon-link"></span></a>gitignore</h4>

<ul>
  <li>
    <p>gitì— commitë˜ì—ˆë˜ ê²ƒì„ ignoreí•˜ê³  ì‹¶ì„ ë•Œ</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git rm [íŒŒì¼ëª…] --cached
</code></pre></div>    </div>
  </li>
  <li>
    <p>git amend</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git commit --amend --no-edit
</code></pre></div>    </div>
  </li>
</ul>

<ol>
  <li>console ë“±ì—ì„œ init importë¶€í„° ìƒê¸°ëŠ” pycacheí´ë”</li>
  <li>venv</li>
  <li>ì—°ìŠµìš© sqlite .dbíŒŒì¼</li>
  <li>pytestì‹œ ìƒê¸°ëŠ” .pytest_cache í´ë”</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>**/__pycache__
venv
storage.db
.pytest_cache
</code></pre></div></div>

<h4 id="sqlalchemyíŒ¨í‚¤ì§€">
<a class="anchor" href="#sqlalchemy%ED%8C%A8%ED%82%A4%EC%A7%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>sqlalchemyíŒ¨í‚¤ì§€</h4>

<ul>
  <li>ì¼ë°˜ íŒ¨í‚¤ì§€: create_engine / ì¹¼ëŸ¼ì¬ë£Œë“¤</li>
  <li>.orm íŒ¨í‚¤ì§€:
    <ul>
      <li>relatioship: 1:Mì—ì„œ 1ì— í•´ë‹¹í•˜ëŠ” tableì´ ë“¤ê³  ìˆëŠ” ê°€ì§œì¹¼ëŸ¼</li>
      <li>sessionmaker: handler class ì† enterì—ì„œ engineì„ ë¬¶ì–´ì„œ sessionì„ ë°˜í™˜í•´ì£¼ëŠ” ë†ˆ</li>
    </ul>
  </li>
  <li>.exc íŒ¨í‚¤ì§€:
    <ul>
      <li>IntegrityError: unique key ì¤‘ë³µì‹œ ë‚˜ëŠ” ì—ëŸ¬</li>
    </ul>
  </li>
  <li>ê³„ì¸µë³„ ë³€ìˆ˜ì •ë¦¬
    <ul>
      <li>id : sqlalchemy -&gt; <strong>repoë¶€í„°ëŠ”</strong> fk_idë„ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">pk_id</code>
</li>
      <li>name: sqlalchemy-&gt;repo-&gt;usecaseê¹Œì§€ëŠ” ê·¸ëƒ¥ name (ì„ íƒì¸ì ê°œë³„ë©”ì„œë“œì—by_name)-&gt; <strong>controllerë¶€í„°ëŠ” ì™¸ë¶€ì—ì„  ë‹¤ë¥¸(pet)_nameë„ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">fk_name</code></strong>
        <ul>
          <li><strong>OneEntityì˜ ê²½ìš° ê·¸ëƒ¥ controllerì—ì„œë„ <code class="language-plaintext highlighter-rouge">name</code>ë§Œ</strong></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="githubì—ì„œ-brë”°ì„œ-ì‘ì—…í•˜ê¸°">
<a class="anchor" href="#github%EC%97%90%EC%84%9C-br%EB%94%B0%EC%84%9C-%EC%9E%91%EC%97%85%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>githubì—ì„œ brë”°ì„œ ì‘ì—…í•˜ê¸°</h4>

<h5 id="1-1-githubì—ì„œ-brìƒì„±--clone">
<a class="anchor" href="#1-1-github%EC%97%90%EC%84%9C-br%EC%83%9D%EC%84%B1--clone" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-1] githubì—ì„œ brìƒì„± ~ clone</h5>

<ol>
  <li>
    <p>githubì— ë“¤ì–´ê°€ì„œ <code class="language-plaintext highlighter-rouge">feat/~</code>ë¡œ ë¸Œëœì¹˜ ìƒì„±</p>
  </li>
  <li>
    <p>í•´ë‹¹ brë§Œ clone</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git clone -b [branch] [gitì£¼ì†Œ]
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="cloneí›„-ì´ˆê¸°-ì‘ì—…-ì„¸íŒ…">
<a class="anchor" href="#clone%ED%9B%84-%EC%B4%88%EA%B8%B0-%EC%9E%91%EC%97%85-%EC%84%B8%ED%8C%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>cloneí›„ ì´ˆê¸° ì‘ì—… ì„¸íŒ…</h5>

<ol>
  <li>gitignoreì¤‘ì— dbíŒŒì¼ ìˆìœ¼ë©´ ì˜®ê²¨ì£¼ê¸°
    <ul>
      <li>ì—†ìœ¼ë©´ config importí•´ì„œ Base + handler -&gt; get_enigne -&gt; bindí•œ ë‹¤ìŒ, create_all()í•´ì¤˜ì•¼í• ë“¯??</li>
    </ul>
  </li>
</ol>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20220929154256052.png" alt="image-20220929154256052"></p>

<ol>
  <li>githubì—ì„œ ë”°ì˜¨ ë¹ˆ ìƒˆbrì— ëŒ€í•´, venvë¥¼ ë§Œë“¤ê³  í™œì„±í™”í•˜ê³   vscodeë¥¼ ì—°ë‹¤</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m virtualenv -p python310 venv

.\venv\Scripts\activate
</code></pre></div></div>

<ol>
  <li>ìµœì´ˆ requirements.txt ì§ì ‘ ì„¤ì¹˜</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -r requirements.txt
</code></pre></div></div>

<ol>
  <li>ìµœì´ˆ pre-commit install ì§ì ‘ ì„¸íŒ…</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pre-commit install
</code></pre></div></div>

<ol>
  <li>vscode ì—´ê³  interpreter venvë¡œ ì§€ì •</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>code .
</code></pre></div></div>

<h5 id="1-2-ì‘ì—…ëë‚œ-brì˜-í´ë”ì—ì„œ-ìƒˆ-ì‘ì—…-brìƒì„±--ë¶„ê¸°ê²Œì‹œ-ì´ˆê¸°ì„¸íŒ…-ë˜-ì•ˆí•´ë„-ë˜ëŠ”-ì¥ì ">
<a class="anchor" href="#1-2-%EC%9E%91%EC%97%85%EB%81%9D%EB%82%9C-br%EC%9D%98-%ED%8F%B4%EB%8D%94%EC%97%90%EC%84%9C-%EC%83%88-%EC%9E%91%EC%97%85-br%EC%83%9D%EC%84%B1--%EB%B6%84%EA%B8%B0%EA%B2%8C%EC%8B%9C-%EC%B4%88%EA%B8%B0%EC%84%B8%ED%8C%85-%EB%98%90-%EC%95%88%ED%95%B4%EB%8F%84-%EB%90%98%EB%8A%94-%EC%9E%A5%EC%A0%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-2] ì‘ì—…ëë‚œ brì˜ í´ë”ì—ì„œ ìƒˆ ì‘ì—… brìƒì„± ~ ë¶„ê¸°ê²Œì‹œ (ì´ˆê¸°ì„¸íŒ… ë˜ ì•ˆí•´ë„ ë˜ëŠ” ì¥ì )</h5>

<ol>
  <li>
    <p>í˜„ì¬ brë¥¼ í™•ì¸í•œë‹¤.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">branch</span>
<span class="o">*</span> <span class="n">feat</span><span class="o">/</span><span class="n">register_user_use_case</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>checkout -b</strong>ë¡œ ìƒˆ br ìƒì„±í•˜ì—¬ ì§„ì…í•˜ê¸°</p>

    <ul>
      <li>ì›ë˜ëŠ” githubì—ì„œ create branchí–ˆì—ˆìŒ.</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout -b feat/generic_use_cases
   
git branch
   
* feat/generic_use_cases
  feat/register_user_use_case
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>git push -u origin [branchëª…]ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">ìƒˆë¡œìƒì„±í•œ brë¥¼ pushí•´ì„œ githubì— ìƒì„±í•˜ê¸°</code></strong></p>

    <ul>
      <li>vscodeì—ì„œëŠ” push -u origin [branch] ëŒ€ì‹   <strong><code class="language-plaintext highlighter-rouge">ë¶„ê¸°ê²Œì‹œ</code>ê°€ ëœ¬ë‹¤.</strong>
</li>
    </ul>
  </li>
  <li>
    <p>githubì—ì„œ <strong>ë¹ˆ ë¶„ê¸°ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°</strong></p>

    <ul>
      <li>githubì— mergeë˜ê¸° ìœ„í•´ì„œëŠ” <strong>ì§ì „ ì‘ì—…ì´í›„ <code class="language-plaintext highlighter-rouge">githubì— ìƒˆ ì‘ì—… brë¥¼ ë¨¼ì € ìƒì„±í•´ë†“ê³  ì‘ì—…</code>ì— ë“¤ì–´ê°€ì•¼í•œë‹¤</strong>
</li>
    </ul>
  </li>
</ol>

<h5 id="1-3--ì˜›ë‚ ì—-ë”°ë‘”-brì—ì„œ-ì‘ì—…ì‹œì‘í• -ë•-ìµœì‹ -masterë¥¼-pull---rebaseí›„ì—-ì‘ì—…ì‹œì‘í•˜ê¸°">
<a class="anchor" href="#1-3--%EC%98%9B%EB%82%A0%EC%97%90-%EB%94%B0%EB%91%94-br%EC%97%90%EC%84%9C-%EC%9E%91%EC%97%85%EC%8B%9C%EC%9E%91%ED%95%A0-%EB%95%90-%EC%B5%9C%EC%8B%A0-master%EB%A5%BC-pull---rebase%ED%9B%84%EC%97%90-%EC%9E%91%EC%97%85%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-3]  ì˜›ë‚ ì— ë”°ë‘” brì—ì„œ ì‘ì—…ì‹œì‘í•  ë•, ìµœì‹  masterë¥¼ pull -&gt; rebaseí›„ì— ì‘ì—…ì‹œì‘í•˜ê¸°</h5>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">git checkout master</code>ë¥¼ í†µí•´ <strong>ì•ˆê°€ì ¸ì™€ì„œ ì•ˆë³´ì´ë˜ master</strong>ë¥¼ ë§Œë“ ë‹¤</p>

    <ul>
      <li>
<strong>-bì˜ ìƒˆë¡œë§Œë“  ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ</strong> remoteì™€ ì—°ê²°ëœ masterê°€ ëœë‹¤.</li>
      <li>
<code class="language-plaintext highlighter-rouge">git branch</code>ë¡œ í™•ì¸</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout master
   
git branch
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">git pull</code>ë¡œ masterì— ìµœì‹  ì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git pull
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>rebaseë°›ì„ ì—…ëƒì•ˆëœ ì‘ì—…brë¡œ ë„˜ì–´ê°„ ë’¤, <code class="language-plaintext highlighter-rouge">matserì˜ ë‚´ìš©ì„ rebaseë¡œ ë°›ì•„ì˜¨ë‹¤</code></strong></p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout [ì‘ì—…br]
   
git rebase master
   
git log --oneline
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="2-framework-ìˆë‹¤ë©´-venvì—-í™˜ê²½ë³€ìˆ˜-ì„¸íŒ…---vscode-ë””ë²„ê¹…-ì„¸íŒ…">
<a class="anchor" href="#2-framework-%EC%9E%88%EB%8B%A4%EB%A9%B4-venv%EC%97%90-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%B8%ED%8C%85---vscode-%EB%94%94%EB%B2%84%EA%B9%85-%EC%84%B8%ED%8C%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>[2] framework ìˆë‹¤ë©´ venvì— í™˜ê²½ë³€ìˆ˜ ì„¸íŒ… -&gt; vscode ë””ë²„ê¹… ì„¸íŒ…</h5>

<ol>
  <li>
    <p>ë“±ë¡:</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_APP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ì´ˆê¸°í™”ëœ appê°ì²´ë¥¼ importí•œ pythoníŒŒì¼ëª…"</span><span class="w">
</span><span class="c">#export FLASK_APP=íŒŒì¼ëª…</span><span class="w">
</span></code></pre></div>    </div>

    <ul>
      <li>powershellì€ íŒŒì¼ëª…ì€ â€œ â€œ í™•ì¥ìë¥¼ ëº€ ìŒë”°ì˜´í‘œë¡œ</li>
      <li><strong>ë³´í†µ appê°ì²´ importí•œ pythoníŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">run</code>ì´ë¼ê³  ëª…ëª…í•˜ë©°, mainìœ¼ë¡œ app.runë„ ê°€ì§€ê³  ìˆë‹¤.</strong></li>
    </ul>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_RUN_PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8000</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>í™•ì¸</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p><strong>clië¡œ frameworkì‹¤í–‰</strong></p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   flask run
</code></pre></div></div>

<ol>
  <li>
    <p><strong>vscodeì— F5ë¡œ ì‹¤í–‰ ë° ë””ë²„ê¹… ê°€ëŠ¥í•˜ê²Œ ì„¸íŒ…(.vscode/launch.json)</strong></p>

    <ol>
      <li>
        <p>vscode ì¢Œì¸¡ì— <code class="language-plaintext highlighter-rouge">ì‹¤í–‰ ë° ë””ë²„ê·¸</code>ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.</p>
      </li>
      <li>
        <p><strong>launch.json file</strong>ì„ ëˆ„ë¥´ê³  -&gt; python -&gt; python fileì„ ì„ íƒí•´ì„œ <strong>localì— <code class="language-plaintext highlighter-rouge">.vscode &gt; launch.json</code>ì„ ìƒì„±í•œë‹¤</strong></p>
      </li>
      <li>
        <p>vscode ë¬¸ì„œ &gt; python &gt; debugging &gt; <a href="https://code.visualstudio.com/docs/python/debugging#_flask-debugging">flask debugging</a>ì„ ì°¾ì•„ê°€ì„œ ì„¤ì •ì„ ë³µì‚¬í•´ì˜¨ë‹¤</p>

        <div class="language-json highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Python: Flask (development mode)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flask"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"FLASK_APP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app.py"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FLASK_ENV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"run"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"jinja"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
      
</span></code></pre></div>        </div>
      </li>
      <li>
        <p><strong>launch.json ë‚´ìš© ì¤‘ <code class="language-plaintext highlighter-rouge">configurations</code> ë‚´ë¶€ list value ì¤‘ 1ê°œë¡œ dictë¥¼ ë³µë¶™í•œë‹¤.</strong></p>
      </li>
      <li>
        <p><strong>FLASK_APPì— íŒŒì¼ëª…ì´ ì•„ë‹Œ pyí™•ì¥ìê¹Œì§€ ë‹¤ ì ì–´ì¤˜ì•¼í•œë‹¤. appê°ì²´ë¥¼ importí•˜ê³  ìˆëŠ” <code class="language-plaintext highlighter-rouge">run.py</code>ë¥¼ ëª…ì‹œí•´ì£¼ì</strong></p>
      </li>
      <li>
        <p>ë‹¤ì‹œí•œë²ˆ run and debug íƒ­ì„ ëˆ„ë¥´ê³  ì‹¤í–‰ì‹œí‚¨ë‹¤.</p>
      </li>
    </ol>
  </li>
</ol>

<ul>
  <li>F5 ì‹¤í–‰, shift+F5 ì¢…ë£Œ, ctrl + shilft + F5 ì¬ì‹¤í–‰</li>
</ul>

<ol>
  <li>
    <p>F9ë¡œ routeì˜ returnë¶€ë¶„ì„ break pointë¥¼ ì°ê³  -&gt; F5ë¡œ ì‹¤í–‰ìƒíƒœì—ì„œ -&gt; POSTMANìœ¼ë¡œ ì…ë ¥ì„ ì¤€ ë’¤ -&gt;break pointí™•ì¸ í›„ í™•ì¸ì´ ëë‚˜ë©´ -&gt; continue(F5) í•´ë³´ì.</p>
  </li>
  <li>
    <p>git commit</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   improve: enabling debugger
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="3-í•´ë‹¹br-ì‘ì—…í…ŒìŠ¤íŠ¸-ì™„ë£Œí›„--mergeê¹Œì§€-ì •ë¦¬">
<a class="anchor" href="#3-%ED%95%B4%EB%8B%B9br-%EC%9E%91%EC%97%85%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%99%84%EB%A3%8C%ED%9B%84--merge%EA%B9%8C%EC%A7%80-%EC%A0%95%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>[3] í•´ë‹¹br ì‘ì—…(í…ŒìŠ¤íŠ¸) ì™„ë£Œí›„ ~ mergeê¹Œì§€ ì •ë¦¬</h5>

<ol>
  <li>
    <p>status í™•ì¸í›„ add . í›„  -amìœ¼ë¡œ ì»¤ë°‹-&gt;ì‹¤íŒ¨-&gt;-amì»¤ë°‹</p>

    <ul>
      <li><strong>addë¥¼ ë¨¼ì € ë‚ ë ¤ì•¼ addëœìƒíƒœë¡œ pytestí•˜ëŠ” ê²ƒ ê°™ë‹¤?!</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git status
   
git add .
   
git commit -am "feat: implementing data interfaces"
   
git commit -am "feat: implementing data interfaces"
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>git pushëŠ” í˜„ì¬ ë¡œê·¸ì¸ëœ vscodeì—ì„œ í•˜ê³  ìˆìŒ.</strong></p>
  </li>
  <li>
    <p><strong>githubì— ë“¤ì–´ê°€ë³´ë©´, <code class="language-plaintext highlighter-rouge">Compare &amp; pull request</code>ê°€ ë– ìˆë”ë¼ë„ <code class="language-plaintext highlighter-rouge">PRíƒ­ &gt; new PR</code>ë¡œ ë“¤ì–´ê°€ëŠ” ë²„ë¦‡ì„ ë“¤ì—¬ë³´ì.</strong></p>
  </li>
</ol>

<ul>
  <li>Comparing changeê¹Œì§€ ë“¤ì–´ê°€ì„œ ì½”ë“œë¥¼ í™•ì¸í•˜ê³  <code class="language-plaintext highlighter-rouge">Able to merge</code> ë° <code class="language-plaintext highlighter-rouge">ì„¸ë¶€ì½”ë“œ</code>ë¥¼ í™•ì¸í•˜ê³  <strong>ì§ì ‘ Create PRê¹Œì§€ ê°€ì</strong>
</li>
</ul>

<ol>
  <li><strong>mergeí›„ masterì— ë°˜ì˜ë˜ì—ˆëŠ”ì§€ê¹Œì§€ í™•ì¸í•˜ì</strong></li>
</ol>

<h4 id="vscode-ì„¤ì •">
<a class="anchor" href="#vscode-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>vscode ì„¤ì •</h4>

<ul>
  <li>ìºì‰¬íŒŒì¼ ì•ˆë³´ì´ê¸°</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"files.exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"**/__pycache__"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"**/.pytest_cache"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<ul>
  <li>
    <p>tabì‹œ spaceë¡œ ì…ë ¥ë˜ê¸°</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221001015405760.png" alt="image-20221001015405760"></p>
  </li>
  <li>
    <p>íƒìƒ‰ê¸° ì—´ê¸° ë‹¨ì¶•í‚¤ : <code class="language-plaintext highlighter-rouge">shift + alt + R</code></p>

    <ul>
      <li>íŒŒì¼: íŒŒì¼ íƒìƒ‰ê¸°ì— í‘œì‹œ</li>
    </ul>
  </li>
</ul>

<h4 id="testì •ë¦¬">
<a class="anchor" href="#test%EC%A0%95%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>testì •ë¦¬</h4>

<ol>
  <li>
    <p>repo_insert_X</p>

    <ol>
      <li>idì œì™¸ faker + insertë©”ì„œë“œ -&gt; new_dto</li>
      <li>new_dtoì† ë°°ì •id + engine db select -&gt; query_data -&gt; engine db delete</li>
      <li>assert new_dto.í•„ë“œ == query_dataí•„ë“œ ë¹„êµ</li>
    </ol>
  </li>
  <li>
    <p>repo_select_X</p>
    <ol>
      <li>idí¬í•¨ faker -&gt; entityëª¨ë¸ ê°ì²´</li>
      <li>idí¬í•¨ ì¬ë£Œë“¤ + engine db insert -&gt; dbë°ì´í„°ë§Œë“¤ì–´ë†“ê¸°</li>
      <li>id, fkì¬ë£Œë“¤ + selectë©”ì„œë“œ -&gt; List[entityëª¨ë¸ê°ì²´ë“¤]</li>
      <li>engine db delete</li>
    </ol>
  </li>
</ol>

<h4 id="status_code">
<a class="anchor" href="#status_code" aria-hidden="true"><span class="octicon octicon-link"></span></a>status_code</h4>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">422</code>: validate_entryì‹¤íŒ¨í•˜ëŠ” query ì† paramë“¤ -&gt; usecaseë©”ì„œë“œì˜ ê²°ê³¼ë¬¼ responseì˜ [â€œSuccessâ€]ê°€ False</p>

    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">í•„ìˆ˜param</code>(dictì† í•„ë“œ)ì´ ë¹ ì¡Œì„ ê²½ìš°(ì¡´ì¬ê²€ì¦) or í•„ìˆ˜paramì´ <code class="language-plaintext highlighter-rouge">validate_entryì‹¤íŒ¨</code>í•  ê²½ìš° -&gt; <code class="language-plaintext highlighter-rouge">response("Success"/"Data")ì˜ "Success"ê°€ False</code></strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if reponse["Success"] is False:
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">400</code>: queryì† paramë“¤ì´ í•„ìš”í•œ controllerì¸ë° http_requestì•ˆì— ì•„ì˜ˆ ì¡´ì¬ë„ ì•ˆí–ˆë‹¤ë©´, 400 Bad Requestì—ëŸ¬</p>

    <ul>
      <li><strong>http_requestì— í•„ìˆ˜paramì„ í¬í•¨í•œ .query or .bodyê°€ ì•„ì˜ˆ ë‚ ë¼ì˜¤ì§€ë„ ì•Šì•˜ì„ ê²½ìš°</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if http_request.query:
	# if query
# if not query
else:
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if http_request.body:
	# if body
# if not body
else:
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">409</code>:  íƒ€ê²Ÿ ìì›ì— ìƒíƒœì— ìš”ì²­ì´ conflictë¥¼ ìœ ë°œí•œ ê²½ìš°</p>

    <ul>
      <li><strong>register(insert) ìš”ì²­ì— ëŒ€í•´ unique key(name)ì´ ì¤‘ë³µëœ sendê°€ ë‚ ì•„ì™€, dbì—ì„œ unique constraint == ì¤‘ë³µì—ëŸ¬(IntegrityError)ë¥¼ ë°œìƒí•œ ê²½ìš°</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>POSTMANDì—ì„œ ìƒì„±ìš”ì²­ì„ ê°™ì€nameë¥¼ ê°€ì§„ bodyë¡œ 2ë²ˆ ìš”ì²­í–ˆì„ ë•Œ
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="powershell-í™˜ê²½ë³€ìˆ˜-ë“±ë¡í™•ì¸">
<a class="anchor" href="#powershell-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EB%93%B1%EB%A1%9D%ED%99%95%EC%9D%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>powershell í™˜ê²½ë³€ìˆ˜ ë“±ë¡/í™•ì¸</h4>

<ul>
  <li>pythonê°€ìƒí™˜ê²½ venvì—ì„œ activatedí•œ ìƒíƒœë¡œ ì ìš©
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">venv\Scripts\activate.ps1</code>ì— ì €ì¥ëœë‹¤.</li>
    </ul>
  </li>
</ul>

<ol>
  <li>
    <p>ë“±ë¡:</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_APP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
</span></code></pre></div>    </div>

    <ul>
      <li>íŒŒì¼ëª…ì€ â€œ â€œ í™•ì¥ìë¥¼ ëº€ ìŒë”°ì˜´í‘œë¡œ</li>
    </ul>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_RUN_PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8000</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>í™•ì¸</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w">
</span></code></pre></div>    </div>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nf">Format-Table</span><span class="w"> </span><span class="nt">-Wrap</span><span class="w">
</span></code></pre></div>    </div>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c">## 'LOGONSERVER' í™˜ê²½ë³€ìˆ˜ë¥¼ ì°¾ê³  ì‹¶ë‹¤ë©´,</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:LOGONSERVER</span><span class="w">
   
</span><span class="c">## 'on'ì´ í¬í•¨ëœ ë‹¨ì–´, ex) logONserver, ONedrive...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="o">*</span><span class="nx">on</span><span class="o">*</span><span class="w">
   
</span><span class="c">## 'on'ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´, ONedrive ...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:on</span><span class="o">*</span><span class="w">
   
</span><span class="c">## 'on'ìœ¼ë¡œ ëë‚˜ëŠ” ë‹¨ì–´, ex) processor_revisiON ...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="o">*</span><span class="nx">on</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ol>


  </div><a class="u-url" href="/python/flask/cleanarchitecture/2022/09/09/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_09_ManyEntity_register_route_%EC%B6%94%EA%B0%80.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="blog.chojaeseong.com/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>í‰ë²”í•œ í•œì˜ì‚¬ ëŒë²”ì˜ ì—”ì§€ë‹ˆì–´ ë„ì „ê¸°</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a href="/feed.xml" target="_blank" title="rss">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://github.com/is2js/" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/yarotheslav" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.linkedin.com/in/yshmarov/" target="_blank" title="linkedin">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
