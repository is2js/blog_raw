<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>í´ë¦°ì•„í‚¤í…ì³ 07 OneEntity Register Routeì™€ UniqueKey ì¤‘ë³µì˜ˆì™¸ ì²˜ë¦¬ | ëŒë²”í…¤ë†‘</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="í´ë¦°ì•„í‚¤í…ì³ 07 OneEntity Register Routeì™€ UniqueKey ì¤‘ë³µì˜ˆì™¸ ì²˜ë¦¬" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="python clean architecture" />
<meta property="og:description" content="python clean architecture" />
<link rel="canonical" href="blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/07/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_07_OneEntity_register_user_route_and_Uniquekey_%EC%A4%91%EB%B3%B5%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC.html" />
<meta property="og:url" content="blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/07/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_07_OneEntity_register_user_route_and_Uniquekey_%EC%A4%91%EB%B3%B5%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC.html" />
<meta property="og:site_name" content="ëŒë²”í…¤ë†‘" />
<meta property="og:image" content="blog.chojaeseong.com/images/posts/python.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-07T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2022-09-07T00:00:00-05:00","url":"blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/07/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_07_OneEntity_register_user_route_and_Uniquekey_%EC%A4%91%EB%B3%B5%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC.html","@type":"BlogPosting","image":"blog.chojaeseong.com/images/posts/python.png","headline":"í´ë¦°ì•„í‚¤í…ì³ 07 OneEntity Register Routeì™€ UniqueKey ì¤‘ë³µì˜ˆì™¸ ì²˜ë¦¬","dateModified":"2022-09-07T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/07/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_07_OneEntity_register_user_route_and_Uniquekey_%EC%A4%91%EB%B3%B5%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC.html"},"description":"python clean architecture","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- í°íŠ¸ì¶”ê°€ë¥¼ ìœ„í•œ linkíƒœê·¸ ì‚½ì… -->
  <!-- í°íŠ¸1:  ê¸°ë³¸ spoqa ì›¹í°íŠ¸ -->
  <!-- cssì—ì„œ * {} ë‹¤ ë’¤ì§‘ì–´ì”€. -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
  <!-- í°íŠ¸2:  ë¸”ë¡œê·¸ ì œëª©ë“¤ sunflower ì›¹í°íŠ¸ -->
  <!-- ì¥¬í”¼í„° ë“± í¬ìŠ¤íŠ¸ ë‚´ë¶€ ê¸€ì h1, h2 ì œëª©ì€ sunflowerì²´ ë„ì… -->
  <link href="//fonts.googleapis.com/css?family=Sunflower:300,500,700" rel="stylesheet"> 

  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="blog.chojaeseong.com/feed.xml" title="ëŒë²”í…¤ë†‘" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ëŒë²”í…¤ë†‘</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">í´ë¦°ì•„í‚¤í…ì³ 07 OneEntity Register Routeì™€ UniqueKey ì¤‘ë³µì˜ˆì™¸ ì²˜ë¦¬</h1><p class="page-description">python clean architecture</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-09-07T00:00:00-05:00" itemprop="datePublished">
        Sep 7, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      10 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#python">python</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#flask">flask</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#cleanarchitecture">cleanarchitecture</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!-- tocê°€ ë¨¼ì € ë‚˜ì˜¤ë¯€ë¡œ h3ë¡œ ì•ˆë‚´í•˜ê¸° -->
    <h3>ğŸ“œ ì œëª©ìœ¼ë¡œ ë³´ê¸°</h3>
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#í´ë¦°-ì•„í‚¤í…ì³-7ì¥">í´ë¦° ì•„í‚¤í…ì³ 7ì¥</a>
<ul>
<li class="toc-entry toc-h2"><a href="#1-postman---route--requestëª¨ë“ˆ---postmanìœ¼ë¡œ-ìš”ì²­ì‘ë‹µ-í™•ì¸í•˜ê¸°">1 POSTMAN -&gt; route + requestëª¨ë“ˆ -&gt; POSTMANìœ¼ë¡œ ìš”ì²­+ì‘ë‹µ í™•ì¸í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-flaskì˜-requestëª¨ë“ˆë¡œ-routeë³„-ìš”ì²­ì •ë³´ë¥¼-í•œë²ˆì—-í™•ì¸í• -ìˆ˜-ìˆë‹¤">01 flaskì˜ requestëª¨ë“ˆë¡œ routeë³„ ìš”ì²­ì •ë³´ë¥¼ í•œë²ˆì— í™•ì¸í•  ìˆ˜ ìˆë‹¤.</a>
<ul>
<li class="toc-entry toc-h4"><a href="#routeì—ì„œ-requestëª¨ë“ˆargsto_dictë¥¼-jsonfyì—ì„œ-keyì™€-í•¨ê»˜-ë°˜í™˜í•´ì£¼ë©´-ì–´ë–¤-ì •ë³´ë¥¼ì´-ë“¤ì–´ì˜¤ëŠ”ì§€-í™•ì¸ê°€ëŠ¥í•˜ë‹¤">routeì—ì„œ requestëª¨ë“ˆ.args.to_dict()ë¥¼ jsonfyì—ì„œ keyì™€ í•¨ê»˜ ë°˜í™˜í•´ì£¼ë©´, ì–´ë–¤ ì •ë³´ë¥¼ì´ ë“¤ì–´ì˜¤ëŠ”ì§€ í™•ì¸ê°€ëŠ¥í•˜ë‹¤</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#2-usecase_controllerë³„-route-ì¶”ê°€">2 usecase_controllerë³„ route ì¶”ê°€</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-register-user-route-ì¶”ê°€">01 register user Route ì¶”ê°€</a>
<ul>
<li class="toc-entry toc-h4"><a href="#001-í•¨ìˆ˜ëª…ì—-use_caseë¥¼-ì‘ì„±í•´ë†“ê³ ---apiëª…ì€-apientity-ë§Œ---methodsë¡œ-í–‰ìœ„register-post-ë‚˜íƒ€ë‚´ì„œ-ì‘ì„±í•˜ê¸°">001 í•¨ìˆ˜ëª…ì— use_caseë¥¼ ì‘ì„±í•´ë†“ê³  -&gt; apiëª…ì€ â€œ/api/entityâ€ ë§Œ +  methodsë¡œ í–‰ìœ„(register-&gt;POST) ë‚˜íƒ€ë‚´ì„œ ì‘ì„±í•˜ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#002-adapter-ì‘ì„±flask-requestëª¨ë“ˆ--composite-routeê°ì²´-ë§Œë‚˜ì„œ-ê²°ê³¼ë°˜í™˜-method">002 adapter ì‘ì„±(flask requestëª¨ë“ˆ + composite routeê°ì²´ ë§Œë‚˜ì„œ ê²°ê³¼ë°˜í™˜ method)</a>
<ul>
<li class="toc-entry toc-h5"><a href="#flask-request----httprequest---composite-routeê°ì²´repousecasecontrollerë¥¼-ì¡°í•©-ì™„ì„±ê°ì²´---httpresponse----return-httpresonseí•´ì£¼ëŠ”-method">flask request -&gt; [ HttpRequest -&gt; composite routeê°ì²´(repo+usecase+controllerë¥¼ ì¡°í•© ì™„ì„±ê°ì²´) -&gt; HttpResponse ] -&gt; return HttpResonseí•´ì£¼ëŠ” method</a></li>
<li class="toc-entry toc-h5"><a href="#srcmainadapterì—-api_adapterpy-ìƒì„±">src&gt;main&gt;adapterì— api_adapter.py ìƒì„±</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#003-flask_adapter-ë©”ì„œë“œ-signatue-ì‘ì„±-flaskì˜-requestë¥¼-ë°›ì•„---httprequestë¡œ-ë³€í™˜í•˜ê³ ---composite-routeê°ì²´-ì‚¬ìš©í•˜ë„ë¡-2ê°œì˜-ì§ì ‘ì ì¸-ì—°ê²°ì„-ë§‰ëŠ”-ì¥ì†Œì´ë©´ì„œ-2ê°œë¥¼-ì¸ìë¡œ-ë°›ëŠ”-ì¥ì†Œ">003 flask_adapter ë©”ì„œë“œ signatue ì‘ì„±: [flaskì˜ request]ë¥¼ ë°›ì•„ -&gt; HttpRequestë¡œ ë³€í™˜í•˜ê³  -&gt; [composite routeê°ì²´] ì‚¬ìš©í•˜ë„ë¡ [2ê°œì˜ ì§ì ‘ì ì¸ ì—°ê²°ì„ ë§‰ëŠ” ì¥ì†Œì´ë©´ì„œ, 2ê°œë¥¼ ì¸ìë¡œ ë°›ëŠ” ì¥ì†Œ]</a></li>
<li class="toc-entry toc-h4"><a href="#004-flask_adapter-ë©”ì„œë“œ-êµ¬í˜„ë¶€-ì‘ì„±">004 flask_adapter ë©”ì„œë“œ êµ¬í˜„ë¶€ ì‘ì„±</a>
<ul>
<li class="toc-entry toc-h5"><a href="#postìš”ì²­ì¼-ë•Œì˜-flaskì˜-requestjson-í™•ì¸í•´ë³´ê¸°">POSTìš”ì²­ì¼ ë•Œì˜ flaskì˜ request.json í™•ì¸í•´ë³´ê¸°</a>
<ul>
<li class="toc-entry toc-h6"><a href="#postmanì˜-postìš”ì²­ì€-ì ˆëŒ€ì¡°ê±´1-headearì—-content-type-applicationjson-ëª…ì‹œ--2-bodyëŠ”-rawë¡œ-ì‘ì„±í•˜ê¸°">POSTMANì˜ POSTìš”ì²­ì€ ì ˆëŒ€ì¡°ê±´1) headearì— Content-Type: application/json ëª…ì‹œ + 2) bodyëŠ” rawë¡œ ì‘ì„±í•˜ê¸°</a></li>
<li class="toc-entry toc-h6"><a href="#post-routeì¶”ê°€í•˜ê³ -requestjson-ìì²´ê°€-dictì„ì„-ì¸ì§€í• -ê²ƒ">post routeì¶”ê°€í•˜ê³  request.json ìì²´ê°€ dictì„ì„ ì¸ì§€í•  ê²ƒ</a></li>
</ul>
</li>
<li class="toc-entry toc-h5"><a href="#requestjsonraw-body---dictë¥¼-httprequestì˜-bodyì¸ìë¡œ-ë„£ì–´ì£¼ë©´-ê°ì²´-ìƒì„±í•˜ì—¬-ì‚¬ìš©í•˜ê¸°">request.json(raw Body -&gt; Dict)ë¥¼ HttpRequestì˜ body=ì¸ìë¡œ ë„£ì–´ì£¼ë©´ ê°ì²´ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ê¸°</a></li>
<li class="toc-entry toc-h5"><a href="#httprequestê°ì²´ë¡œ-composite-routeê°ì²´-ì‚¬ìš©í•˜ì—¬--response-return">httprequestê°ì²´ë¡œ composite routeê°ì²´ ì‚¬ìš©í•˜ì—¬  response return</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#005-api_routepyì—ì„œ-ì‘ì„±ì™„ë£Œëœ-flask-adapterë©”ì„œë“œì™€-í•´ë‹¹usecaseì˜-composer-ë©”ì„œë“œë¥¼-importí•´ì„œ-ì‚¬ìš©í•œë‹¤">005 api_route.pyì—ì„œ ì‘ì„±ì™„ë£Œëœ flask adapterë©”ì„œë“œì™€ í•´ë‹¹usecaseì˜ composer ë©”ì„œë“œë¥¼ importí•´ì„œ ì‚¬ìš©í•œë‹¤.</a>
<ul>
<li class="toc-entry toc-h5"><a href="#flaskrequest--compositerouteê°ì²´ë¥¼-ì—°ê²°í•´ì£¼ëŠ”-adapterë©”ì„œë“œì™€-í•´ë‹¹usecaseì˜-composite-routeê°ì²´ë¥¼-ë°˜í™˜í•´ì£¼ëŠ”-composer-methodë¥¼-importí•´ì„œ-ì‚¬ìš©í•œë‹¤">flask.request + composite.routeê°ì²´ë¥¼ ì—°ê²°í•´ì£¼ëŠ” adapterë©”ì„œë“œì™€ í•´ë‹¹usecaseì˜ composite routeê°ì²´ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” composer methodë¥¼ importí•´ì„œ ì‚¬ìš©í•œë‹¤.</a></li>
<li class="toc-entry toc-h5"><a href="#flask_adapterê°€-ë°˜í™˜í•´ì£¼ëŠ”-httpresponseê°ì²´ë¥¼-controllerì—ì„œ-ë‹¤ì‹œ-í•œë²ˆ-ì‚´í´ë³´ê¸°">flask_adapterê°€ ë°˜í™˜í•´ì£¼ëŠ” HttpResponseê°ì²´ë¥¼ controllerì—ì„œ ë‹¤ì‹œ í•œë²ˆ ì‚´í´ë³´ê¸°</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#006-composite-routeê°ì²´ì˜-ê²°ê³¼ë¬¼ì—ëŠ”-status_codebodyí•„ë“œë¥¼-ê°€ì§€ë©°-ì„±ê³µê³¼-ì‹¤íŒ¨ê°€-ìˆìœ¼ë‹ˆ--routerì—ì„œëŠ”-ì„±ê³µê³¼-ì‹¤íŒ¨ë¥¼-êµ¬ë¶„í•´ì„œ-messageë¡œ-ë°˜í™˜í•œë‹¤">006 composite routeê°ì²´ì˜ ê²°ê³¼ë¬¼ì—ëŠ” status_code/bodyí•„ë“œë¥¼ ê°€ì§€ë©°, ì„±ê³µê³¼ ì‹¤íŒ¨ê°€ ìˆìœ¼ë‹ˆ =&gt; routerì—ì„œëŠ” ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ êµ¬ë¶„í•´ì„œ messageë¡œ ë°˜í™˜í•œë‹¤</a>
<ul>
<li class="toc-entry toc-h5"><a href="#routeëŠ”--noneì´ˆê¸°í™”ê°€-ì•„ë‹ˆë¼-ë¹ˆ-dict-ë¡œ-ì´ˆê¸°í™”í•´ë†“ê³ -composite-routeê°ì²´-ì„±ê³µì‹œì—-ì±„ìš´ë‹¤">routeëŠ” = Noneì´ˆê¸°í™”ê°€ ì•„ë‹ˆë¼, ë¹ˆ dict {}ë¡œ ì´ˆê¸°í™”í•´ë†“ê³ , composite routeê°ì²´ ì„±ê³µì‹œì— ì±„ìš´ë‹¤.</a></li>
<li class="toc-entry toc-h5"><a href="#ì¼ë‹¨-ì„±ê³µì‹œ-message-ì¬í• ë‹¹í•´ì„œ-ì±„ìš¸-ë°ì´í„°ë¥¼-ë§Œë“ ë‹¤">ì¼ë‹¨ ì„±ê³µì‹œ message ì¬í• ë‹¹í•´ì„œ ì±„ìš¸ ë°ì´í„°ë¥¼ ë§Œë“ ë‹¤.</a></li>
<li class="toc-entry toc-h5"><a href="#ë‹¤-ë§Œë“¤ì–´ì§„-messageëŠ”-jsonifyì‹œ-ì†Œë¬¸ì-dataë¥¼-keyë¡œ-í•´ì„œ-valueì—-ì¤˜ì„œ-ë°˜í™˜í•œë‹¤-ì´-ë•Œ-íŠœí”Œë¡œì„œ-responsestatus_codeë„-ê°™ì´-ë³´ë‚¸ë‹¤">ë‹¤ ë§Œë“¤ì–´ì§„ messageëŠ” jsonifyì‹œ ì†Œë¬¸ì &quot;data&quot;ë¥¼ keyë¡œ í•´ì„œ valueì— ì¤˜ì„œ ë°˜í™˜í•œë‹¤. ì´ ë•Œ, íŠœí”Œë¡œì„œ response.status_codeë„ ê°™ì´ ë³´ë‚¸ë‹¤.</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#007-ì„±ê³µì‹œ-messageë§Œ-ë¨¼ì €-ì‘ì„±ì™„ë£Œí–ˆìœ¼ë©´-postmanìœ¼ë¡œ-í™•ì¸í•œë‹¤---status_codeëŠ”-bodyìš°ì¸¡ìƒë‹¨ì—-ë”°ë¡œí™•ì¸----dbë„-í™•ì¸í•œë‹¤">007 ì„±ê³µì‹œ messageë§Œ ë¨¼ì € ì‘ì„±ì™„ë£Œí–ˆìœ¼ë©´, POSTMANìœ¼ë¡œ í™•ì¸í•œë‹¤. -&gt; status_codeëŠ” bodyìš°ì¸¡ìƒë‹¨ì— ë”°ë¡œí™•ì¸  -&gt; DBë„ í™•ì¸í•œë‹¤</a></li>
<li class="toc-entry toc-h4"><a href="#008-unique-keyì¸-nameë¥¼-ë°”ê¿”ì„œ-sendë³´ë‚´ë©´-ì„±ê³µí•˜ì§€ë§Œ-ë‹¤ì‹œë³´ë‚´ë©´-ì˜ˆì™¸ê°€-í„°ì§„ë‹¤-ì´ë¯¸-ê°€ì§„-nameì—-ëŒ€í•´--unique-constraint-failed---integrityerrorì˜-ì˜ˆì™¸ê°€-í„°ì§„ë‹¤">008 unique keyì¸ nameë¥¼ ë°”ê¿”ì„œ sendë³´ë‚´ë©´ ì„±ê³µí•˜ì§€ë§Œ.. ë‹¤ì‹œë³´ë‚´ë©´ ì˜ˆì™¸ê°€ í„°ì§„ë‹¤. ì´ë¯¸ ê°€ì§„ nameì— ëŒ€í•´  UNIQUE constraint failed -&gt; IntegrityErrorì˜ ì˜ˆì™¸ê°€ í„°ì§„ë‹¤.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#02-routeì—ì„œ-í„°ì§€ëŠ”-dbì—ëŸ¬ëŠ”-adapter_methodì—ì„œ-composite-routeê°ì²´routeë©”ì„œë“œì—ì„œ-ì¡ëŠ”ë‹¤">02 routeì—ì„œ í„°ì§€ëŠ” DBì—ëŸ¬ëŠ” adapter_methodì—ì„œ composite routeê°ì²´.routeë©”ì„œë“œì—ì„œ ì¡ëŠ”ë‹¤.</a>
<ul>
<li class="toc-entry toc-h4"><a href="#001-registerinsertì—ì„œëŠ”-unique-key-í•„ë“œë¥¼-send-2ë²ˆìœ¼ë¡œ-ì¤‘ë³µì—ëŸ¬ì¡´ì¬ê²€ì¦ì—ëŸ¬ë¥¼-í„°íŠ¸ë ¤ì„œ-ì¡ëŠ”ë‹¤">001 register(insert)ì—ì„œëŠ” unique key í•„ë“œë¥¼ SEND 2ë²ˆìœ¼ë¡œ ì¤‘ë³µì—ëŸ¬(ì¡´ì¬ê²€ì¦)ì—ëŸ¬ë¥¼ í„°íŠ¸ë ¤ì„œ ì¡ëŠ”ë‹¤.</a></li>
<li class="toc-entry toc-h4"><a href="#002-adapter-methodì—ì„œ-terminalì˜-sqlalchemy-ì—ëŸ¬ë¥¼-importí•œë‹¤">002 adapter methodì—ì„œ, terminalì˜ SQLAlchemy ì—ëŸ¬ë¥¼ importí•œë‹¤.</a></li>
<li class="toc-entry toc-h4"><a href="#003-routeê°ì²´route-í˜¸ì¶œë¶€ë¥¼-try-except-í•´ë‹¹ì—ëŸ¬ë¡œ-ì¡ëŠ”ë‹¤">003 routeê°ì²´.route() í˜¸ì¶œë¶€ë¥¼ [try ~except í•´ë‹¹ì—ëŸ¬]ë¡œ ì¡ëŠ”ë‹¤.</a></li>
<li class="toc-entry toc-h4"><a href="#004-exceptë¡œ-ì¡ì€-ì—ëŸ¬ì—-ëŒ€í•´-httperrorë¥¼-ì¸í„°ë„·ì—ì„œ-ê²€ìƒ‰í›„-messageë¥¼-ê°€ì ¸ì˜¤ê³ -í•´ë‹¹-ì—ëŸ¬ë¥¼-ì—ëŸ¬ë§¤í•‘-httperrorsí´ë˜ìŠ¤ì˜-staticë©”ì„œë“œë¡œ-ì¶”ê°€í•œë‹¤">004 exceptë¡œ ì¡ì€ ì—ëŸ¬ì— ëŒ€í•´ HttpErrorë¥¼ ì¸í„°ë„·ì—ì„œ ê²€ìƒ‰í›„ messageë¥¼ ê°€ì ¸ì˜¤ê³ , í•´ë‹¹ ì—ëŸ¬ë¥¼ ì—ëŸ¬ë§¤í•‘ HttpErrorsí´ë˜ìŠ¤ì˜ staticë©”ì„œë“œë¡œ ì¶”ê°€í•œë‹¤.</a></li>
<li class="toc-entry toc-h4"><a href="#005-except-errorë¶€ë¶„ì—ì„œ-httperros-409ë¥¼-ë½‘ì•„ë‚´---ì„±ê³µ-ê²°ê³¼ë¬¼ê³¼-ê°™ì€-typeì˜-httpresponseê°ì²´ë¥¼-ë§Œë“¤ê³ -early-returní•´ì¤€ë‹¤">005 except Error:ë¶€ë¶„ì—ì„œ HttpErros 409ë¥¼ ë½‘ì•„ë‚´ -&gt; ì„±ê³µ ê²°ê³¼ë¬¼ê³¼ ê°™ì€ Typeì˜ HttpResponseê°ì²´ë¥¼ ë§Œë“¤ê³  early returní•´ì¤€ë‹¤.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#03-ë“±ë¡-routeì—ì„œëŠ”-ì˜ˆì™¸ì²˜ë¦¬-ì™„ë£Œëœ-adapter-methodê²°ê³¼ì¸-httpresponseì˜-status_codeë¥¼-ë”°ë¼-messageë¥¼-ì²˜ë¦¬">03 [ë“±ë¡ route]ì—ì„œëŠ” [ì˜ˆì™¸ì²˜ë¦¬ ì™„ë£Œëœ adapter method]ê²°ê³¼ì¸ [HttpResponseì˜ status_codeë¥¼ ë”°ë¼] messageë¥¼ ì²˜ë¦¬</a>
<ul>
<li class="toc-entry toc-h4"><a href="#001-status_code--300ë¯¸ë§Œì´ë¼ë©´-ì •ìƒ-responseë¥¼-ë°›ëŠ”-ê²ƒì´ë‹¤-ì„±ê³µì‹œ-messageë¥¼-ê·¸ëŒ€ë¡œ-ì‚¬ìš©">001 status_code &lt; 300ë¯¸ë§Œì´ë¼ë©´, ì •ìƒ responseë¥¼ ë°›ëŠ” ê²ƒì´ë‹¤. ì„±ê³µì‹œ messageë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©</a></li>
<li class="toc-entry toc-h4"><a href="#002--200ë²ˆëŒ€ê°€-ì•„ë‹ˆë¼ë©´-jsonifyí•˜ëŠ”-key-valueê°€-ë‹¬ë¼ì§„ë‹¤-ê¸°ì¡´-data-message----error--statuestatus_code-titleerror_message">002  200ë²ˆëŒ€ê°€ ì•„ë‹ˆë¼ë©´ jsonifyí•˜ëŠ” key valueê°€ ë‹¬ë¼ì§„ë‹¤( ê¸°ì¡´: â€œdataâ€: message  -&gt; â€œerrorâ€ :{ â€œstatueâ€:status_code, â€œtitleâ€:error_message}</a></li>
<li class="toc-entry toc-h4"><a href="#003-routerì˜-300-ì²˜ë¦¬ëŠ”-headers-ì—†ëŠ”-postìš”ì²­no-bodyë„-400-errorë¡œ-ë‚´ë ¤ì¤€ë‹¤">003 routerì˜ &lt;300 ì²˜ë¦¬ëŠ” Headers ì—†ëŠ” POSTìš”ì²­(no body)ë„ 400 errorë¡œ ë‚´ë ¤ì¤€ë‹¤</a></li>
<li class="toc-entry toc-h4"><a href="#004-route--300ì²˜ë¦¬ëŠ”-í•„ìˆ˜param-ì—†ëŠ”-ìš”ì²­or-validate_entryí†µê³¼ëª»í•˜ë©´ë„-422-ì—ëŸ¬ë¡œ-ë‚´ë ¤ì¤€ë‹¤">004 route &lt; 300ì²˜ë¦¬ëŠ” í•„ìˆ˜param ì—†ëŠ” ìš”ì²­(or validate_entryí†µê³¼ëª»í•˜ë©´)ë„ 422 ì—ëŸ¬ë¡œ ë‚´ë ¤ì¤€ë‹¤.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#commit">commit</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#ì°¸ê³ ">ì°¸ê³ </a>
<ul>
<li class="toc-entry toc-h4"><a href="#gitignore">gitignore</a></li>
<li class="toc-entry toc-h4"><a href="#sqlalchemyíŒ¨í‚¤ì§€">sqlalchemyíŒ¨í‚¤ì§€</a></li>
<li class="toc-entry toc-h4"><a href="#githubì—ì„œ-brë”°ì„œ-ì‘ì—…í•˜ê¸°">githubì—ì„œ brë”°ì„œ ì‘ì—…í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h5"><a href="#1-1-githubì—ì„œ-brìƒì„±--clone">[1-1] githubì—ì„œ brìƒì„± ~ clone</a></li>
<li class="toc-entry toc-h5"><a href="#cloneí›„-ì´ˆê¸°-ì‘ì—…-ì„¸íŒ…">cloneí›„ ì´ˆê¸° ì‘ì—… ì„¸íŒ…</a></li>
<li class="toc-entry toc-h5"><a href="#1-2-ì‘ì—…ëë‚œ-brì˜-í´ë”ì—ì„œ-ìƒˆ-ì‘ì—…-brìƒì„±--ë¶„ê¸°ê²Œì‹œ-ì´ˆê¸°ì„¸íŒ…-ë˜-ì•ˆí•´ë„-ë˜ëŠ”-ì¥ì ">[1-2] ì‘ì—…ëë‚œ brì˜ í´ë”ì—ì„œ ìƒˆ ì‘ì—… brìƒì„± ~ ë¶„ê¸°ê²Œì‹œ (ì´ˆê¸°ì„¸íŒ… ë˜ ì•ˆí•´ë„ ë˜ëŠ” ì¥ì )</a></li>
<li class="toc-entry toc-h5"><a href="#1-3--ì˜›ë‚ ì—-ë”°ë‘”-brì—ì„œ-ì‘ì—…ì‹œì‘í• -ë•-ìµœì‹ -masterë¥¼-rebaseí›„ì—-ì‘ì—…ì‹œì‘í•˜ê¸°">[1-3]  ì˜›ë‚ ì— ë”°ë‘” brì—ì„œ ì‘ì—…ì‹œì‘í•  ë•, ìµœì‹  masterë¥¼ rebaseí›„ì— ì‘ì—…ì‹œì‘í•˜ê¸°</a></li>
<li class="toc-entry toc-h5"><a href="#2-í•´ë‹¹br-ì‘ì—…í…ŒìŠ¤íŠ¸-ì™„ë£Œí›„--mergeê¹Œì§€-ì •ë¦¬">[2] í•´ë‹¹br ì‘ì—…(í…ŒìŠ¤íŠ¸) ì™„ë£Œí›„ ~ mergeê¹Œì§€ ì •ë¦¬</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#vscode-ì„¤ì •">vscode ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#testì •ë¦¬">testì •ë¦¬</a></li>
<li class="toc-entry toc-h4"><a href="#status_code">status_code</a></li>
<li class="toc-entry toc-h4"><a href="#powershell-í™˜ê²½ë³€ìˆ˜-ë“±ë¡í™•ì¸">powershell í™˜ê²½ë³€ìˆ˜ ë“±ë¡/í™•ì¸</a></li>
</ul>
</li>
</ul>
</li>
</ul><h1 id="í´ë¦°-ì•„í‚¤í…ì³-7ì¥">
<a class="anchor" href="#%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-7%EC%9E%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>í´ë¦° ì•„í‚¤í…ì³ 7ì¥</h1>

<h2 id="1-postman---route--requestëª¨ë“ˆ---postmanìœ¼ë¡œ-ìš”ì²­ì‘ë‹µ-í™•ì¸í•˜ê¸°">
<a class="anchor" href="#1-postman---route--request%EB%AA%A8%EB%93%88---postman%EC%9C%BC%EB%A1%9C-%EC%9A%94%EC%B2%AD%EC%9D%91%EB%8B%B5-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>1 POSTMAN -&gt; route + requestëª¨ë“ˆ -&gt; POSTMANìœ¼ë¡œ ìš”ì²­+ì‘ë‹µ í™•ì¸í•˜ê¸°</h2>

<h3 id="01-flaskì˜-requestëª¨ë“ˆë¡œ-routeë³„-ìš”ì²­ì •ë³´ë¥¼-í•œë²ˆì—-í™•ì¸í• -ìˆ˜-ìˆë‹¤">
<a class="anchor" href="#01-flask%EC%9D%98-request%EB%AA%A8%EB%93%88%EB%A1%9C-route%EB%B3%84-%EC%9A%94%EC%B2%AD%EC%A0%95%EB%B3%B4%EB%A5%BC-%ED%95%9C%EB%B2%88%EC%97%90-%ED%99%95%EC%9D%B8%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 flaskì˜ requestëª¨ë“ˆë¡œ routeë³„ ìš”ì²­ì •ë³´ë¥¼ í•œë²ˆì— í™•ì¸í•  ìˆ˜ ìˆë‹¤.</h3>

<h4 id="routeì—ì„œ-requestëª¨ë“ˆargsto_dictë¥¼-jsonfyì—ì„œ-keyì™€-í•¨ê»˜-ë°˜í™˜í•´ì£¼ë©´-ì–´ë–¤-ì •ë³´ë¥¼ì´-ë“¤ì–´ì˜¤ëŠ”ì§€-í™•ì¸ê°€ëŠ¥í•˜ë‹¤">
<a class="anchor" href="#route%EC%97%90%EC%84%9C-request%EB%AA%A8%EB%93%88argsto_dict%EB%A5%BC-jsonfy%EC%97%90%EC%84%9C-key%EC%99%80-%ED%95%A8%EA%BB%98-%EB%B0%98%ED%99%98%ED%95%B4%EC%A3%BC%EB%A9%B4-%EC%96%B4%EB%96%A4-%EC%A0%95%EB%B3%B4%EB%A5%BC%EC%9D%B4-%EB%93%A4%EC%96%B4%EC%98%A4%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>routeì—ì„œ requestëª¨ë“ˆ.args.to_dict()ë¥¼ jsonfyì—ì„œ keyì™€ í•¨ê»˜ ë°˜í™˜í•´ì£¼ë©´, ì–´ë–¤ ì •ë³´ë¥¼ì´ ë“¤ì–´ì˜¤ëŠ”ì§€ í™•ì¸ê°€ëŠ¥í•˜ë‹¤</h4>

<ol>
  <li>request ëª¨ë“ˆì„ importí•˜ê³ </li>
  <li>
<code class="language-plaintext highlighter-rouge">request.args.to_dict()</code>ë¥¼ routeì—ì„œ ì§ë ¬í™”í•´ì„œ ë°˜í™˜í•´ì£¼ë„ë¡ ì •ì˜í•˜ê³ </li>
  <li>
<code class="language-plaintext highlighter-rouge">flask run</code>ì´í›„ì—</li>
  <li>POSTMANì—ì„œ
    <ul>
      <li>Rquest- Paramsì—ì„œ query paramì„ ì…ë ¥í•´ì„œ ë„˜ê²¨ì£¼ë©´</li>
      <li>Response - Bodyì—ì„œ resonseëœ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>
    </ul>
  </li>
</ol>

<ul>
  <li><strong>src&gt;main&gt;routes&gt; api_route.py</strong></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span><span class="p">,</span> <span class="n">jsonify</span><span class="p">,</span> <span class="n">request</span>
<span class="c1"># from src.main.composer import register_user_composer
</span>
<span class="n">api_routes_bp</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">"api_routes"</span><span class="p">,</span> <span class="n">__name__</span><span class="p">)</span>


<span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"GET"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">something</span><span class="p">():</span>
    <span class="s">"""test"""</span>

    <span class="c1"># return jsonify({"Programmer": "Dolbum"})
</span>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="n">request</span><span class="p">.</span><span class="n">args</span><span class="p">.</span><span class="n">to_dict</span><span class="p">()})</span>

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>flask run
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006235742915.png" alt="image-20221006235742915"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006235802628.png" alt="image-20221006235802628"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006235904614.png" alt="image-20221006235904614"></p>

<h2 id="2-usecase_controllerë³„-route-ì¶”ê°€">
<a class="anchor" href="#2-usecase_controller%EB%B3%84-route-%EC%B6%94%EA%B0%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>2 usecase_controllerë³„ route ì¶”ê°€</h2>

<h3 id="01-register-user-route-ì¶”ê°€">
<a class="anchor" href="#01-register-user-route-%EC%B6%94%EA%B0%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 register user Route ì¶”ê°€</h3>

<h4 id="001-í•¨ìˆ˜ëª…ì—-use_caseë¥¼-ì‘ì„±í•´ë†“ê³ ---apiëª…ì€-apientity-ë§Œ---methodsë¡œ-í–‰ìœ„register-post-ë‚˜íƒ€ë‚´ì„œ-ì‘ì„±í•˜ê¸°">
<a class="anchor" href="#001-%ED%95%A8%EC%88%98%EB%AA%85%EC%97%90-use_case%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EB%86%93%EA%B3%A0---api%EB%AA%85%EC%9D%80-apientity-%EB%A7%8C---methods%EB%A1%9C-%ED%96%89%EC%9C%84register-post-%EB%82%98%ED%83%80%EB%82%B4%EC%84%9C-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>001 í•¨ìˆ˜ëª…ì— use_caseë¥¼ ì‘ì„±í•´ë†“ê³  -&gt; apiëª…ì€ â€œ/api/entityâ€ ë§Œ +  methodsë¡œ í–‰ìœ„(register-&gt;POST) ë‚˜íƒ€ë‚´ì„œ ì‘ì„±í•˜ê¸°</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>
    <span class="s">""" register user route """</span>

    <span class="k">return</span> 
</code></pre></div></div>

<h4 id="002-adapter-ì‘ì„±flask-requestëª¨ë“ˆ--composite-routeê°ì²´-ë§Œë‚˜ì„œ-ê²°ê³¼ë°˜í™˜-method">
<a class="anchor" href="#002-adapter-%EC%9E%91%EC%84%B1flask-request%EB%AA%A8%EB%93%88--composite-route%EA%B0%9D%EC%B2%B4-%EB%A7%8C%EB%82%98%EC%84%9C-%EA%B2%B0%EA%B3%BC%EB%B0%98%ED%99%98-method" aria-hidden="true"><span class="octicon octicon-link"></span></a>002 adapter ì‘ì„±(flask requestëª¨ë“ˆ + composite routeê°ì²´ ë§Œë‚˜ì„œ ê²°ê³¼ë°˜í™˜ method)</h4>

<h5 id="flask-request----httprequest---composite-routeê°ì²´repousecasecontrollerë¥¼-ì¡°í•©-ì™„ì„±ê°ì²´---httpresponse----return-httpresonseí•´ì£¼ëŠ”-method">
<a class="anchor" href="#flask-request----httprequest---composite-route%EA%B0%9D%EC%B2%B4repousecasecontroller%EB%A5%BC-%EC%A1%B0%ED%95%A9-%EC%99%84%EC%84%B1%EA%B0%9D%EC%B2%B4---httpresponse----return-httpresonse%ED%95%B4%EC%A3%BC%EB%8A%94-method" aria-hidden="true"><span class="octicon octicon-link"></span></a>flask request -&gt; [ HttpRequest -&gt; composite routeê°ì²´(repo+usecase+controllerë¥¼ ì¡°í•© ì™„ì„±ê°ì²´) -&gt; HttpResponse ] -&gt; return HttpResonseí•´ì£¼ëŠ” method</h5>

<ul>
  <li>adapter pattern to FlaskëŠ”
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">í”„ë ˆì„ì›Œí¬ì˜ request</code>ë¥¼ <code class="language-plaintext highlighter-rouge">ë°”ë¡œ ì¡°í•©routeê°ì²´ì˜ input</code>ë¡œ ë°›ê²Œ í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼</strong></li>
      <li>
<strong>ì™„ì¶©ì—­í• ì„ í•´ì¤„ <code class="language-plaintext highlighter-rouge">ì»¤ìŠ¤í…€ HttpRequest</code>ë¡œ ë³€í™˜í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê³¼ì •</strong>
        <ul>
          <li><strong>Composite routeê°ì²´: ì»¤ìŠ¤í…€ HttpRequestë¥¼ inputìœ¼ë¡œ ê°€ì ¸ì„œ <code class="language-plaintext highlighter-rouge">ì–´ëŠ í”„ë ˆì„ì›¤ì˜ requestë“  HttpRequestë¡œ ë³€í™˜í•˜ë©´ ë°›ì•„ì¤€ë‹¤</code></strong></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h5 id="srcmainadapterì—-api_adapterpy-ìƒì„±">
<a class="anchor" href="#srcmainadapter%EC%97%90-api_adapterpy-%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>src&gt;main&gt;adapterì— api_adapter.py ìƒì„±</h5>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007001802260.png" alt="image-20221007001802260"></p>

<h4 id="003-flask_adapter-ë©”ì„œë“œ-signatue-ì‘ì„±-flaskì˜-requestë¥¼-ë°›ì•„---httprequestë¡œ-ë³€í™˜í•˜ê³ ---composite-routeê°ì²´-ì‚¬ìš©í•˜ë„ë¡-2ê°œì˜-ì§ì ‘ì ì¸-ì—°ê²°ì„-ë§‰ëŠ”-ì¥ì†Œì´ë©´ì„œ-2ê°œë¥¼-ì¸ìë¡œ-ë°›ëŠ”-ì¥ì†Œ">
<a class="anchor" href="#003-flask_adapter-%EB%A9%94%EC%84%9C%EB%93%9C-signatue-%EC%9E%91%EC%84%B1-flask%EC%9D%98-request%EB%A5%BC-%EB%B0%9B%EC%95%84---httprequest%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EA%B3%A0---composite-route%EA%B0%9D%EC%B2%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8F%84%EB%A1%9D-2%EA%B0%9C%EC%9D%98-%EC%A7%81%EC%A0%91%EC%A0%81%EC%9D%B8-%EC%97%B0%EA%B2%B0%EC%9D%84-%EB%A7%89%EB%8A%94-%EC%9E%A5%EC%86%8C%EC%9D%B4%EB%A9%B4%EC%84%9C-2%EA%B0%9C%EB%A5%BC-%EC%9D%B8%EC%9E%90%EB%A1%9C-%EB%B0%9B%EB%8A%94-%EC%9E%A5%EC%86%8C" aria-hidden="true"><span class="octicon octicon-link"></span></a>003 flask_adapter ë©”ì„œë“œ signatue ì‘ì„±: [flaskì˜ request]ë¥¼ ë°›ì•„ -&gt; HttpRequestë¡œ ë³€í™˜í•˜ê³  -&gt; [composite routeê°ì²´] ì‚¬ìš©í•˜ë„ë¡ [2ê°œì˜ ì§ì ‘ì ì¸ ì—°ê²°ì„ ë§‰ëŠ” ì¥ì†Œì´ë©´ì„œ, 2ê°œë¥¼ ì¸ìë¡œ ë°›ëŠ” ì¥ì†Œ]</h4>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">flaskì˜ request</code>ë¥¼ any typeìœ¼ë¡œ + <code class="language-plaintext highlighter-rouge">usecase_routeê°ì²´</code> 2ê°œë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ methodë¡œì„œ ì¸ìë¡œ 2ê°œë¥¼ ë°›ëŠ”ë‹¤.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
<span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
   
   
<span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">RouteInterface</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="s">""" Adapter pattern to Flask
    :param - Flask Request
    :api_route: Composite Routes
    """</span>
    <span class="k">return</span> 
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Route<code class="language-plaintext highlighter-rouge">ì¸í„°í˜ì´ìŠ¤ëŠ” Typeìš©ìœ¼ë¡œë§Œ ì“´ë‹¤ë©´</code> í¸í•˜ê²Œ <code class="language-plaintext highlighter-rouge">ì¸í„°í˜ì´ìŠ¤ëŠ” ì‚­ì œí•˜ê³  as Route</code>ë¡œ ë³€ê²½í•´ì„œ ì“´ë‹¤.</strong></p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
<span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span> <span class="k">as</span> <span class="n">Route</span>
   
   
<span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Route</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="s">""" Adapter pattern to Flask
    :param - Flask Request
    :api_route: Composite Routes
    """</span>
    <span class="k">return</span> 
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="004-flask_adapter-ë©”ì„œë“œ-êµ¬í˜„ë¶€-ì‘ì„±">
<a class="anchor" href="#004-flask_adapter-%EB%A9%94%EC%84%9C%EB%93%9C-%EA%B5%AC%ED%98%84%EB%B6%80-%EC%9E%91%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>004 flask_adapter ë©”ì„œë“œ êµ¬í˜„ë¶€ ì‘ì„±</h4>

<h5 id="postìš”ì²­ì¼-ë•Œì˜-flaskì˜-requestjson-í™•ì¸í•´ë³´ê¸°">
<a class="anchor" href="#post%EC%9A%94%EC%B2%AD%EC%9D%BC-%EB%95%8C%EC%9D%98-flask%EC%9D%98-requestjson-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>POSTìš”ì²­ì¼ ë•Œì˜ flaskì˜ request.json í™•ì¸í•´ë³´ê¸°</h5>

<ol>
  <li>
    <p>flaskì˜ <code class="language-plaintext highlighter-rouge">request</code>ëª¨ë“ˆì˜ <strong><code class="language-plaintext highlighter-rouge">request.json</code>ì€ POSTìš”ì²­ ì† bodyë¥¼ dictë¡œ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.</strong></p>

    <ul>
      <li>cf) GETìš”ì²­ ì† paramsë“¤ì€ <code class="language-plaintext highlighter-rouge">request.args.to_dict()</code>í•´ì•¼ dictë¡œ ë§Œë“¤ì–´ì¤¬ì—ˆë‹¤.</li>
    </ul>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007005634213.png" alt="image-20221007005634213"></p>
  </li>
</ol>

<h6 id="postmanì˜-postìš”ì²­ì€-ì ˆëŒ€ì¡°ê±´1-headearì—-content-type-applicationjson-ëª…ì‹œ--2-bodyëŠ”-rawë¡œ-ì‘ì„±í•˜ê¸°">
<a class="anchor" href="#postman%EC%9D%98-post%EC%9A%94%EC%B2%AD%EC%9D%80-%EC%A0%88%EB%8C%80%EC%A1%B0%EA%B1%B41-headear%EC%97%90-content-type-applicationjson-%EB%AA%85%EC%8B%9C--2-body%EB%8A%94-raw%EB%A1%9C-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>POSTMANì˜ POSTìš”ì²­ì€ ì ˆëŒ€ì¡°ê±´1) headearì— Content-Type: application/json ëª…ì‹œ + 2) bodyëŠ” rawë¡œ ì‘ì„±í•˜ê¸°</h6>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007010147636.png" alt="image-20221007010147636"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007010158453.png" alt="image-20221007010158453"></p>

<h6 id="post-routeì¶”ê°€í•˜ê³ -requestjson-ìì²´ê°€-dictì„ì„-ì¸ì§€í• -ê²ƒ">
<a class="anchor" href="#post-route%EC%B6%94%EA%B0%80%ED%95%98%EA%B3%A0-requestjson-%EC%9E%90%EC%B2%B4%EA%B0%80-dict%EC%9E%84%EC%9D%84-%EC%9D%B8%EC%A7%80%ED%95%A0-%EA%B2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>post routeì¶”ê°€í•˜ê³  request.json ìì²´ê°€ dictì„ì„ ì¸ì§€í•  ê²ƒ</h6>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007010234258.png" alt="image-20221007010234258"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007010250973.png" alt="image-20221007010250973"></p>

<h5 id="requestjsonraw-body---dictë¥¼-httprequestì˜-bodyì¸ìë¡œ-ë„£ì–´ì£¼ë©´-ê°ì²´-ìƒì„±í•˜ì—¬-ì‚¬ìš©í•˜ê¸°">
<a class="anchor" href="#requestjsonraw-body---dict%EB%A5%BC-httprequest%EC%9D%98-body%EC%9D%B8%EC%9E%90%EB%A1%9C-%EB%84%A3%EC%96%B4%EC%A3%BC%EB%A9%B4-%EA%B0%9D%EC%B2%B4-%EC%83%9D%EC%84%B1%ED%95%98%EC%97%AC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>request.json(raw Body -&gt; Dict)ë¥¼ HttpRequestì˜ body=ì¸ìë¡œ ë„£ì–´ì£¼ë©´ ê°ì²´ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ê¸°</h5>

<ul>
  <li>
    <p>HttpRequestì˜ 3ê°œ í•„ë“œë“¤ì€ Dict Typeì„ ì¸ìë¡œ ë°›ëŠ”ë‹¤.</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007010544424.png" alt="image-20221007010544424"></p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
<span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span> <span class="k">as</span> <span class="n">Route</span>
<span class="kn">from</span> <span class="nn">src.presenters.helpers</span> <span class="kn">import</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="n">HttpResponse</span>


<span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Route</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="s">""" Adapter pattern to Flask
    :param - Flask Request
    :api_route: Composite Routes
    """</span>
    <span class="n">http_request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">json</span><span class="p">)</span>
    
    <span class="k">return</span>

</code></pre></div></div>

<h5 id="httprequestê°ì²´ë¡œ-composite-routeê°ì²´-ì‚¬ìš©í•˜ì—¬--response-return">
<a class="anchor" href="#httprequest%EA%B0%9D%EC%B2%B4%EB%A1%9C-composite-route%EA%B0%9D%EC%B2%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC--response-return" aria-hidden="true"><span class="octicon octicon-link"></span></a>httprequestê°ì²´ë¡œ composite routeê°ì²´ ì‚¬ìš©í•˜ì—¬  response return</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
<span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span> <span class="k">as</span> <span class="n">Route</span>
<span class="kn">from</span> <span class="nn">src.presenters.helpers</span> <span class="kn">import</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="n">HttpResponse</span>


<span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Route</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="s">""" Adapter pattern to Flask
    :param - Flask Request
    :api_route: Composite Routes
    """</span>
    <span class="n">http_request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">json</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">api_route</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="n">http_request</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>

</code></pre></div></div>

<ul>
  <li>
    <p>routeê°ì²´ == controllerê°ì²´ -&gt; .routeë©”ì„œë“œë¡œ</p>

    <ul>
      <li>â€œSuccessâ€ì™€ â€œDataâ€ë¥¼ keyë¡œ ê°€ì§€ëŠ” HttpResponseê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</li>
    </ul>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007014616163.png" alt="image-20221007014616163"></p>
  </li>
  <li>
    <p>ì‘ì„±ì™„ë£Œëœ adapter methodë¥¼ initì— ì˜¬ë¦°ë‹¤.</p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.api_adapter</span> <span class="kn">import</span> <span class="n">flask_adapter</span>
</code></pre></div></div>

<h4 id="005-api_routepyì—ì„œ-ì‘ì„±ì™„ë£Œëœ-flask-adapterë©”ì„œë“œì™€-í•´ë‹¹usecaseì˜-composer-ë©”ì„œë“œë¥¼-importí•´ì„œ-ì‚¬ìš©í•œë‹¤">
<a class="anchor" href="#005-api_routepy%EC%97%90%EC%84%9C-%EC%9E%91%EC%84%B1%EC%99%84%EB%A3%8C%EB%90%9C-flask-adapter%EB%A9%94%EC%84%9C%EB%93%9C%EC%99%80-%ED%95%B4%EB%8B%B9usecase%EC%9D%98-composer-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-import%ED%95%B4%EC%84%9C-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>005 api_route.pyì—ì„œ ì‘ì„±ì™„ë£Œëœ flask adapterë©”ì„œë“œì™€ í•´ë‹¹usecaseì˜ composer ë©”ì„œë“œë¥¼ importí•´ì„œ ì‚¬ìš©í•œë‹¤.</h4>

<h5 id="flaskrequest--compositerouteê°ì²´ë¥¼-ì—°ê²°í•´ì£¼ëŠ”-adapterë©”ì„œë“œì™€-í•´ë‹¹usecaseì˜-composite-routeê°ì²´ë¥¼-ë°˜í™˜í•´ì£¼ëŠ”-composer-methodë¥¼-importí•´ì„œ-ì‚¬ìš©í•œë‹¤">
<a class="anchor" href="#flaskrequest--compositeroute%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EC%97%B0%EA%B2%B0%ED%95%B4%EC%A3%BC%EB%8A%94-adapter%EB%A9%94%EC%84%9C%EB%93%9C%EC%99%80-%ED%95%B4%EB%8B%B9usecase%EC%9D%98-composite-route%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EB%B0%98%ED%99%98%ED%95%B4%EC%A3%BC%EB%8A%94-composer-method%EB%A5%BC-import%ED%95%B4%EC%84%9C-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>flask.request + composite.routeê°ì²´ë¥¼ ì—°ê²°í•´ì£¼ëŠ” adapterë©”ì„œë“œì™€ í•´ë‹¹usecaseì˜ composite routeê°ì²´ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” composer methodë¥¼ importí•´ì„œ ì‚¬ìš©í•œë‹¤.</h5>

<ul>
  <li>composerëŠ” <strong>repo + usecase + controllerê°ì²´ë¥¼ ë‹¤ ìƒì„±í›„ í•©ì„±í•´ì„œ ë°˜í™˜í•´ì¤˜ì•¼í•˜ëŠ” <code class="language-plaintext highlighter-rouge">method()</code>ì´ë‹¤.</strong>
</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#...
</span><span class="kn">from</span> <span class="nn">src.main.adapter</span> <span class="kn">import</span> <span class="n">flask_adapter</span>
<span class="kn">from</span> <span class="nn">src.main.composer</span> <span class="kn">import</span> <span class="n">register_user_composer</span>

<span class="n">api_routes_bp</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">"api_routes"</span><span class="p">,</span> <span class="n">__name__</span><span class="p">)</span>

<span class="c1">#...
</span>
<span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>    
    <span class="s">""" register user route """</span>

    <span class="n">message</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_user_composer</span><span class="p">())</span>

    <span class="k">return</span> 
</code></pre></div></div>

<h5 id="flask_adapterê°€-ë°˜í™˜í•´ì£¼ëŠ”-httpresponseê°ì²´ë¥¼-controllerì—ì„œ-ë‹¤ì‹œ-í•œë²ˆ-ì‚´í´ë³´ê¸°">
<a class="anchor" href="#flask_adapter%EA%B0%80-%EB%B0%98%ED%99%98%ED%95%B4%EC%A3%BC%EB%8A%94-httpresponse%EA%B0%9D%EC%B2%B4%EB%A5%BC-controller%EC%97%90%EC%84%9C-%EB%8B%A4%EC%8B%9C-%ED%95%9C%EB%B2%88-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>flask_adapterê°€ ë°˜í™˜í•´ì£¼ëŠ” HttpResponseê°ì²´ë¥¼ controllerì—ì„œ ë‹¤ì‹œ í•œë²ˆ ì‚´í´ë³´ê¸°</h5>

<ul>
  <li>
    <p>HttpRequestëŠ” POSTìš©-bodyí•„ë“œ / GETìš©-queryí•„ë“œë¥¼ ê°ê° ë’¤ì§€ì§€ë§Œ</p>
  </li>
  <li>
    <p><strong>HttpResponseëŠ” <code class="language-plaintext highlighter-rouge">ì–´ë–¤ methodë“ </code>ê²°êµ­ <code class="language-plaintext highlighter-rouge">body=</code>ì— use_caseê²°ê³¼ì˜ <code class="language-plaintext highlighter-rouge">"Data"</code>ê°€ ë“¤ì–´ê°„ë‹¤.</strong></p>

    <ul>
      <li>
        <p>find</p>

        <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007015904879.png" alt="image-20221007015904879"></p>
      </li>
      <li>
        <p>register</p>

        <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007015934723.png" alt="image-20221007015934723"></p>
      </li>
    </ul>
  </li>
  <li>
    <p>failì‹œì—ëŠ” <strong>body=ì— messageê°€ ë“¤ì–´ê°„ë‹¤.</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007020005317.png" alt="image-20221007020005317"></p>
  </li>
</ul>

<h4 id="006-composite-routeê°ì²´ì˜-ê²°ê³¼ë¬¼ì—ëŠ”-status_codebodyí•„ë“œë¥¼-ê°€ì§€ë©°-ì„±ê³µê³¼-ì‹¤íŒ¨ê°€-ìˆìœ¼ë‹ˆ--routerì—ì„œëŠ”-ì„±ê³µê³¼-ì‹¤íŒ¨ë¥¼-êµ¬ë¶„í•´ì„œ-messageë¡œ-ë°˜í™˜í•œë‹¤">
<a class="anchor" href="#006-composite-route%EA%B0%9D%EC%B2%B4%EC%9D%98-%EA%B2%B0%EA%B3%BC%EB%AC%BC%EC%97%90%EB%8A%94-status_codebody%ED%95%84%EB%93%9C%EB%A5%BC-%EA%B0%80%EC%A7%80%EB%A9%B0-%EC%84%B1%EA%B3%B5%EA%B3%BC-%EC%8B%A4%ED%8C%A8%EA%B0%80-%EC%9E%88%EC%9C%BC%EB%8B%88--router%EC%97%90%EC%84%9C%EB%8A%94-%EC%84%B1%EA%B3%B5%EA%B3%BC-%EC%8B%A4%ED%8C%A8%EB%A5%BC-%EA%B5%AC%EB%B6%84%ED%95%B4%EC%84%9C-message%EB%A1%9C-%EB%B0%98%ED%99%98%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>006 composite routeê°ì²´ì˜ ê²°ê³¼ë¬¼ì—ëŠ” status_code/bodyí•„ë“œë¥¼ ê°€ì§€ë©°, ì„±ê³µê³¼ ì‹¤íŒ¨ê°€ ìˆìœ¼ë‹ˆ =&gt; routerì—ì„œëŠ” ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ êµ¬ë¶„í•´ì„œ messageë¡œ ë°˜í™˜í•œë‹¤</h4>

<h5 id="routeëŠ”--noneì´ˆê¸°í™”ê°€-ì•„ë‹ˆë¼-ë¹ˆ-dict-ë¡œ-ì´ˆê¸°í™”í•´ë†“ê³ -composite-routeê°ì²´-ì„±ê³µì‹œì—-ì±„ìš´ë‹¤">
<a class="anchor" href="#route%EB%8A%94--none%EC%B4%88%EA%B8%B0%ED%99%94%EA%B0%80-%EC%95%84%EB%8B%88%EB%9D%BC-%EB%B9%88-dict-%EB%A1%9C-%EC%B4%88%EA%B8%B0%ED%99%94%ED%95%B4%EB%86%93%EA%B3%A0-composite-route%EA%B0%9D%EC%B2%B4-%EC%84%B1%EA%B3%B5%EC%8B%9C%EC%97%90-%EC%B1%84%EC%9A%B4%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>routeëŠ” = Noneì´ˆê¸°í™”ê°€ ì•„ë‹ˆë¼, ë¹ˆ dict {}ë¡œ ì´ˆê¸°í™”í•´ë†“ê³ , composite routeê°ì²´ ì„±ê³µì‹œì— ì±„ìš´ë‹¤.</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>    
    <span class="s">""" register user route """</span>

    <span class="c1"># message = None
</span>    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_user_composer</span><span class="p">())</span>
</code></pre></div></div>

<h5 id="ì¼ë‹¨-ì„±ê³µì‹œ-message-ì¬í• ë‹¹í•´ì„œ-ì±„ìš¸-ë°ì´í„°ë¥¼-ë§Œë“ ë‹¤">
<a class="anchor" href="#%EC%9D%BC%EB%8B%A8-%EC%84%B1%EA%B3%B5%EC%8B%9C-message-%EC%9E%AC%ED%95%A0%EB%8B%B9%ED%95%B4%EC%84%9C-%EC%B1%84%EC%9A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%A7%8C%EB%93%A0%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì¼ë‹¨ ì„±ê³µì‹œ message ì¬í• ë‹¹í•´ì„œ ì±„ìš¸ ë°ì´í„°ë¥¼ ë§Œë“ ë‹¤.</h5>

<ol>
  <li>
    <p><strong>messageì—ëŠ” <code class="language-plaintext highlighter-rouge">"Type" : "entity(ì†Œë¬¸ì)"</code>ê°€ ì¶”ê°€ëœë‹¤.</strong></p>
  </li>
  <li>
    <p><strong>ìƒì„±ì„±ê³µì‹œ idë¶€í„° ìƒì„±ëœ ê°ì²´í•„ë“œë“¤ì„ <code class="language-plaintext highlighter-rouge">response.body</code>ì—ì„œ ë½‘ì•„ì“°ë©´ ëœë‹¤. <code class="language-plaintext highlighter-rouge">response(body=ì— "Data"ì •ë³´)</code>ê°€ ë“¤ì–´ê°€ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</strong></p>

    <ul>
      <li><strong>adapterë©”ì„œë“œëŠ” inputType(ì—¬ê¸°ì„œë§ŒFlaks request), outputType(ì—¬ê¸°ì„œë§Œ HttpResponse? í•­ìƒì¼ ê²ƒ ê°™ì§€ë§Œ?)ì˜ Typeì´ ì•ˆì •í•´ì§„ anyë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ê²°ê³¼ë¬¼ì— ëŒ€í•œ í•„ë“œ ì ‘ê·¼ì„ ì§ì ‘í•´ì•¼í•œë‹¤.</strong></li>
    </ul>
  </li>
  <li>
    <p><strong>POSTí›„ ìƒì„±ëœ ê°ì²´ì •ë³´ë¥¼ ì•Œê³  ì‹¶ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">src&gt;models&gt;</code>ì—ì„œ DTOê°ì²´(namedTuple)ì˜ í•„ë“œëª…ì„ ë³¸ë‹¤.</strong></p>

    <ul>
      <li>passwordëŠ” ì œì™¸í•˜ê³  ì‘ë‹µë³´ë‚¼ ê²ƒì´ë‹¤.</li>
    </ul>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007020732432.png" alt="image-20221007020732432"></p>
  </li>
  <li>
    <p><strong>POST(register)í›„ <code class="language-plaintext highlighter-rouge">ìƒˆë¡­ê²Œ ë°°ì •ëœ id</code>ëŠ” ë”°ë¡œ í•„ë“œë¡œ ë°°ì •í•˜ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">postìš”ì²­ì‹œ bodyì— ë“¤ì–´ì˜¨ ì •ë³´ëŠ” attributes</code>ë¡œ í•œë²ˆ ë” ì‹¸ì„œ ë³´ë‚¸ë‹¤?!</strong></p>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>
    <span class="s">""" register user route """</span>

    <span class="c1"># message = None
</span>    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_user_composer</span><span class="p">())</span>

    <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
        <span class="s">"attributes"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"name"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">name</span>
            <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<h5 id="ë‹¤-ë§Œë“¤ì–´ì§„-messageëŠ”-jsonifyì‹œ-ì†Œë¬¸ì-dataë¥¼-keyë¡œ-í•´ì„œ-valueì—-ì¤˜ì„œ-ë°˜í™˜í•œë‹¤-ì´-ë•Œ-íŠœí”Œë¡œì„œ-responsestatus_codeë„-ê°™ì´-ë³´ë‚¸ë‹¤">
<a class="anchor" href="#%EB%8B%A4-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%A7%84-message%EB%8A%94-jsonify%EC%8B%9C-%EC%86%8C%EB%AC%B8%EC%9E%90-data%EB%A5%BC-key%EB%A1%9C-%ED%95%B4%EC%84%9C-value%EC%97%90-%EC%A4%98%EC%84%9C-%EB%B0%98%ED%99%98%ED%95%9C%EB%8B%A4-%EC%9D%B4-%EB%95%8C-%ED%8A%9C%ED%94%8C%EB%A1%9C%EC%84%9C-responsestatus_code%EB%8F%84-%EA%B0%99%EC%9D%B4-%EB%B3%B4%EB%82%B8%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>ë‹¤ ë§Œë“¤ì–´ì§„ messageëŠ” <code class="language-plaintext highlighter-rouge">jsonify</code>ì‹œ <code class="language-plaintext highlighter-rouge">ì†Œë¬¸ì "data"</code>ë¥¼ keyë¡œ í•´ì„œ valueì— ì¤˜ì„œ ë°˜í™˜í•œë‹¤. ì´ ë•Œ, íŠœí”Œë¡œì„œ response.status_codeë„ ê°™ì´ ë³´ë‚¸ë‹¤.</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>
    <span class="s">""" register user route """</span>

    <span class="c1"># message = None
</span>    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_user_composer</span><span class="p">())</span>

    <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
        <span class="s">"attributes"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"name"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">name</span>
            <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"data"</span><span class="p">:</span> <span class="n">message</span><span class="p">}),</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span>

</code></pre></div></div>

<h4 id="007-ì„±ê³µì‹œ-messageë§Œ-ë¨¼ì €-ì‘ì„±ì™„ë£Œí–ˆìœ¼ë©´-postmanìœ¼ë¡œ-í™•ì¸í•œë‹¤---status_codeëŠ”-bodyìš°ì¸¡ìƒë‹¨ì—-ë”°ë¡œí™•ì¸----dbë„-í™•ì¸í•œë‹¤">
<a class="anchor" href="#007-%EC%84%B1%EA%B3%B5%EC%8B%9C-message%EB%A7%8C-%EB%A8%BC%EC%A0%80-%EC%9E%91%EC%84%B1%EC%99%84%EB%A3%8C%ED%96%88%EC%9C%BC%EB%A9%B4-postman%EC%9C%BC%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%9C%EB%8B%A4---status_code%EB%8A%94-body%EC%9A%B0%EC%B8%A1%EC%83%81%EB%8B%A8%EC%97%90-%EB%94%B0%EB%A1%9C%ED%99%95%EC%9D%B8----db%EB%8F%84-%ED%99%95%EC%9D%B8%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>007 ì„±ê³µì‹œ messageë§Œ ë¨¼ì € ì‘ì„±ì™„ë£Œí–ˆìœ¼ë©´, POSTMANìœ¼ë¡œ í™•ì¸í•œë‹¤. -&gt; status_codeëŠ” bodyìš°ì¸¡ìƒë‹¨ì— ë”°ë¡œí™•ì¸  -&gt; DBë„ í™•ì¸í•œë‹¤</h4>

<ol>
  <li>
    <p>POSTë¡œ ìˆ˜ì •</p>
  </li>
  <li>
    <p>url í™•ì¸ <code class="language-plaintext highlighter-rouge">/api/users</code> ë¡œ <strong>í–‰ìœ„ì—†ì´ entityë¡œë§Œ ëë‚´ê¸°</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007021609472.png" alt="image-20221007021609472"></p>
  </li>
  <li>
    <p><strong>POSTë¡œì„œ Headersì— ì»¨í…ì¸  íƒ€ì… ì‘ì„±</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007021400718.png" alt="image-20221007021400718"></p>
  </li>
  <li>
    <p><strong>BodyëŠ” rawë¡œ jsonìœ¼ë¡œ ì‘ì„±</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007021430123.png" alt="image-20221007021430123"></p>
  </li>
  <li>
    <p>send</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007021928933.png" alt="image-20221007021928933"></p>
  </li>
  <li>
    <p><strong>íŠœí”Œë¡œ ë³´ë‚¸ status ì½”ë“œëŠ” POSTMAN body ìš°ì¸¡ìƒë‹¨ì— ë³´ì¸ë‹¤.</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022229156.png" alt="image-20221007022229156"></p>
  </li>
  <li>
    <p><strong>DBë„ í™•ì¸í•œë‹¤.</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022056791.png" alt="image-20221007022056791"></p>
  </li>
</ol>

<h4 id="008-unique-keyì¸-nameë¥¼-ë°”ê¿”ì„œ-sendë³´ë‚´ë©´-ì„±ê³µí•˜ì§€ë§Œ-ë‹¤ì‹œë³´ë‚´ë©´-ì˜ˆì™¸ê°€-í„°ì§„ë‹¤-ì´ë¯¸-ê°€ì§„-nameì—-ëŒ€í•´--unique-constraint-failed---integrityerrorì˜-ì˜ˆì™¸ê°€-í„°ì§„ë‹¤">
<a class="anchor" href="#008-unique-key%EC%9D%B8-name%EB%A5%BC-%EB%B0%94%EA%BF%94%EC%84%9C-send%EB%B3%B4%EB%82%B4%EB%A9%B4-%EC%84%B1%EA%B3%B5%ED%95%98%EC%A7%80%EB%A7%8C-%EB%8B%A4%EC%8B%9C%EB%B3%B4%EB%82%B4%EB%A9%B4-%EC%98%88%EC%99%B8%EA%B0%80-%ED%84%B0%EC%A7%84%EB%8B%A4-%EC%9D%B4%EB%AF%B8-%EA%B0%80%EC%A7%84-name%EC%97%90-%EB%8C%80%ED%95%B4--unique-constraint-failed---integrityerror%EC%9D%98-%EC%98%88%EC%99%B8%EA%B0%80-%ED%84%B0%EC%A7%84%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>008 unique keyì¸ nameë¥¼ ë°”ê¿”ì„œ sendë³´ë‚´ë©´ ì„±ê³µí•˜ì§€ë§Œ.. ë‹¤ì‹œë³´ë‚´ë©´ ì˜ˆì™¸ê°€ í„°ì§„ë‹¤. ì´ë¯¸ ê°€ì§„ nameì— ëŒ€í•´  UNIQUE constraint failed -&gt; IntegrityErrorì˜ ì˜ˆì™¸ê°€ í„°ì§„ë‹¤.</h4>

<ul>
  <li>
    <p>jjs123 -&gt; jjs1234</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022146088.png" alt="image-20221007022146088"></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022310742.png" alt="image-20221007022310742"></p>
  </li>
  <li>
    <p>ë˜‘ê°™ì€  nameìœ¼ë¡œ í•œë²ˆë” SEND</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022437167.png" alt="image-20221007022437167"></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022558718.png" alt="image-20221007022558718"></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007022535965.png" alt="image-20221007022535965"></p>
  </li>
</ul>

<h3 id="02-routeì—ì„œ-í„°ì§€ëŠ”-dbì—ëŸ¬ëŠ”-adapter_methodì—ì„œ-composite-routeê°ì²´routeë©”ì„œë“œì—ì„œ-ì¡ëŠ”ë‹¤">
<a class="anchor" href="#02-route%EC%97%90%EC%84%9C-%ED%84%B0%EC%A7%80%EB%8A%94-db%EC%97%90%EB%9F%AC%EB%8A%94-adapter_method%EC%97%90%EC%84%9C-composite-route%EA%B0%9D%EC%B2%B4route%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90%EC%84%9C-%EC%9E%A1%EB%8A%94%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 routeì—ì„œ í„°ì§€ëŠ” DBì—ëŸ¬ëŠ” adapter_methodì—ì„œ composite routeê°ì²´.routeë©”ì„œë“œì—ì„œ ì¡ëŠ”ë‹¤.</h3>

<h4 id="001-registerinsertì—ì„œëŠ”-unique-key-í•„ë“œë¥¼-send-2ë²ˆìœ¼ë¡œ-ì¤‘ë³µì—ëŸ¬ì¡´ì¬ê²€ì¦ì—ëŸ¬ë¥¼-í„°íŠ¸ë ¤ì„œ-ì¡ëŠ”ë‹¤">
<a class="anchor" href="#001-registerinsert%EC%97%90%EC%84%9C%EB%8A%94-unique-key-%ED%95%84%EB%93%9C%EB%A5%BC-send-2%EB%B2%88%EC%9C%BC%EB%A1%9C-%EC%A4%91%EB%B3%B5%EC%97%90%EB%9F%AC%EC%A1%B4%EC%9E%AC%EA%B2%80%EC%A6%9D%EC%97%90%EB%9F%AC%EB%A5%BC-%ED%84%B0%ED%8A%B8%EB%A0%A4%EC%84%9C-%EC%9E%A1%EB%8A%94%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>001 register(insert)ì—ì„œëŠ” unique key í•„ë“œë¥¼ SEND 2ë²ˆìœ¼ë¡œ ì¤‘ë³µì—ëŸ¬(ì¡´ì¬ê²€ì¦)ì—ëŸ¬ë¥¼ í„°íŠ¸ë ¤ì„œ ì¡ëŠ”ë‹¤.</h4>

<h4 id="002-adapter-methodì—ì„œ-terminalì˜-sqlalchemy-ì—ëŸ¬ë¥¼-importí•œë‹¤">
<a class="anchor" href="#002-adapter-method%EC%97%90%EC%84%9C-terminal%EC%9D%98-sqlalchemy-%EC%97%90%EB%9F%AC%EB%A5%BC-import%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>002 adapter methodì—ì„œ, terminalì˜ SQLAlchemy ì—ëŸ¬ë¥¼ importí•œë‹¤.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: users.name
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#...
</span><span class="kn">from</span> <span class="nn">sqlalchemy.exc</span> <span class="kn">import</span> <span class="n">IntegrityError</span>
<span class="c1">#...
</span>
<span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Route</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="c1">#...
</span></code></pre></div></div>

<h4 id="003-routeê°ì²´route-í˜¸ì¶œë¶€ë¥¼-try-except-í•´ë‹¹ì—ëŸ¬ë¡œ-ì¡ëŠ”ë‹¤">
<a class="anchor" href="#003-route%EA%B0%9D%EC%B2%B4route-%ED%98%B8%EC%B6%9C%EB%B6%80%EB%A5%BC-try-except-%ED%95%B4%EB%8B%B9%EC%97%90%EB%9F%AC%EB%A1%9C-%EC%9E%A1%EB%8A%94%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>003 routeê°ì²´.route() í˜¸ì¶œë¶€ë¥¼ [try ~except í•´ë‹¹ì—ëŸ¬]ë¡œ ì¡ëŠ”ë‹¤.</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Route</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="c1">#...
</span>    <span class="n">http_request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">json</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">api_route</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="n">http_request</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">IntegrityError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></div>

<h4 id="004-exceptë¡œ-ì¡ì€-ì—ëŸ¬ì—-ëŒ€í•´-httperrorë¥¼-ì¸í„°ë„·ì—ì„œ-ê²€ìƒ‰í›„-messageë¥¼-ê°€ì ¸ì˜¤ê³ -í•´ë‹¹-ì—ëŸ¬ë¥¼-ì—ëŸ¬ë§¤í•‘-httperrorsí´ë˜ìŠ¤ì˜-staticë©”ì„œë“œë¡œ-ì¶”ê°€í•œë‹¤">
<a class="anchor" href="#004-except%EB%A1%9C-%EC%9E%A1%EC%9D%80-%EC%97%90%EB%9F%AC%EC%97%90-%EB%8C%80%ED%95%B4-httperror%EB%A5%BC-%EC%9D%B8%ED%84%B0%EB%84%B7%EC%97%90%EC%84%9C-%EA%B2%80%EC%83%89%ED%9B%84-message%EB%A5%BC-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B3%A0-%ED%95%B4%EB%8B%B9-%EC%97%90%EB%9F%AC%EB%A5%BC-%EC%97%90%EB%9F%AC%EB%A7%A4%ED%95%91-httperrors%ED%81%B4%EB%9E%98%EC%8A%A4%EC%9D%98-static%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%EC%B6%94%EA%B0%80%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>004 exceptë¡œ ì¡ì€ ì—ëŸ¬ì— ëŒ€í•´ HttpErrorë¥¼ ì¸í„°ë„·ì—ì„œ ê²€ìƒ‰í›„ messageë¥¼ ê°€ì ¸ì˜¤ê³ , í•´ë‹¹ ì—ëŸ¬ë¥¼ ì—ëŸ¬ë§¤í•‘ HttpErrorsí´ë˜ìŠ¤ì˜ staticë©”ì„œë“œë¡œ ì¶”ê°€í•œë‹¤.</h4>

<ul>
  <li><strong>ì¤‘ë³µì—ëŸ¬ëŠ” <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/409">409 Conflict</a>ì— í•´ë‹¹í•œë‹¤</strong></li>
  <li>src&gt;presenter&gt;errors&gt;http_errors.pyì˜ HttpErrors classì— <strong>ë§¤í•‘ static í´ë˜ìŠ¤ë¡œ ì¶”ê°€í•œë‹¤.</strong>
</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">HttpErrors</span><span class="p">:</span>
    <span class="c1">#...
</span>    <span class="o">@</span><span class="nb">staticmethod</span>
    <span class="k">def</span> <span class="nf">error_409</span><span class="p">():</span>
        <span class="s">"""HTTP 409"""</span>

        <span class="k">return</span> <span class="p">{</span><span class="s">"status_code"</span><span class="p">:</span> <span class="mi">409</span><span class="p">,</span> <span class="s">"body"</span><span class="p">:</span> <span class="p">{</span><span class="s">"error"</span><span class="p">:</span> <span class="s">"Conflict"</span><span class="p">}}</span>
</code></pre></div></div>

<h4 id="005-except-errorë¶€ë¶„ì—ì„œ-httperros-409ë¥¼-ë½‘ì•„ë‚´---ì„±ê³µ-ê²°ê³¼ë¬¼ê³¼-ê°™ì€-typeì˜-httpresponseê°ì²´ë¥¼-ë§Œë“¤ê³ -early-returní•´ì¤€ë‹¤">
<a class="anchor" href="#005-except-error%EB%B6%80%EB%B6%84%EC%97%90%EC%84%9C-httperros-409%EB%A5%BC-%EB%BD%91%EC%95%84%EB%82%B4---%EC%84%B1%EA%B3%B5-%EA%B2%B0%EA%B3%BC%EB%AC%BC%EA%B3%BC-%EA%B0%99%EC%9D%80-type%EC%9D%98-httpresponse%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B3%A0-early-return%ED%95%B4%EC%A4%80%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>005 except Error:ë¶€ë¶„ì—ì„œ HttpErros 409ë¥¼ ë½‘ì•„ë‚´ -&gt; ì„±ê³µ ê²°ê³¼ë¬¼ê³¼ ê°™ì€ Typeì˜ HttpResponseê°ì²´ë¥¼ ë§Œë“¤ê³  early returní•´ì¤€ë‹¤.</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">any</span><span class="p">,</span> <span class="n">api_route</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Route</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
    <span class="s">""" Adapter pattern to Flask
    :param - Flask Request
    :api_route: Composite Routes
    """</span>
    <span class="n">http_request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">json</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">api_route</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="n">http_request</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">IntegrityError</span><span class="p">:</span>
        <span class="n">http_error</span> <span class="o">=</span> <span class="n">HttpErrors</span><span class="p">.</span><span class="n">error_409</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">http_error</span><span class="p">[</span><span class="s">"status_code"</span><span class="p">],</span>
            <span class="n">body</span><span class="o">=</span><span class="n">http_error</span><span class="p">[</span><span class="s">"body"</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>

</code></pre></div></div>

<ul>
  <li>
    <p>ì°¸ê³  <strong>HttpErrosì˜ â€œbodyâ€ì—ëŠ” {â€œerrorâ€ : â€œerror_messageâ€}ì˜ dictê°€ ë“¤ì–´ê°€ìˆìŒ.</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007163935039.png" alt="image-20221007163935039"></p>
  </li>
</ul>

<h3 id="03-ë“±ë¡-routeì—ì„œëŠ”-ì˜ˆì™¸ì²˜ë¦¬-ì™„ë£Œëœ-adapter-methodê²°ê³¼ì¸-httpresponseì˜-status_codeë¥¼-ë”°ë¼-messageë¥¼-ì²˜ë¦¬">
<a class="anchor" href="#03-%EB%93%B1%EB%A1%9D-route%EC%97%90%EC%84%9C%EB%8A%94-%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC-%EC%99%84%EB%A3%8C%EB%90%9C-adapter-method%EA%B2%B0%EA%B3%BC%EC%9D%B8-httpresponse%EC%9D%98-status_code%EB%A5%BC-%EB%94%B0%EB%9D%BC-message%EB%A5%BC-%EC%B2%98%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 [ë“±ë¡ route]ì—ì„œëŠ” [ì˜ˆì™¸ì²˜ë¦¬ ì™„ë£Œëœ adapter method]ê²°ê³¼ì¸ [HttpResponseì˜ status_codeë¥¼ ë”°ë¼] messageë¥¼ ì²˜ë¦¬</h3>

<h4 id="001-status_code--300ë¯¸ë§Œì´ë¼ë©´-ì •ìƒ-responseë¥¼-ë°›ëŠ”-ê²ƒì´ë‹¤-ì„±ê³µì‹œ-messageë¥¼-ê·¸ëŒ€ë¡œ-ì‚¬ìš©">
<a class="anchor" href="#001-status_code--300%EB%AF%B8%EB%A7%8C%EC%9D%B4%EB%9D%BC%EB%A9%B4-%EC%A0%95%EC%83%81-response%EB%A5%BC-%EB%B0%9B%EB%8A%94-%EA%B2%83%EC%9D%B4%EB%8B%A4-%EC%84%B1%EA%B3%B5%EC%8B%9C-message%EB%A5%BC-%EA%B7%B8%EB%8C%80%EB%A1%9C-%EC%82%AC%EC%9A%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>001 status_code &lt; 300ë¯¸ë§Œì´ë¼ë©´, ì •ìƒ responseë¥¼ ë°›ëŠ” ê²ƒì´ë‹¤. ì„±ê³µì‹œ messageë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>
    <span class="s">""" register user route """</span>

    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_user_composer</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
        <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"attributes"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"name"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">name</span>
                <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"data"</span><span class="p">:</span> <span class="n">message</span><span class="p">}),</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span>
        
    <span class="c1"># Handing Errors
</span>    <span class="k">return</span> 
</code></pre></div></div>

<h4 id="002--200ë²ˆëŒ€ê°€-ì•„ë‹ˆë¼ë©´-jsonifyí•˜ëŠ”-key-valueê°€-ë‹¬ë¼ì§„ë‹¤-ê¸°ì¡´-data-message----error--statuestatus_code-titleerror_message">
<a class="anchor" href="#002--200%EB%B2%88%EB%8C%80%EA%B0%80-%EC%95%84%EB%8B%88%EB%9D%BC%EB%A9%B4-jsonify%ED%95%98%EB%8A%94-key-value%EA%B0%80-%EB%8B%AC%EB%9D%BC%EC%A7%84%EB%8B%A4-%EA%B8%B0%EC%A1%B4-data-message----error--statuestatus_code-titleerror_message" aria-hidden="true"><span class="octicon octicon-link"></span></a>002  200ë²ˆëŒ€ê°€ ì•„ë‹ˆë¼ë©´ jsonifyí•˜ëŠ” key valueê°€ ë‹¬ë¼ì§„ë‹¤( ê¸°ì¡´: â€œdataâ€: message  -&gt; â€œerrorâ€ :{ â€œstatueâ€:status_code, â€œtitleâ€:error_message}</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api/users"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">register_user</span><span class="p">():</span>
    <span class="s">""" register user route """</span>

    <span class="n">message</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">flask_adapter</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">api_route</span><span class="o">=</span><span class="n">register_user_composer</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
        <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"attributes"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"name"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">name</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"data"</span><span class="p">:</span> <span class="n">message</span><span class="p">}),</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span>

    <span class="c1"># Handing Errors
</span>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
        <span class="s">"error"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="s">"title"</span><span class="p">:</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">[</span><span class="s">"error"</span><span class="p">],</span>
        <span class="p">}</span>
    <span class="p">}),</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span>
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007165408175.png" alt="image-20221007165408175"></p>

<h4 id="003-routerì˜-300-ì²˜ë¦¬ëŠ”-headers-ì—†ëŠ”-postìš”ì²­no-bodyë„-400-errorë¡œ-ë‚´ë ¤ì¤€ë‹¤">
<a class="anchor" href="#003-router%EC%9D%98-300-%EC%B2%98%EB%A6%AC%EB%8A%94-headers-%EC%97%86%EB%8A%94-post%EC%9A%94%EC%B2%ADno-body%EB%8F%84-400-error%EB%A1%9C-%EB%82%B4%EB%A0%A4%EC%A4%80%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>003 routerì˜ &lt;300 ì²˜ë¦¬ëŠ” Headers ì—†ëŠ” POSTìš”ì²­(no body)ë„ 400 errorë¡œ ë‚´ë ¤ì¤€ë‹¤</h4>

<ul>
  <li>
    <p>postman no headers -&gt;</p>
  </li>
  <li>
    <p>flask request.json -&gt; None</p>
  </li>
  <li>
    <p><strong>usecase controller class</strong>ì˜  route method -&gt;</p>

    <ul>
      <li>
        <p>no body(reqeuest.json)ë¡œ ì¸í•œ HttpErros 400 ìƒì„±</p>

        <ol>
          <li>httpresponse {â€˜status_codeâ€™: 400, â€˜bodyâ€™: {â€˜errorâ€™: â€˜Bad requestâ€™}}</li>
        </ol>

        <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007170747881.png" alt="image-20221007170747881"></p>
      </li>
    </ul>

    <ol>
      <li>cf) routeê°ì²´ì¸ composerëŠ” ê°ì²´ ì¡°í•©í•´ì„œ ìƒì„± í›„ ê°ì²´ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¼ ë¡œì§ì´ ì—†ìŒ.</li>
    </ol>
  </li>
</ul>

<ol>
  <li>route 300ë¯¸ë§Œì‹œ errorë¡œ ì²˜ë¦¬</li>
</ol>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007170605687.png" alt="image-20221007170605687"></p>

<h4 id="004-route--300ì²˜ë¦¬ëŠ”-í•„ìˆ˜param-ì—†ëŠ”-ìš”ì²­or-validate_entryí†µê³¼ëª»í•˜ë©´ë„-422-ì—ëŸ¬ë¡œ-ë‚´ë ¤ì¤€ë‹¤">
<a class="anchor" href="#004-route--300%EC%B2%98%EB%A6%AC%EB%8A%94-%ED%95%84%EC%88%98param-%EC%97%86%EB%8A%94-%EC%9A%94%EC%B2%ADor-validate_entry%ED%86%B5%EA%B3%BC%EB%AA%BB%ED%95%98%EB%A9%B4%EB%8F%84-422-%EC%97%90%EB%9F%AC%EB%A1%9C-%EB%82%B4%EB%A0%A4%EC%A4%80%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>004 route &lt; 300ì²˜ë¦¬ëŠ” í•„ìˆ˜param ì—†ëŠ” ìš”ì²­(or validate_entryí†µê³¼ëª»í•˜ë©´)ë„ 422 ì—ëŸ¬ë¡œ ë‚´ë ¤ì¤€ë‹¤.</h4>

<ul>
  <li>
    <p>headersëŠ” ì£¼ê³ (nobody 400 í•´ê²°), <strong>unique keyì´ì í•„ìˆ˜ paramì¸ nameì—†ì´ ì¤˜ë³´ì.</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007171152068.png" alt="image-20221007171152068"></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007171203026.png" alt="image-20221007171203026"></p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">useacse controller routeë©”ì„œë“œ</code>ì—ì„œ, <code class="language-plaintext highlighter-rouge">í•„ìˆ˜ param ì¡´ì¬ê²€ì¦(or validate_entry)</code>ì‹œ í†µê³¼ëª»í•˜ë©´ 422ì—ëŸ¬ë¥¼ ëƒˆë‹¤.</strong></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007171351206.png" alt="image-20221007171351206"></p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221007171241972.png" alt="image-20221007171241972"></p>
  </li>
</ul>

<h3 id="commit">
<a class="anchor" href="#commit" aria-hidden="true"><span class="octicon octicon-link"></span></a>commit</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -am "feat: implementing register_use Route with flask"
</code></pre></div></div>

<h2 id="ì°¸ê³ ">
<a class="anchor" href="#%EC%B0%B8%EA%B3%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì°¸ê³ </h2>

<ul>
  <li>
<a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Robert C. Martin (Uncle Bob)ì˜ Clean Code Blog</a>
    <ul>
      <li><a href="https://leanpub.com/clean-architectures-in-python">PDF-free-Clean Architectures in Python</a></li>
    </ul>
  </li>
  <li><a href="https://velog.io/@jahoy/Python%EC%9C%BC%EB%A1%9C-Clean-Architecture-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">ìš©ì–´ ì°¸ê³  ë¸”ë¡œê·¸ 1í¸</a></li>
  <li><a href="https://velog.io/@jahoy/Python%EC%9C%BC%EB%A1%9C-%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B02">ìš©ì–´ ì°¸ê³  ë¸”ë¡œê·¸ 2í¸</a></li>
  <li><a href="https://testdriven.io/blog/fastapi-crud/#postgres-setup">fasapi vs flask</a></li>
</ul>

<h4 id="gitignore">
<a class="anchor" href="#gitignore" aria-hidden="true"><span class="octicon octicon-link"></span></a>gitignore</h4>

<ul>
  <li>
    <p>gitì— commitë˜ì—ˆë˜ ê²ƒì„ ignoreí•˜ê³  ì‹¶ì„ ë•Œ</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git rm [íŒŒì¼ëª…] --cached
</code></pre></div>    </div>
  </li>
  <li>
    <p>git amend</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git commit --amend --no-edit
</code></pre></div>    </div>
  </li>
</ul>

<ol>
  <li>console ë“±ì—ì„œ init importë¶€í„° ìƒê¸°ëŠ” pycacheí´ë”</li>
  <li>venv</li>
  <li>ì—°ìŠµìš© sqlite .dbíŒŒì¼</li>
  <li>pytestì‹œ ìƒê¸°ëŠ” .pytest_cache í´ë”</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>**/__pycache__
venv
storage.db
.pytest_cache
</code></pre></div></div>

<h4 id="sqlalchemyíŒ¨í‚¤ì§€">
<a class="anchor" href="#sqlalchemy%ED%8C%A8%ED%82%A4%EC%A7%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>sqlalchemyíŒ¨í‚¤ì§€</h4>

<ul>
  <li>ì¼ë°˜ íŒ¨í‚¤ì§€: create_engine / ì¹¼ëŸ¼ì¬ë£Œë“¤</li>
  <li>.orm íŒ¨í‚¤ì§€:
    <ul>
      <li>relatioship: 1:Mì—ì„œ 1ì— í•´ë‹¹í•˜ëŠ” tableì´ ë“¤ê³  ìˆëŠ” ê°€ì§œì¹¼ëŸ¼</li>
      <li>sessionmaker: handler class ì† enterì—ì„œ engineì„ ë¬¶ì–´ì„œ sessionì„ ë°˜í™˜í•´ì£¼ëŠ” ë†ˆ</li>
    </ul>
  </li>
  <li>.exc íŒ¨í‚¤ì§€:
    <ul>
      <li>IntegrityError: unique key ì¤‘ë³µì‹œ ë‚˜ëŠ” ì—ëŸ¬</li>
    </ul>
  </li>
  <li>ê³„ì¸µë³„ ë³€ìˆ˜ì •ë¦¬
    <ul>
      <li>id : sqlalchemy -&gt; <strong>repoë¶€í„°ëŠ”</strong> fk_idë„ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">pk_id</code>
</li>
      <li>name: sqlalchemy-&gt;repo-&gt;usecaseê¹Œì§€ëŠ” ê·¸ëƒ¥ name (ì„ íƒì¸ì ê°œë³„ë©”ì„œë“œì—by_name)-&gt; <strong>controllerë¶€í„°ëŠ” ì™¸ë¶€ì—ì„  ë‹¤ë¥¸(pet)_nameë„ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">fk_name</code></strong>
        <ul>
          <li><strong>OneEntityì˜ ê²½ìš° ê·¸ëƒ¥ controllerì—ì„œë„ <code class="language-plaintext highlighter-rouge">name</code>ë§Œ</strong></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="githubì—ì„œ-brë”°ì„œ-ì‘ì—…í•˜ê¸°">
<a class="anchor" href="#github%EC%97%90%EC%84%9C-br%EB%94%B0%EC%84%9C-%EC%9E%91%EC%97%85%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>githubì—ì„œ brë”°ì„œ ì‘ì—…í•˜ê¸°</h4>

<h5 id="1-1-githubì—ì„œ-brìƒì„±--clone">
<a class="anchor" href="#1-1-github%EC%97%90%EC%84%9C-br%EC%83%9D%EC%84%B1--clone" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-1] githubì—ì„œ brìƒì„± ~ clone</h5>

<ol>
  <li>
    <p>githubì— ë“¤ì–´ê°€ì„œ <code class="language-plaintext highlighter-rouge">feat/~</code>ë¡œ ë¸Œëœì¹˜ ìƒì„±</p>
  </li>
  <li>
    <p>í•´ë‹¹ brë§Œ clone</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git clone -b [branch] [gitì£¼ì†Œ]
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="cloneí›„-ì´ˆê¸°-ì‘ì—…-ì„¸íŒ…">
<a class="anchor" href="#clone%ED%9B%84-%EC%B4%88%EA%B8%B0-%EC%9E%91%EC%97%85-%EC%84%B8%ED%8C%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>cloneí›„ ì´ˆê¸° ì‘ì—… ì„¸íŒ…</h5>

<ol>
  <li>gitignoreì¤‘ì— dbíŒŒì¼ ìˆìœ¼ë©´ ì˜®ê²¨ì£¼ê¸°
    <ul>
      <li>ì—†ìœ¼ë©´ config importí•´ì„œ Base + handler -&gt; get_enigne -&gt; bindí•œ ë‹¤ìŒ, create_all()í•´ì¤˜ì•¼í• ë“¯??</li>
    </ul>
  </li>
</ol>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20220929154256052.png" alt="image-20220929154256052"></p>

<ol>
  <li>githubì—ì„œ ë”°ì˜¨ ë¹ˆ ìƒˆbrì— ëŒ€í•´, venvë¥¼ ë§Œë“¤ê³  í™œì„±í™”í•˜ê³   vscodeë¥¼ ì—°ë‹¤</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m virtualenv -p python310 venv

.\venv\Scripts\activate
</code></pre></div></div>

<ol>
  <li>ìµœì´ˆ requirements.txt ì§ì ‘ ì„¤ì¹˜</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -r requirements.txt
</code></pre></div></div>

<ol>
  <li>ìµœì´ˆ pre-commit install ì§ì ‘ ì„¸íŒ…</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pre-commit install
</code></pre></div></div>

<ol>
  <li>vscode ì—´ê³  interpreter venvë¡œ ì§€ì •</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>code .
</code></pre></div></div>

<h5 id="1-2-ì‘ì—…ëë‚œ-brì˜-í´ë”ì—ì„œ-ìƒˆ-ì‘ì—…-brìƒì„±--ë¶„ê¸°ê²Œì‹œ-ì´ˆê¸°ì„¸íŒ…-ë˜-ì•ˆí•´ë„-ë˜ëŠ”-ì¥ì ">
<a class="anchor" href="#1-2-%EC%9E%91%EC%97%85%EB%81%9D%EB%82%9C-br%EC%9D%98-%ED%8F%B4%EB%8D%94%EC%97%90%EC%84%9C-%EC%83%88-%EC%9E%91%EC%97%85-br%EC%83%9D%EC%84%B1--%EB%B6%84%EA%B8%B0%EA%B2%8C%EC%8B%9C-%EC%B4%88%EA%B8%B0%EC%84%B8%ED%8C%85-%EB%98%90-%EC%95%88%ED%95%B4%EB%8F%84-%EB%90%98%EB%8A%94-%EC%9E%A5%EC%A0%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-2] ì‘ì—…ëë‚œ brì˜ í´ë”ì—ì„œ ìƒˆ ì‘ì—… brìƒì„± ~ ë¶„ê¸°ê²Œì‹œ (ì´ˆê¸°ì„¸íŒ… ë˜ ì•ˆí•´ë„ ë˜ëŠ” ì¥ì )</h5>

<ol>
  <li>
    <p>í˜„ì¬ brë¥¼ í™•ì¸í•œë‹¤.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">branch</span>
<span class="o">*</span> <span class="n">feat</span><span class="o">/</span><span class="n">register_user_use_case</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>checkout -b</strong>ë¡œ ìƒˆ br ìƒì„±í•˜ì—¬ ì§„ì…í•˜ê¸°</p>

    <ul>
      <li>ì›ë˜ëŠ” githubì—ì„œ create branchí–ˆì—ˆìŒ.</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout -b feat/generic_use_cases
   
git branch
   
* feat/generic_use_cases
  feat/register_user_use_case
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>git push -u origin [branchëª…]ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">ìƒˆë¡œìƒì„±í•œ brë¥¼ pushí•´ì„œ githubì— ìƒì„±í•˜ê¸°</code></strong></p>

    <ul>
      <li>vscodeì—ì„œëŠ” push -u origin [branch] ëŒ€ì‹   <strong><code class="language-plaintext highlighter-rouge">ë¶„ê¸°ê²Œì‹œ</code>ê°€ ëœ¬ë‹¤.</strong>
</li>
    </ul>
  </li>
  <li>
    <p>githubì—ì„œ <strong>ë¹ˆ ë¶„ê¸°ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°</strong></p>

    <ul>
      <li>githubì— mergeë˜ê¸° ìœ„í•´ì„œëŠ” <strong>ì§ì „ ì‘ì—…ì´í›„ <code class="language-plaintext highlighter-rouge">githubì— ìƒˆ ì‘ì—… brë¥¼ ë¨¼ì € ìƒì„±í•´ë†“ê³  ì‘ì—…</code>ì— ë“¤ì–´ê°€ì•¼í•œë‹¤</strong>
</li>
    </ul>
  </li>
</ol>

<h5 id="1-3--ì˜›ë‚ ì—-ë”°ë‘”-brì—ì„œ-ì‘ì—…ì‹œì‘í• -ë•-ìµœì‹ -masterë¥¼-rebaseí›„ì—-ì‘ì—…ì‹œì‘í•˜ê¸°">
<a class="anchor" href="#1-3--%EC%98%9B%EB%82%A0%EC%97%90-%EB%94%B0%EB%91%94-br%EC%97%90%EC%84%9C-%EC%9E%91%EC%97%85%EC%8B%9C%EC%9E%91%ED%95%A0-%EB%95%90-%EC%B5%9C%EC%8B%A0-master%EB%A5%BC-rebase%ED%9B%84%EC%97%90-%EC%9E%91%EC%97%85%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-3]  ì˜›ë‚ ì— ë”°ë‘” brì—ì„œ ì‘ì—…ì‹œì‘í•  ë•, ìµœì‹  masterë¥¼ rebaseí›„ì— ì‘ì—…ì‹œì‘í•˜ê¸°</h5>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">git checkout master</code>ë¥¼ í†µí•´ <strong>ì•ˆê°€ì ¸ì™€ì„œ ì•ˆë³´ì´ë˜ master</strong>ë¥¼ ë§Œë“ ë‹¤</p>

    <ul>
      <li>
<strong>-bì˜ ìƒˆë¡œë§Œë“  ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ</strong> remoteì™€ ì—°ê²°ëœ masterê°€ ëœë‹¤.</li>
      <li>
<code class="language-plaintext highlighter-rouge">git branch</code>ë¡œ í™•ì¸</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout master
   
git branch
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">git pull</code>ë¡œ masterì— ìµœì‹  ì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git pull
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>rebaseë°›ì„ ì—…ëƒì•ˆëœ ì‘ì—…brë¡œ ë„˜ì–´ê°„ ë’¤, <code class="language-plaintext highlighter-rouge">matserì˜ ë‚´ìš©ì„ rebaseë¡œ ë°›ì•„ì˜¨ë‹¤</code></strong></p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout [ì‘ì—…br]
   
git rebase master
   
git log --oneline
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="2-í•´ë‹¹br-ì‘ì—…í…ŒìŠ¤íŠ¸-ì™„ë£Œí›„--mergeê¹Œì§€-ì •ë¦¬">
<a class="anchor" href="#2-%ED%95%B4%EB%8B%B9br-%EC%9E%91%EC%97%85%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%99%84%EB%A3%8C%ED%9B%84--merge%EA%B9%8C%EC%A7%80-%EC%A0%95%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>[2] í•´ë‹¹br ì‘ì—…(í…ŒìŠ¤íŠ¸) ì™„ë£Œí›„ ~ mergeê¹Œì§€ ì •ë¦¬</h5>

<ol>
  <li>
    <p>status í™•ì¸í›„ add . í›„  -amìœ¼ë¡œ ì»¤ë°‹-&gt;ì‹¤íŒ¨-&gt;-amì»¤ë°‹</p>

    <ul>
      <li><strong>addë¥¼ ë¨¼ì € ë‚ ë ¤ì•¼ addëœìƒíƒœë¡œ pytestí•˜ëŠ” ê²ƒ ê°™ë‹¤?!</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git status
   
git add .
   
git commit -am "feat: implementing data interfaces"
   
git commit -am "feat: implementing data interfaces"
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>git pushëŠ” í˜„ì¬ ë¡œê·¸ì¸ëœ vscodeì—ì„œ í•˜ê³  ìˆìŒ.</strong></p>
  </li>
  <li>
    <p><strong>githubì— ë“¤ì–´ê°€ë³´ë©´, <code class="language-plaintext highlighter-rouge">Compare &amp; pull request</code>ê°€ ë– ìˆë”ë¼ë„ <code class="language-plaintext highlighter-rouge">PRíƒ­ &gt; new PR</code>ë¡œ ë“¤ì–´ê°€ëŠ” ë²„ë¦‡ì„ ë“¤ì—¬ë³´ì.</strong></p>
  </li>
</ol>

<ul>
  <li>Comparing changeê¹Œì§€ ë“¤ì–´ê°€ì„œ ì½”ë“œë¥¼ í™•ì¸í•˜ê³  <code class="language-plaintext highlighter-rouge">Able to merge</code> ë° <code class="language-plaintext highlighter-rouge">ì„¸ë¶€ì½”ë“œ</code>ë¥¼ í™•ì¸í•˜ê³  <strong>ì§ì ‘ Create PRê¹Œì§€ ê°€ì</strong>
</li>
</ul>

<ol>
  <li><strong>mergeí›„ masterì— ë°˜ì˜ë˜ì—ˆëŠ”ì§€ê¹Œì§€ í™•ì¸í•˜ì</strong></li>
</ol>

<h4 id="vscode-ì„¤ì •">
<a class="anchor" href="#vscode-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>vscode ì„¤ì •</h4>

<ul>
  <li>ìºì‰¬íŒŒì¼ ì•ˆë³´ì´ê¸°</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"files.exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"**/__pycache__"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"**/.pytest_cache"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<ul>
  <li>
    <p>tabì‹œ spaceë¡œ ì…ë ¥ë˜ê¸°</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221001015405760.png" alt="image-20221001015405760"></p>
  </li>
  <li>
    <p>íƒìƒ‰ê¸° ì—´ê¸° ë‹¨ì¶•í‚¤ : <code class="language-plaintext highlighter-rouge">shift + alt + R</code></p>

    <ul>
      <li>íŒŒì¼: íŒŒì¼ íƒìƒ‰ê¸°ì— í‘œì‹œ</li>
    </ul>
  </li>
</ul>

<h4 id="testì •ë¦¬">
<a class="anchor" href="#test%EC%A0%95%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>testì •ë¦¬</h4>

<ol>
  <li>
    <p>repo_insert_X</p>

    <ol>
      <li>idì œì™¸ faker + insertë©”ì„œë“œ -&gt; new_dto</li>
      <li>new_dtoì† ë°°ì •id + engine db select -&gt; query_data -&gt; engine db delete</li>
      <li>assert new_dto.í•„ë“œ == query_dataí•„ë“œ ë¹„êµ</li>
    </ol>
  </li>
  <li>
    <p>repo_select_X</p>
    <ol>
      <li>idí¬í•¨ faker -&gt; entityëª¨ë¸ ê°ì²´</li>
      <li>idí¬í•¨ ì¬ë£Œë“¤ + engine db insert -&gt; dbë°ì´í„°ë§Œë“¤ì–´ë†“ê¸°</li>
      <li>id, fkì¬ë£Œë“¤ + selectë©”ì„œë“œ -&gt; List[entityëª¨ë¸ê°ì²´ë“¤]</li>
      <li>engine db delete</li>
    </ol>
  </li>
</ol>

<h4 id="status_code">
<a class="anchor" href="#status_code" aria-hidden="true"><span class="octicon octicon-link"></span></a>status_code</h4>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">422</code>: validate_entryì‹¤íŒ¨í•˜ëŠ” query ì† paramë“¤ -&gt; usecaseë©”ì„œë“œì˜ ê²°ê³¼ë¬¼ responseì˜ [â€œSuccessâ€]ê°€ False</p>

    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">í•„ìˆ˜param</code>(dictì† í•„ë“œ)ì´ ë¹ ì¡Œì„ ê²½ìš°(ì¡´ì¬ê²€ì¦) or í•„ìˆ˜paramì´ <code class="language-plaintext highlighter-rouge">validate_entryì‹¤íŒ¨</code>í•  ê²½ìš° -&gt; <code class="language-plaintext highlighter-rouge">response("Success"/"Data")ì˜ "Success"ê°€ False</code></strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if reponse["Success"] is False:
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">400</code>: queryì† paramë“¤ì´ í•„ìš”í•œ controllerì¸ë° http_requestì•ˆì— ì•„ì˜ˆ ì¡´ì¬ë„ ì•ˆí–ˆë‹¤ë©´, 400 Bad Requestì—ëŸ¬</p>

    <ul>
      <li><strong>http_requestì— í•„ìˆ˜paramì„ í¬í•¨í•œ .query or .bodyê°€ ì•„ì˜ˆ ë‚ ë¼ì˜¤ì§€ë„ ì•Šì•˜ì„ ê²½ìš°</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if http_request.query:
	# if query
# if not query
else:
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if http_request.body:
	# if body
# if not body
else:
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">409</code>:  íƒ€ê²Ÿ ìì›ì— ìƒíƒœì— ìš”ì²­ì´ conflictë¥¼ ìœ ë°œí•œ ê²½ìš°</p>

    <ul>
      <li><strong>register(insert) ìš”ì²­ì— ëŒ€í•´ unique key(name)ì´ ì¤‘ë³µë˜ì–´, ì¤‘ë³µì—ëŸ¬(IntegrityError)ë¥¼ ë°œìƒí•œ ê²½ìš°</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>POSTMANDì—ì„œ ìƒì„±ìš”ì²­ì„ ê°™ì€nameë¥¼ ê°€ì§„ bodyë¡œ 2ë²ˆ ìš”ì²­í–ˆì„ ë•Œ
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="powershell-í™˜ê²½ë³€ìˆ˜-ë“±ë¡í™•ì¸">
<a class="anchor" href="#powershell-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EB%93%B1%EB%A1%9D%ED%99%95%EC%9D%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>powershell í™˜ê²½ë³€ìˆ˜ ë“±ë¡/í™•ì¸</h4>

<ul>
  <li>pythonê°€ìƒí™˜ê²½ venvì—ì„œ activatedí•œ ìƒíƒœë¡œ ì ìš©
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">venv\Scripts\activate.ps1</code>ì— ì €ì¥ëœë‹¤.</li>
    </ul>
  </li>
</ul>

<ol>
  <li>
    <p>ë“±ë¡:</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_APP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
</span></code></pre></div>    </div>

    <ul>
      <li>íŒŒì¼ëª…ì€ â€œ â€œ í™•ì¥ìë¥¼ ëº€ ìŒë”°ì˜´í‘œë¡œ</li>
    </ul>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_RUN_PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8000</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>í™•ì¸</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w">
</span></code></pre></div>    </div>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nf">Format-Table</span><span class="w"> </span><span class="nt">-Wrap</span><span class="w">
</span></code></pre></div>    </div>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c">## 'LOGONSERVER' í™˜ê²½ë³€ìˆ˜ë¥¼ ì°¾ê³  ì‹¶ë‹¤ë©´,</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:LOGONSERVER</span><span class="w">
   
</span><span class="c">## 'on'ì´ í¬í•¨ëœ ë‹¨ì–´, ex) logONserver, ONedrive...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="o">*</span><span class="nx">on</span><span class="o">*</span><span class="w">
   
</span><span class="c">## 'on'ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´, ONedrive ...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:on</span><span class="o">*</span><span class="w">
   
</span><span class="c">## 'on'ìœ¼ë¡œ ëë‚˜ëŠ” ë‹¨ì–´, ex) processor_revisiON ...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="o">*</span><span class="nx">on</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ol>


  </div><a class="u-url" href="/python/flask/cleanarchitecture/2022/09/07/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_07_OneEntity_register_user_route_and_Uniquekey_%EC%A4%91%EB%B3%B5%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC.html" hidden></a>
</article>


<script src="https://utteranc.es/client.js"
        repo="is2js/blog_raw"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="blog.chojaeseong.com/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>í‰ë²”í•œ í•œì˜ì‚¬ ëŒë²”ì˜ ì—”ì§€ë‹ˆì–´ ë„ì „ê¸°</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a href="/feed.xml" target="_blank" title="rss">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://github.com/is2js/" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/yarotheslav" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.linkedin.com/in/yshmarov/" target="_blank" title="linkedin">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
