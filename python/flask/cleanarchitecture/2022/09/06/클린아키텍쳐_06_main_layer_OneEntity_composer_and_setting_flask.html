<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>í´ë¦°ì•„í‚¤í…ì³ 06 Main layerì™€ OneEntity Composer, Flask ì„¸íŒ… | ëŒë²”í…¤ë†‘</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="í´ë¦°ì•„í‚¤í…ì³ 06 Main layerì™€ OneEntity Composer, Flask ì„¸íŒ…" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="python clean architecture" />
<meta property="og:description" content="python clean architecture" />
<link rel="canonical" href="blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/06/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_06_main_layer_OneEntity_composer_and_setting_flask.html" />
<meta property="og:url" content="blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/06/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_06_main_layer_OneEntity_composer_and_setting_flask.html" />
<meta property="og:site_name" content="ëŒë²”í…¤ë†‘" />
<meta property="og:image" content="blog.chojaeseong.com/images/posts/python.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-06T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2022-09-06T00:00:00-05:00","url":"blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/06/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_06_main_layer_OneEntity_composer_and_setting_flask.html","@type":"BlogPosting","image":"blog.chojaeseong.com/images/posts/python.png","headline":"í´ë¦°ì•„í‚¤í…ì³ 06 Main layerì™€ OneEntity Composer, Flask ì„¸íŒ…","dateModified":"2022-09-06T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"blog.chojaeseong.com/python/flask/cleanarchitecture/2022/09/06/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_06_main_layer_OneEntity_composer_and_setting_flask.html"},"description":"python clean architecture","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- í°íŠ¸ì¶”ê°€ë¥¼ ìœ„í•œ linkíƒœê·¸ ì‚½ì… -->
  <!-- í°íŠ¸1:  ê¸°ë³¸ spoqa ì›¹í°íŠ¸ -->
  <!-- cssì—ì„œ * {} ë‹¤ ë’¤ì§‘ì–´ì”€. -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
  <!-- í°íŠ¸2:  ë¸”ë¡œê·¸ ì œëª©ë“¤ sunflower ì›¹í°íŠ¸ -->
  <!-- ì¥¬í”¼í„° ë“± í¬ìŠ¤íŠ¸ ë‚´ë¶€ ê¸€ì h1, h2 ì œëª©ì€ sunflowerì²´ ë„ì… -->
  <link href="//fonts.googleapis.com/css?family=Sunflower:300,500,700" rel="stylesheet"> 

  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="blog.chojaeseong.com/feed.xml" title="ëŒë²”í…¤ë†‘" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ëŒë²”í…¤ë†‘</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">í´ë¦°ì•„í‚¤í…ì³ 06 Main layerì™€ OneEntity Composer, Flask ì„¸íŒ…</h1><p class="page-description">python clean architecture</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-09-06T00:00:00-05:00" itemprop="datePublished">
        Sep 6, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      7 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#python">python</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#flask">flask</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#cleanarchitecture">cleanarchitecture</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!-- tocê°€ ë¨¼ì € ë‚˜ì˜¤ë¯€ë¡œ h3ë¡œ ì•ˆë‚´í•˜ê¸° -->
    <h3>ğŸ“œ ì œëª©ìœ¼ë¡œ ë³´ê¸°</h3>
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#í´ë¦°-ì•„í‚¤í…ì³-6ì¥">í´ë¦° ì•„í‚¤í…ì³ 6ì¥</a>
<ul>
<li class="toc-entry toc-h2"><a href="#1-main-layer">1 Main layer</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-src-main-í´ë”-ë°-init-ìƒì„±">01 src&gt; main í´ë” ë° init ìƒì„±</a></li>
<li class="toc-entry toc-h3"><a href="#02-srcmain-composer--adapterconfigsroutesinterface-í´ë”-ë°-initìƒì„±">02 src&gt;main&gt; composer + adapter/configs/routes/interface í´ë” ë° initìƒì„±</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#2-interface-controllerì˜-interfaceë¡œì„œ-routeinterface-ì •ì˜í•˜ê¸°">2 interface&gt; Controllerì˜ Interfaceë¡œì„œ RouteInterface ì •ì˜í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-maininterfaceroutepy--init-ìƒì„±í•˜ê³ -routeinterfaceì •ì˜í•˜ê¸°">01 main&gt;interface&gt;route.py + init ìƒì„±í•˜ê³  RouteInterfaceì •ì˜í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h4"><a href="#routeëŠ”-controllerì¸í„°í˜ì´ìŠ¤ë¡œì„œ-httprequest-input---httpresponse-outputì˜-route-methodë¡œ-ì •ì˜í•œë‹¤">RouteëŠ” controllerì¸í„°í˜ì´ìŠ¤ë¡œì„œ, HttpRequest Input -&gt; HttpResponse Outputì˜ route methodë¡œ ì •ì˜í•œë‹¤.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#02-ëª¨ë“ -controllerëŠ”-routeinterfaceë¥¼-ìƒì†í•˜ê³ -controllerì˜-ë©”ì„œë“œëª…-handle---routeë¡œ-ë³€ê²½í•´ì¤€ë‹¤">02 ëª¨ë“  ControllerëŠ” RouteInterfaceë¥¼ ìƒì†í•˜ê³ , controllerì˜ ë©”ì„œë“œëª… handle -&gt; routeë¡œ ë³€ê²½í•´ì¤€ë‹¤.</a></li>
<li class="toc-entry toc-h3"><a href="#03-ì½”ë“œ-ìˆ˜ì •í›„-í™•ì¸ì€-pytest--vs-ì „ì—­ìœ¼ë¡œ-í•´ì„œ-ê²€ì‚¬í•œë‹¤">03 ì½”ë“œ ìˆ˜ì •í›„ í™•ì¸ì€ pytest -vs ì „ì—­ìœ¼ë¡œ í•´ì„œ ê²€ì‚¬í•œë‹¤</a></li>
<li class="toc-entry toc-h3"><a href="#04-commit---interfaceì¶”ê°€ëŠ”-featë³´ë‹¤ëŠ”-improveë¡œ">04 commit -&gt; interfaceì¶”ê°€ëŠ” feat:ë³´ë‹¤ëŠ” improve:ë¡œ??</a></li>
<li class="toc-entry toc-h3"><a href="#05-ìƒëµëœ-controller-ë°-spy-ì¶”ê°€">05 ìƒëµëœ controller ë° Spy ì¶”ê°€</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#3-composer-use_caseë³„-controllerê°ì²´routeê°ì²´ë¥¼-ë°˜í™˜í•´ì£¼ëŠ”-composerë©”ì„œë“œ-êµ¬í˜„">3 composer&gt; use_caseë³„ Controllerê°ì²´(routeê°ì²´)ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” composer()ë©”ì„œë“œ êµ¬í˜„</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-oneentityì˜-register-usecase-composer-methodë¶€í„°-êµ¬í˜„">01 OneEntityì˜ register Usecase composer methodë¶€í„° êµ¬í˜„</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ì¸í„°í˜ì´ìŠ¤ì¸-routeinterface-typeìœ¼ë¡œì„œ-usecasecontrollerê°ì²´ë¥¼-ë°˜í™˜í•´ì£¼ëŠ”-use_case_composer-method-êµ¬í˜„">ì¸í„°í˜ì´ìŠ¤ì¸ RouteInterface Typeìœ¼ë¡œì„œ UseCaseControllerê°ì²´ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” use_case_composer() method êµ¬í˜„</a></li>
<li class="toc-entry toc-h4"><a href="#ìƒì„±ëœ-usecase_controllerrouteê°ì²´-ë°˜í™˜í•˜ëŠ”-composerë©”ì„œë“œë¥¼-initì—-ì˜¬ë¦¬ê¸°">ìƒì„±ëœ usecase_controller(route)ê°ì²´ ë°˜í™˜í•˜ëŠ” composerë©”ì„œë“œë¥¼ initì— ì˜¬ë¦¬ê¸°</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#4-routes-êµ¬í˜„-ì „ì—-framework-ì„¤ì¹˜í›„-appê°ì²´-ìƒì„±">4 routes êµ¬í˜„ ì „ì— Framework ì„¤ì¹˜í›„ appê°ì²´ ìƒì„±</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-frame-workflask112ë¶€í„°-ì„¤ì¹˜-20ì•„ì§-ì•ˆë„˜ì–´ê°€ê¸°">01 frame work(Flask=1.1.2)ë¶€í„° ì„¤ì¹˜ (2.0ì•„ì§ ì•ˆë„˜ì–´ê°€ê¸°)</a></li>
<li class="toc-entry toc-h3"><a href="#02-frameworkë§ˆë‹¤-extentionìœ¼ë¡œ--cors-ì„¤ì¹˜">02 frameworkë§ˆë‹¤ extentionìœ¼ë¡œ -Cors ì„¤ì¹˜</a></li>
<li class="toc-entry toc-h3"><a href="#02-mainconfigsì—-apppy-ìƒì„±-í›„-appê°ì²´-ìƒì„±í›„-cors-extìœ¼ë¡œ-ì´ˆê¸°í™”">02 main&gt;configsì— app.py ìƒì„± í›„ appê°ì²´ ìƒì„±í›„ CORS extìœ¼ë¡œ ì´ˆê¸°í™”</a></li>
<li class="toc-entry toc-h3"><a href="#03-appê°ì²´ë³€ìˆ˜ë¥¼-configsì˜-initì—-ì˜¬ë¦¬ê¸°">03 appê°ì²´(ë³€ìˆ˜)ë¥¼ configsì˜ initì— ì˜¬ë¦¬ê¸°</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#5-routes--api_routepyì—ì„œ-routeë“±ë¡ê°ì²´-ìƒì„±">5 routes &gt; api_route.pyì—ì„œ routeë“±ë¡ê°ì²´ ìƒì„±</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-í”„ë ˆì„ì›Œí¬flaskì˜-routeë“±ë¡ê°ì²´-ëª¨ë“ˆblueprint--ìš°ë¦¬ì˜-routeê°ì²´-ë°˜í™˜ë©”ì„œë“œcomposer-ë¥¼-importí•œë‹¤">01 í”„ë ˆì„ì›Œí¬(flask)ì˜ routeë“±ë¡ê°ì²´ ëª¨ë“ˆ(Blueprint) + ìš°ë¦¬ì˜ routeê°ì²´ ë°˜í™˜ë©”ì„œë“œ(composer) ë¥¼ importí•œë‹¤</a>
<ul>
<li class="toc-entry toc-h4"><a href="#í”„ë ˆì„ì›¤ì˜-routeë“±ë¡ê°ì²´blueprintë¥¼-ìƒì„±í•œë‹¤-nameì€-api_routesë¡œ-ì¤€ë‹¤-prefixì•„ë‹˜">í”„ë ˆì„ì›¤ì˜ routeë“±ë¡ê°ì²´(Blueprint)ë¥¼ ìƒì„±í•œë‹¤. nameì€ â€œapi_routesâ€ë¡œ ì¤€ë‹¤. (prefixì•„ë‹˜)</a></li>
<li class="toc-entry toc-h4"><a href="#í”„ë ˆì„ì›¤ì˜-dict-json-ì—­ì§ë ¬í™”-ëª¨ë“ˆjsonifyë¥¼-importí•˜ê³ -ì˜ˆì œrouteë¥¼-routeë“±ë¡ê°ì²´ë¥¼-í†µí•´-ìƒì„±í•œë‹¤">í”„ë ˆì„ì›¤ì˜ dict-&gt;json ì—­ì§ë ¬í™” ëª¨ë“ˆ(jsonify)ë¥¼ importí•˜ê³  ì˜ˆì œrouteë¥¼ routeë“±ë¡ê°ì²´ë¥¼ í†µí•´ ìƒì„±í•œë‹¤</a></li>
<li class="toc-entry toc-h4"><a href="#ì˜ˆì œ-routeê°€-ì‘ì„±ëœ-routeë“±ë¡-ê°ì²´ë¥¼-initì—-ë“±ë¡í•œë‹¤">ì˜ˆì œ routeê°€ ì‘ì„±ëœ routeë“±ë¡ ê°ì²´ë¥¼ initì— ë“±ë¡í•œë‹¤</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#02-ì˜¬ë ¤ë†“ì€-routeë“±ë¡ê°ì²´ë¥¼-mainconfigsapppyì—-ìˆëŠ”-appê°ì²´ì—-ë“±ë¡í•œë‹¤-ëª¨ë“ -ê²ƒì€-appì—-ë“±ë¡">02 ì˜¬ë ¤ë†“ì€ routeë“±ë¡ê°ì²´ë¥¼ main&gt;configs&gt;app.pyì— ìˆëŠ” appê°ì²´ì— ë“±ë¡í•œë‹¤. (ëª¨ë“  ê²ƒì€ appì— ë“±ë¡)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#6-rootì—-runpy-ì •ì˜-í›„-ëª¨ë“ -ê²ƒì´-ì´ˆê¸°í™”ëœ-appê°ì²´ë¥¼-main-or-í™˜ê²½ë³€ìˆ˜flask-runìœ¼ë¡œ-ì‹¤í–‰">6 rootì— run.py ì •ì˜ í›„ ëª¨ë“  ê²ƒì´ ì´ˆê¸°í™”ëœ appê°ì²´ë¥¼ main or [í™˜ê²½ë³€ìˆ˜+flask run]ìœ¼ë¡œ ì‹¤í–‰</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-rootì—-runpy-ìƒì„±-í›„-appê°ì²´-importí•˜ì—¬-apprun">01 rootì— run.py ìƒì„± í›„ appê°ì²´ importí•˜ì—¬ app.run</a></li>
<li class="toc-entry toc-h3"><a href="#02-terminalì—ì„œ-runpyë¡œ-apprunì‹œí‚¤ê¸°">02 terminalì—ì„œ run.pyë¡œ app.runì‹œí‚¤ê¸°</a>
<ul>
<li class="toc-entry toc-h4"><a href="#flask-112-ë²„ì „ë¬¸ì œ---jin">flask 1.1.2 ë²„ì „ë¬¸ì œ -&gt; jin</a></li>
<li class="toc-entry toc-h4"><a href="#flask-appê°ì²´ë¥¼-srcmainconfigsappì—-ìˆëŠ”-ê²ƒì„-lazy-loadingí•œë‹¤ê³ -ëœ¬ë‹¤">Flask appê°ì²´ë¥¼ src.main.configs.appì— ìˆëŠ” ê²ƒì„ lazy loadingí•œë‹¤ê³  ëœ¬ë‹¤.</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#03-í™˜ê²½ë³€ìˆ˜ì—-flask_app-ì—-appê°ì²´-importí•œ-pythoníŒŒì¼ëª…ì„-ëª…ì‹œí•˜ë©´-lazy-loadingì„-ì œê±°í•œë‹¤">03 í™˜ê²½ë³€ìˆ˜ì— FLASK_APP= ì— [appê°ì²´ importí•œ pythoníŒŒì¼ëª…]ì„ ëª…ì‹œí•˜ë©´ lazy loadingì„ ì œê±°í•œë‹¤.</a>
<ul>
<li class="toc-entry toc-h4"><a href="#python-runpy-ëŒ€ì‹ -í™˜ê²½ë³€ìˆ˜-flask_appappê°ì²´ê°€-importë˜ì–´ìˆëŠ”-pythoníŒŒì¼ì„-ëª…ì‹œí•˜ë©´-mainìœ¼ë¡œ-ì¸í•œ-ì‹¤í–‰--lazyloadingì—†ì´-app-discoveryì—-ì˜í•´-ë¹ ë¥´ê²Œ-ë¡œë”©ëœë‹¤">python run.py ëŒ€ì‹  í™˜ê²½ë³€ìˆ˜ FLASK_APP=[appê°ì²´ê°€ importë˜ì–´ìˆëŠ” pythoníŒŒì¼]ì„ ëª…ì‹œí•˜ë©´, mainìœ¼ë¡œ ì¸í•œ ì‹¤í–‰ &amp;&amp; lazyloadingì—†ì´ app discoveryì— ì˜í•´ ë¹ ë¥´ê²Œ ë¡œë”©ëœë‹¤.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#7-local-run-apië¥¼-postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸">7 local run apië¥¼ POSTMANìœ¼ë¡œ í…ŒìŠ¤íŠ¸</a>
<ul>
<li class="toc-entry toc-h3"><a href="#01-ì‹¤í–‰ì¤‘ì¸-urlì„-ë¶™ì—¬ë„£ê³ -api-uriëŠ”-srcmainroutesapi_routepyì˜-routeë“±ë¡ê°ì²´ë¥¼-ë³´ê³ -í™•ì¸í•´ì„œ-ì ‘ì†í•œë‹¤">01 ì‹¤í–‰ì¤‘ì¸ urlì„ ë¶™ì—¬ë„£ê³ , api uriëŠ” src&gt;main&gt;routes&gt;api_route.pyì˜ routeë“±ë¡ê°ì²´ë¥¼ ë³´ê³  í™•ì¸í•´ì„œ ì ‘ì†í•œë‹¤</a></li>
<li class="toc-entry toc-h3"><a href="#02-ì—¬ê¸°ê¹Œì§€ë¥¼-first-composer-1ê°œ--flask-settingìœ¼ë¡œ-commití•œë‹¤">02 ì—¬ê¸°ê¹Œì§€ë¥¼ first composer 1ê°œ + flask settingìœ¼ë¡œ commití•œë‹¤</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#ì°¸ê³ ">ì°¸ê³ </a>
<ul>
<li class="toc-entry toc-h4"><a href="#gitignore">gitignore</a></li>
<li class="toc-entry toc-h4"><a href="#sqlalchemyíŒ¨í‚¤ì§€">sqlalchemyíŒ¨í‚¤ì§€</a></li>
<li class="toc-entry toc-h4"><a href="#githubì—ì„œ-brë”°ì„œ-ì‘ì—…í•˜ê¸°">githubì—ì„œ brë”°ì„œ ì‘ì—…í•˜ê¸°</a>
<ul>
<li class="toc-entry toc-h5"><a href="#1-1-githubì—ì„œ-brìƒì„±--clone">[1-1] githubì—ì„œ brìƒì„± ~ clone</a></li>
<li class="toc-entry toc-h5"><a href="#cloneí›„-ì´ˆê¸°-ì‘ì—…-ì„¸íŒ…">cloneí›„ ì´ˆê¸° ì‘ì—… ì„¸íŒ…</a></li>
<li class="toc-entry toc-h5"><a href="#1-2-ì‘ì—…ëë‚œ-brì˜-í´ë”ì—ì„œ-ìƒˆ-ì‘ì—…-brìƒì„±--ë¶„ê¸°ê²Œì‹œ-ì´ˆê¸°ì„¸íŒ…-ë˜-ì•ˆí•´ë„-ë˜ëŠ”-ì¥ì ">[1-2] ì‘ì—…ëë‚œ brì˜ í´ë”ì—ì„œ ìƒˆ ì‘ì—… brìƒì„± ~ ë¶„ê¸°ê²Œì‹œ (ì´ˆê¸°ì„¸íŒ… ë˜ ì•ˆí•´ë„ ë˜ëŠ” ì¥ì )</a></li>
<li class="toc-entry toc-h5"><a href="#1-3--ì˜›ë‚ ì—-ë”°ë‘”-brì—ì„œ-ì‘ì—…ì‹œì‘í• -ë•-ìµœì‹ -masterë¥¼-rebaseí›„ì—-ì‘ì—…ì‹œì‘í•˜ê¸°">[1-3]  ì˜›ë‚ ì— ë”°ë‘” brì—ì„œ ì‘ì—…ì‹œì‘í•  ë•, ìµœì‹  masterë¥¼ rebaseí›„ì— ì‘ì—…ì‹œì‘í•˜ê¸°</a></li>
<li class="toc-entry toc-h5"><a href="#2-í•´ë‹¹br-ì‘ì—…í…ŒìŠ¤íŠ¸-ì™„ë£Œí›„--mergeê¹Œì§€-ì •ë¦¬">[2] í•´ë‹¹br ì‘ì—…(í…ŒìŠ¤íŠ¸) ì™„ë£Œí›„ ~ mergeê¹Œì§€ ì •ë¦¬</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#vscode-ì„¤ì •">vscode ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#testì •ë¦¬">testì •ë¦¬</a></li>
<li class="toc-entry toc-h4"><a href="#status_code">status_code</a></li>
<li class="toc-entry toc-h4"><a href="#powershell-í™˜ê²½ë³€ìˆ˜-ë“±ë¡í™•ì¸">powershell í™˜ê²½ë³€ìˆ˜ ë“±ë¡/í™•ì¸</a></li>
</ul>
</li>
</ul>
</li>
</ul><h1 id="í´ë¦°-ì•„í‚¤í…ì³-6ì¥">
<a class="anchor" href="#%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-6%EC%9E%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>í´ë¦° ì•„í‚¤í…ì³ 6ì¥</h1>

<h2 id="1-main-layer">
<a class="anchor" href="#1-main-layer" aria-hidden="true"><span class="octicon octicon-link"></span></a>1 Main layer</h2>

<h3 id="01-src-main-í´ë”-ë°-init-ìƒì„±">
<a class="anchor" href="#01-src-main-%ED%8F%B4%EB%8D%94-%EB%B0%8F-init-%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 src&gt; main í´ë” ë° init ìƒì„±</h3>

<h3 id="02-srcmain-composer--adapterconfigsroutesinterface-í´ë”-ë°-initìƒì„±">
<a class="anchor" href="#02-srcmain-composer--adapterconfigsroutesinterface-%ED%8F%B4%EB%8D%94-%EB%B0%8F-init%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 src&gt;main&gt; composer + adapter/configs/routes/interface í´ë” ë° initìƒì„±</h3>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006170716962.png" alt="image-20221006170716962"></p>

<h2 id="2-interface-controllerì˜-interfaceë¡œì„œ-routeinterface-ì •ì˜í•˜ê¸°">
<a class="anchor" href="#2-interface-controller%EC%9D%98-interface%EB%A1%9C%EC%84%9C-routeinterface-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>2 interface&gt; Controllerì˜ Interfaceë¡œì„œ RouteInterface ì •ì˜í•˜ê¸°</h2>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006170900078.png" alt="image-20221006170900078"></p>

<h3 id="01-maininterfaceroutepy--init-ìƒì„±í•˜ê³ -routeinterfaceì •ì˜í•˜ê¸°">
<a class="anchor" href="#01-maininterfaceroutepy--init-%EC%83%9D%EC%84%B1%ED%95%98%EA%B3%A0-routeinterface%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 main&gt;interface&gt;route.py + init ìƒì„±í•˜ê³  RouteInterfaceì •ì˜í•˜ê¸°</h3>

<h4 id="routeëŠ”-controllerì¸í„°í˜ì´ìŠ¤ë¡œì„œ-httprequest-input---httpresponse-outputì˜-route-methodë¡œ-ì •ì˜í•œë‹¤">
<a class="anchor" href="#route%EB%8A%94-controller%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A1%9C%EC%84%9C-httprequest-input---httpresponse-output%EC%9D%98-route-method%EB%A1%9C-%EC%A0%95%EC%9D%98%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>RouteëŠ” controllerì¸í„°í˜ì´ìŠ¤ë¡œì„œ, HttpRequest Input -&gt; HttpResponse Outputì˜ route methodë¡œ ì •ì˜í•œë‹¤.</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
<span class="kn">from</span> <span class="nn">src.presenters.helpers</span> <span class="kn">import</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="n">HttpResponse</span>


<span class="k">class</span> <span class="nc">RouteInterface</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="s">""" Interface to Routes """</span>

    <span class="o">@</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_request</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">HttpRequest</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="s">""" Defining Route """</span>

        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">"Should implement method: route"</span><span class="p">)</span>

</code></pre></div></div>

<ul>
  <li>initì— ì˜¬ë¦¬ê¸°</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.route</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
</code></pre></div></div>

<h3 id="02-ëª¨ë“ -controllerëŠ”-routeinterfaceë¥¼-ìƒì†í•˜ê³ -controllerì˜-ë©”ì„œë“œëª…-handle---routeë¡œ-ë³€ê²½í•´ì¤€ë‹¤">
<a class="anchor" href="#02-%EB%AA%A8%EB%93%A0-controller%EB%8A%94-routeinterface%EB%A5%BC-%EC%83%81%EC%86%8D%ED%95%98%EA%B3%A0-controller%EC%9D%98-%EB%A9%94%EC%84%9C%EB%93%9C%EB%AA%85-handle---route%EB%A1%9C-%EB%B3%80%EA%B2%BD%ED%95%B4%EC%A4%80%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 ëª¨ë“  ControllerëŠ” RouteInterfaceë¥¼ ìƒì†í•˜ê³ , controllerì˜ ë©”ì„œë“œëª… handle -&gt; routeë¡œ ë³€ê²½í•´ì¤€ë‹¤.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#...
</span><span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
<span class="c1">#...
</span>

<span class="k">class</span> <span class="nc">FindUserController</span><span class="p">(</span><span class="n">RouteInterface</span><span class="p">):</span>
    <span class="c1">#...
</span>    <span class="k">def</span> <span class="nf">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_request</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">HttpRequest</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
<span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
<span class="c1">#...
</span>
<span class="k">class</span> <span class="nc">RegisterPetController</span><span class="p">(</span><span class="n">RouteInterface</span><span class="p">):</span>
    <span class="c1">#...
</span>    <span class="k">def</span> <span class="nf">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_request</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">HttpRequest</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
</code></pre></div></div>

<h3 id="03-ì½”ë“œ-ìˆ˜ì •í›„-í™•ì¸ì€-pytest--vs-ì „ì—­ìœ¼ë¡œ-í•´ì„œ-ê²€ì‚¬í•œë‹¤">
<a class="anchor" href="#03-%EC%BD%94%EB%93%9C-%EC%88%98%EC%A0%95%ED%9B%84-%ED%99%95%EC%9D%B8%EC%9D%80-pytest--vs-%EC%A0%84%EC%97%AD%EC%9C%BC%EB%A1%9C-%ED%95%B4%EC%84%9C-%EA%B2%80%EC%82%AC%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 ì½”ë“œ ìˆ˜ì •í›„ í™•ì¸ì€ pytest -vs ì „ì—­ìœ¼ë¡œ í•´ì„œ ê²€ì‚¬í•œë‹¤</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest -vs
</code></pre></div></div>

<h3 id="04-commit---interfaceì¶”ê°€ëŠ”-featë³´ë‹¤ëŠ”-improveë¡œ">
<a class="anchor" href="#04-commit---interface%EC%B6%94%EA%B0%80%EB%8A%94-feat%EB%B3%B4%EB%8B%A4%EB%8A%94-improve%EB%A1%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>04 commit -&gt; interfaceì¶”ê°€ëŠ” feat:ë³´ë‹¤ëŠ” improve:ë¡œ??</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
git add.
git commit -am "improve: Adding interfaces to controllers"
</code></pre></div></div>

<h3 id="05-ìƒëµëœ-controller-ë°-spy-ì¶”ê°€">
<a class="anchor" href="#05-%EC%83%9D%EB%9E%B5%EB%90%9C-controller-%EB%B0%8F-spy-%EC%B6%94%EA%B0%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>05 ìƒëµëœ controller ë° Spy ì¶”ê°€</h3>

<ul>
  <li>
<a href="https://github.com/programadorLhama/Backend-Python/tree/master/src/presenters/controllers">ì°¸ê³  github</a>
    <ul>
      <li>register_user_controller.py ë° test</li>
      <li>find_pet_controller.py ë° test
        <ul>
          <li>src&gt;presenters&gt;controllersì— ì¶”ê°€ ë° <strong>init import</strong>
</li>
        </ul>
      </li>
      <li>find_pet_spy.py</li>
      <li>register_user_spy.py
        <ul>
          <li>src&gt;data&gt;testì— ì¶”ê°€ ë° <strong>init import</strong>
</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ì „ì—­ <code class="language-plaintext highlighter-rouge">pytest -vs</code>í•˜ë©´ì„œ ìˆ˜ì •
    <ul>
      <li>ì›ë³¸ mock_users() -&gt; ë‚˜ëŠ” petì²˜ëŸ¼ mock_user()ë¡œ ì“°ê³  ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<h2 id="3-composer-use_caseë³„-controllerê°ì²´routeê°ì²´ë¥¼-ë°˜í™˜í•´ì£¼ëŠ”-composerë©”ì„œë“œ-êµ¬í˜„">
<a class="anchor" href="#3-composer-use_case%EB%B3%84-controller%EA%B0%9D%EC%B2%B4route%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EB%B0%98%ED%99%98%ED%95%B4%EC%A3%BC%EB%8A%94-composer%EB%A9%94%EC%84%9C%EB%93%9C-%EA%B5%AC%ED%98%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>3 composer&gt; use_caseë³„ Controllerê°ì²´(routeê°ì²´)ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” composer()ë©”ì„œë“œ êµ¬í˜„</h2>

<h3 id="01-oneentityì˜-register-usecase-composer-methodë¶€í„°-êµ¬í˜„">
<a class="anchor" href="#01-oneentity%EC%9D%98-register-usecase-composer-method%EB%B6%80%ED%84%B0-%EA%B5%AC%ED%98%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 OneEntityì˜ register Usecase composer methodë¶€í„° êµ¬í˜„</h3>

<h4 id="ì¸í„°í˜ì´ìŠ¤ì¸-routeinterface-typeìœ¼ë¡œì„œ-usecasecontrollerê°ì²´ë¥¼-ë°˜í™˜í•´ì£¼ëŠ”-use_case_composer-method-êµ¬í˜„">
<a class="anchor" href="#%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EC%9D%B8-routeinterface-type%EC%9C%BC%EB%A1%9C%EC%84%9C-usecasecontroller%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EB%B0%98%ED%99%98%ED%95%B4%EC%A3%BC%EB%8A%94-use_case_composer-method-%EA%B5%AC%ED%98%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì¸í„°í˜ì´ìŠ¤ì¸ RouteInterface Typeìœ¼ë¡œì„œ UseCaseControllerê°ì²´ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” use_case_composer() method êµ¬í˜„</h4>

<ol>
  <li>
    <p>scr&gt;main&gt;composer &gt; <code class="language-plaintext highlighter-rouge">register_user_composite.py</code> ìƒì„±</p>
  </li>
  <li>
    <p>**controllerê°ì²´ ë°˜í™˜ Typeì„ ìœ„í•œ interfaceì¸ RouteInterface importí›„ <code class="language-plaintext highlighter-rouge">_composer()ë©”ì„œë“œ</code> êµ¬í˜„ **</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
   
<span class="k">def</span> <span class="nf">register_user_composer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RouteInterface</span><span class="p">:</span>
    <span class="s">""" Composing Register User Route
    :param - None
    :return - Object with Register User Route
    """</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>repo -&gt; usecase -&gt; controller ê°ì²´ ìˆœì„œëŒ€ë¡œ ìƒì„±í›„, <strong>controllerê°ì²´ == routeê°ì²´ ë°˜í™˜</strong></p>

    <ul>
      <li>usecaseê°ì²´ëŠ” ë³€ìˆ˜ë¥¼ <strong>ì¤‘ê°„ë³€ìˆ˜ë¡œì„œ ì¼ë°˜ëª…ì‚¬</strong>ì¸  <code class="language-plaintext highlighter-rouge">use_case</code>ë¡œ ë°›ì</li>
      <li>controllerê°ì²´ëŠ” <strong><code class="language-plaintext highlighter-rouge">ê°œë³„use_case_route</code>ë¡œ ë°›ì</strong>
</li>
    </ul>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">src.main.interface</span> <span class="kn">import</span> <span class="n">RouteInterface</span>
<span class="kn">from</span> <span class="nn">src.data.register_user</span> <span class="kn">import</span> <span class="n">RegisterUser</span>
<span class="kn">from</span> <span class="nn">src.infra.repo.user_repository</span> <span class="kn">import</span> <span class="n">UserRepository</span>
<span class="kn">from</span> <span class="nn">src.presenters.controllers</span> <span class="kn">import</span> <span class="n">RegisterUserController</span>
   
   
<span class="k">def</span> <span class="nf">register_user_composer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RouteInterface</span><span class="p">:</span>
    <span class="s">""" Composing Register User Route
    :param - None
    :return - Object with Register User Route
    """</span>
   
    <span class="n">user_repository</span> <span class="o">=</span> <span class="n">UserRepository</span><span class="p">()</span>
    <span class="n">use_case</span> <span class="o">=</span> <span class="n">RegisterUser</span><span class="p">(</span><span class="n">user_repository</span><span class="p">)</span>
    <span class="n">register_user_route</span> <span class="o">=</span> <span class="n">RegisterUserController</span><span class="p">(</span><span class="n">use_case</span><span class="p">)</span>
   
    <span class="k">return</span> <span class="n">register_user_route</span>
   
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="ìƒì„±ëœ-usecase_controllerrouteê°ì²´-ë°˜í™˜í•˜ëŠ”-composerë©”ì„œë“œë¥¼-initì—-ì˜¬ë¦¬ê¸°">
<a class="anchor" href="#%EC%83%9D%EC%84%B1%EB%90%9C-usecase_controllerroute%EA%B0%9D%EC%B2%B4-%EB%B0%98%ED%99%98%ED%95%98%EB%8A%94-composer%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-init%EC%97%90-%EC%98%AC%EB%A6%AC%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>ìƒì„±ëœ usecase_controller(route)ê°ì²´ ë°˜í™˜í•˜ëŠ” composerë©”ì„œë“œë¥¼ initì— ì˜¬ë¦¬ê¸°</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.register_user_composite</span> <span class="kn">import</span> <span class="n">register_user_composer</span>
</code></pre></div></div>

<h2 id="4-routes-êµ¬í˜„-ì „ì—-framework-ì„¤ì¹˜í›„-appê°ì²´-ìƒì„±">
<a class="anchor" href="#4-routes-%EA%B5%AC%ED%98%84-%EC%A0%84%EC%97%90-framework-%EC%84%A4%EC%B9%98%ED%9B%84-app%EA%B0%9D%EC%B2%B4-%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>4 routes êµ¬í˜„ ì „ì— Framework ì„¤ì¹˜í›„ appê°ì²´ ìƒì„±</h2>

<h3 id="01-frame-workflask112ë¶€í„°-ì„¤ì¹˜-20ì•„ì§-ì•ˆë„˜ì–´ê°€ê¸°">
<a class="anchor" href="#01-frame-workflask112%EB%B6%80%ED%84%B0-%EC%84%A4%EC%B9%98-20%EC%95%84%EC%A7%81-%EC%95%88%EB%84%98%EC%96%B4%EA%B0%80%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 frame work(Flask=1.1.2)ë¶€í„° ì„¤ì¹˜ (2.0ì•„ì§ ì•ˆë„˜ì–´ê°€ê¸°)</h3>

<ol>
  <li>
    <p>ê°€ìƒí™˜ê²½ í™œì„±í™” ìƒíƒœì—ì„œ</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pip3 install flask==1.1.2
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="02-frameworkë§ˆë‹¤-extentionìœ¼ë¡œ--cors-ì„¤ì¹˜">
<a class="anchor" href="#02-framework%EB%A7%88%EB%8B%A4-extention%EC%9C%BC%EB%A1%9C--cors-%EC%84%A4%EC%B9%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 frameworkë§ˆë‹¤ extentionìœ¼ë¡œ -Cors ì„¤ì¹˜</h3>

<ul>
  <li>
    <p>Cross Origin Resource Sharing (CORS)</p>
  </li>
  <li>
    <p>ìœ„ì™€ ê°™ì´ í•˜ë©´ ì „ì²´ url ì— ëŒ€í•´ì„œ CORS ê°€ ì ìš©ë˜ì–´ <strong>ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ í•´ë‹¹ url ì„ í˜¸ì¶œí•´ì„œ ì‚¬ìš©í•˜ëŠ”ë° ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤</strong>.</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pip3 install Flask-Cors
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="02-mainconfigsì—-apppy-ìƒì„±-í›„-appê°ì²´-ìƒì„±í›„-cors-extìœ¼ë¡œ-ì´ˆê¸°í™”">
<a class="anchor" href="#02-mainconfigs%EC%97%90-apppy-%EC%83%9D%EC%84%B1-%ED%9B%84-app%EA%B0%9D%EC%B2%B4-%EC%83%9D%EC%84%B1%ED%9B%84-cors-ext%EC%9C%BC%EB%A1%9C-%EC%B4%88%EA%B8%B0%ED%99%94" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 main&gt;configsì— app.py ìƒì„± í›„ appê°ì²´ ìƒì„±í›„ CORS extìœ¼ë¡œ ì´ˆê¸°í™”</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_cors</span> <span class="kn">import</span> <span class="n">CORS</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">CORS</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="03-appê°ì²´ë³€ìˆ˜ë¥¼-configsì˜-initì—-ì˜¬ë¦¬ê¸°">
<a class="anchor" href="#03-app%EA%B0%9D%EC%B2%B4%EB%B3%80%EC%88%98%EB%A5%BC-configs%EC%9D%98-init%EC%97%90-%EC%98%AC%EB%A6%AC%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 appê°ì²´(ë³€ìˆ˜)ë¥¼ configsì˜ initì— ì˜¬ë¦¬ê¸°</h3>

<ul>
  <li>my) class, methodë¿ë§Œ ì•„ë‹ˆë¼, <code class="language-plaintext highlighter-rouge">app</code>ì´ë¼ëŠ” <code class="language-plaintext highlighter-rouge">ë³€ìˆ˜(ê°ì²´)</code>ë„ importí•  ìˆ˜ ìˆêµ¬ë‚˜</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.app</span> <span class="kn">import</span> <span class="n">app</span>
</code></pre></div></div>

<h2 id="5-routes--api_routepyì—ì„œ-routeë“±ë¡ê°ì²´-ìƒì„±">
<a class="anchor" href="#5-routes--api_routepy%EC%97%90%EC%84%9C-route%EB%93%B1%EB%A1%9D%EA%B0%9D%EC%B2%B4-%EC%83%9D%EC%84%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>5 routes &gt; api_route.pyì—ì„œ routeë“±ë¡ê°ì²´ ìƒì„±</h2>

<h3 id="01-í”„ë ˆì„ì›Œí¬flaskì˜-routeë“±ë¡ê°ì²´-ëª¨ë“ˆblueprint--ìš°ë¦¬ì˜-routeê°ì²´-ë°˜í™˜ë©”ì„œë“œcomposer-ë¥¼-importí•œë‹¤">
<a class="anchor" href="#01-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%ACflask%EC%9D%98-route%EB%93%B1%EB%A1%9D%EA%B0%9D%EC%B2%B4-%EB%AA%A8%EB%93%88blueprint--%EC%9A%B0%EB%A6%AC%EC%9D%98-route%EA%B0%9D%EC%B2%B4-%EB%B0%98%ED%99%98%EB%A9%94%EC%84%9C%EB%93%9Ccomposer-%EB%A5%BC-import%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 í”„ë ˆì„ì›Œí¬(flask)ì˜ routeë“±ë¡ê°ì²´ ëª¨ë“ˆ(Blueprint) + ìš°ë¦¬ì˜ routeê°ì²´ ë°˜í™˜ë©”ì„œë“œ(composer) ë¥¼ importí•œë‹¤</h3>

<h4 id="í”„ë ˆì„ì›¤ì˜-routeë“±ë¡ê°ì²´blueprintë¥¼-ìƒì„±í•œë‹¤-nameì€-api_routesë¡œ-ì¤€ë‹¤-prefixì•„ë‹˜">
<a class="anchor" href="#%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%A4%EC%9D%98-route%EB%93%B1%EB%A1%9D%EA%B0%9D%EC%B2%B4blueprint%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%9C%EB%8B%A4-name%EC%9D%80-api_routes%EB%A1%9C-%EC%A4%80%EB%8B%A4-prefix%EC%95%84%EB%8B%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>í”„ë ˆì„ì›¤ì˜ routeë“±ë¡ê°ì²´(Blueprint)ë¥¼ ìƒì„±í•œë‹¤. nameì€ â€œapi_routesâ€ë¡œ ì¤€ë‹¤. (prefixì•„ë‹˜)</h4>

<ul>
  <li>fastapiëŠ” Blueprint ëŒ€ì‹  APIRouterë¥¼ ì“´ë‹¤.
    <ul>
      <li><a href="https://testdriven.io/blog/moving-from-flask-to-fastapi/">ì°¸ê³  ì‚¬ì´íŠ¸</a></li>
    </ul>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span>
<span class="kn">from</span> <span class="nn">src.main.composer</span> <span class="kn">import</span> <span class="n">register_user_composer</span>

<span class="n">api_routes_bp</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">"api_routes"</span><span class="p">,</span> <span class="n">__name__</span><span class="p">)</span>

</code></pre></div></div>

<h4 id="í”„ë ˆì„ì›¤ì˜-dict-json-ì—­ì§ë ¬í™”-ëª¨ë“ˆjsonifyë¥¼-importí•˜ê³ -ì˜ˆì œrouteë¥¼-routeë“±ë¡ê°ì²´ë¥¼-í†µí•´-ìƒì„±í•œë‹¤">
<a class="anchor" href="#%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%A4%EC%9D%98-dict-json-%EC%97%AD%EC%A7%81%EB%A0%AC%ED%99%94-%EB%AA%A8%EB%93%88jsonify%EB%A5%BC-import%ED%95%98%EA%B3%A0-%EC%98%88%EC%A0%9Croute%EB%A5%BC-route%EB%93%B1%EB%A1%9D%EA%B0%9D%EC%B2%B4%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%83%9D%EC%84%B1%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>í”„ë ˆì„ì›¤ì˜ dict-&gt;json ì—­ì§ë ¬í™” ëª¨ë“ˆ(jsonify)ë¥¼ importí•˜ê³  ì˜ˆì œrouteë¥¼ routeë“±ë¡ê°ì²´ë¥¼ í†µí•´ ìƒì„±í•œë‹¤</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span><span class="p">,</span> <span class="n">jsonify</span>
<span class="kn">from</span> <span class="nn">src.main.composer</span> <span class="kn">import</span> <span class="n">register_user_composer</span>

<span class="n">api_routes_bp</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">"api_routes"</span><span class="p">,</span> <span class="n">__name__</span><span class="p">)</span>


<span class="o">@</span><span class="n">api_routes_bp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/api"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"GET"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">something</span><span class="p">():</span>
    <span class="s">""" test """</span>
    
    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s">"Programmer"</span><span class="p">:</span> <span class="s">"Dolbum"</span><span class="p">})</span>
</code></pre></div></div>

<h4 id="ì˜ˆì œ-routeê°€-ì‘ì„±ëœ-routeë“±ë¡-ê°ì²´ë¥¼-initì—-ë“±ë¡í•œë‹¤">
<a class="anchor" href="#%EC%98%88%EC%A0%9C-route%EA%B0%80-%EC%9E%91%EC%84%B1%EB%90%9C-route%EB%93%B1%EB%A1%9D-%EA%B0%9D%EC%B2%B4%EB%A5%BC-init%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì˜ˆì œ routeê°€ ì‘ì„±ëœ routeë“±ë¡ ê°ì²´ë¥¼ initì— ë“±ë¡í•œë‹¤</h4>

<ul>
  <li>appê°ì²´, routeë“±ë¡ê°ì²´ ëª¨ë‘ <strong>ê°ì²´(ë³€ìˆ˜)ë‹¨ìœ„ë¡œ initì— ì˜¬ë¦°ë‹¤.</strong>
</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.api_route</span> <span class="kn">import</span> <span class="n">api_routes_bp</span>
</code></pre></div></div>

<h3 id="02-ì˜¬ë ¤ë†“ì€-routeë“±ë¡ê°ì²´ë¥¼-mainconfigsapppyì—-ìˆëŠ”-appê°ì²´ì—-ë“±ë¡í•œë‹¤-ëª¨ë“ -ê²ƒì€-appì—-ë“±ë¡">
<a class="anchor" href="#02-%EC%98%AC%EB%A0%A4%EB%86%93%EC%9D%80-route%EB%93%B1%EB%A1%9D%EA%B0%9D%EC%B2%B4%EB%A5%BC-mainconfigsapppy%EC%97%90-%EC%9E%88%EB%8A%94-app%EA%B0%9D%EC%B2%B4%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%9C%EB%8B%A4-%EB%AA%A8%EB%93%A0-%EA%B2%83%EC%9D%80-app%EC%97%90-%EB%93%B1%EB%A1%9D" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 ì˜¬ë ¤ë†“ì€ routeë“±ë¡ê°ì²´ë¥¼ main&gt;configs&gt;app.pyì— ìˆëŠ” appê°ì²´ì— ë“±ë¡í•œë‹¤. (ëª¨ë“  ê²ƒì€ appì— ë“±ë¡)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_cors</span> <span class="kn">import</span> <span class="n">CORS</span>
<span class="kn">from</span> <span class="nn">src.main.routes</span> <span class="kn">import</span> <span class="n">api_routes_bp</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">CORS</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="n">app</span><span class="p">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">api_routes_bp</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="6-rootì—-runpy-ì •ì˜-í›„-ëª¨ë“ -ê²ƒì´-ì´ˆê¸°í™”ëœ-appê°ì²´ë¥¼-main-or-í™˜ê²½ë³€ìˆ˜flask-runìœ¼ë¡œ-ì‹¤í–‰">
<a class="anchor" href="#6-root%EC%97%90-runpy-%EC%A0%95%EC%9D%98-%ED%9B%84-%EB%AA%A8%EB%93%A0-%EA%B2%83%EC%9D%B4-%EC%B4%88%EA%B8%B0%ED%99%94%EB%90%9C-app%EA%B0%9D%EC%B2%B4%EB%A5%BC-main-or-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98flask-run%EC%9C%BC%EB%A1%9C-%EC%8B%A4%ED%96%89" aria-hidden="true"><span class="octicon octicon-link"></span></a>6 rootì— run.py ì •ì˜ í›„ ëª¨ë“  ê²ƒì´ ì´ˆê¸°í™”ëœ appê°ì²´ë¥¼ main or [í™˜ê²½ë³€ìˆ˜+flask run]ìœ¼ë¡œ ì‹¤í–‰</h2>

<h3 id="01-rootì—-runpy-ìƒì„±-í›„-appê°ì²´-importí•˜ì—¬-apprun">
<a class="anchor" href="#01-root%EC%97%90-runpy-%EC%83%9D%EC%84%B1-%ED%9B%84-app%EA%B0%9D%EC%B2%B4-import%ED%95%98%EC%97%AC-apprun" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 rootì— run.py ìƒì„± í›„ appê°ì²´ importí•˜ì—¬ app.run</h3>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006221607127.png" alt="image-20221006221607127"></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">src.main.configs</span> <span class="kn">import</span> <span class="n">app</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">"0.0.0.0"</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="02-terminalì—ì„œ-runpyë¡œ-apprunì‹œí‚¤ê¸°">
<a class="anchor" href="#02-terminal%EC%97%90%EC%84%9C-runpy%EB%A1%9C-apprun%EC%8B%9C%ED%82%A4%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 terminalì—ì„œ run.pyë¡œ app.runì‹œí‚¤ê¸°</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python run.py
</code></pre></div></div>

<h4 id="flask-112-ë²„ì „ë¬¸ì œ---jin">
<a class="anchor" href="#flask-112-%EB%B2%84%EC%A0%84%EB%AC%B8%EC%A0%9C---jin" aria-hidden="true"><span class="octicon octicon-link"></span></a>flask 1.1.2 ë²„ì „ë¬¸ì œ -&gt; jin</h4>

<ul>
  <li>
    <p>ì—ëŸ¬ë¡œ ì¸í•´ <code class="language-plaintext highlighter-rouge">flask ì—…ë°ì´íŠ¸</code> or <code class="language-plaintext highlighter-rouge">jinja2&lt;3.1.0 / werkzeug==2.0.3 / itsdangerous==2.0.1</code>ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>ImportError: cannot import name 'escape' from 'jinja2'
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install --upgrade jinja2&lt;3.1.0

pip3 install --upgrade werkzeug==2.0.3

pip3 install --upgrade itsdangerous==2.0.1
</code></pre></div></div>

<h4 id="flask-appê°ì²´ë¥¼-srcmainconfigsappì—-ìˆëŠ”-ê²ƒì„-lazy-loadingí•œë‹¤ê³ -ëœ¬ë‹¤">
<a class="anchor" href="#flask-app%EA%B0%9D%EC%B2%B4%EB%A5%BC-srcmainconfigsapp%EC%97%90-%EC%9E%88%EB%8A%94-%EA%B2%83%EC%9D%84-lazy-loading%ED%95%9C%EB%8B%A4%EA%B3%A0-%EB%9C%AC%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flask appê°ì²´ë¥¼ src.main.configs.appì— ìˆëŠ” ê²ƒì„ lazy loadingí•œë‹¤ê³  ëœ¬ë‹¤.</h4>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006222859554.png" alt="image-20221006222859554"></p>

<h3 id="03-í™˜ê²½ë³€ìˆ˜ì—-flask_app-ì—-appê°ì²´-importí•œ-pythoníŒŒì¼ëª…ì„-ëª…ì‹œí•˜ë©´-lazy-loadingì„-ì œê±°í•œë‹¤">
<a class="anchor" href="#03-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%EC%97%90-flask_app-%EC%97%90-app%EA%B0%9D%EC%B2%B4-import%ED%95%9C-python%ED%8C%8C%EC%9D%BC%EB%AA%85%EC%9D%84-%EB%AA%85%EC%8B%9C%ED%95%98%EB%A9%B4-lazy-loading%EC%9D%84-%EC%A0%9C%EA%B1%B0%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>03 í™˜ê²½ë³€ìˆ˜ì— FLASK_APP= ì— [appê°ì²´ importí•œ pythoníŒŒì¼ëª…]ì„ ëª…ì‹œí•˜ë©´ lazy loadingì„ ì œê±°í•œë‹¤.</h3>

<h4 id="python-runpy-ëŒ€ì‹ -í™˜ê²½ë³€ìˆ˜-flask_appappê°ì²´ê°€-importë˜ì–´ìˆëŠ”-pythoníŒŒì¼ì„-ëª…ì‹œí•˜ë©´-mainìœ¼ë¡œ-ì¸í•œ-ì‹¤í–‰--lazyloadingì—†ì´-app-discoveryì—-ì˜í•´-ë¹ ë¥´ê²Œ-ë¡œë”©ëœë‹¤">
<a class="anchor" href="#python-runpy-%EB%8C%80%EC%8B%A0-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-flask_appapp%EA%B0%9D%EC%B2%B4%EA%B0%80-import%EB%90%98%EC%96%B4%EC%9E%88%EB%8A%94-python%ED%8C%8C%EC%9D%BC%EC%9D%84-%EB%AA%85%EC%8B%9C%ED%95%98%EB%A9%B4-main%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EC%8B%A4%ED%96%89--lazyloading%EC%97%86%EC%9D%B4-app-discovery%EC%97%90-%EC%9D%98%ED%95%B4-%EB%B9%A0%EB%A5%B4%EA%B2%8C-%EB%A1%9C%EB%94%A9%EB%90%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>python run.py ëŒ€ì‹  í™˜ê²½ë³€ìˆ˜ FLASK_APP=[appê°ì²´ê°€ importë˜ì–´ìˆëŠ” pythoníŒŒì¼]ì„ ëª…ì‹œí•˜ë©´, mainìœ¼ë¡œ ì¸í•œ ì‹¤í–‰ &amp;&amp; lazyloadingì—†ì´ app discoveryì— ì˜í•´ ë¹ ë¥´ê²Œ ë¡œë”©ëœë‹¤.</h4>

<ul>
  <li>
<strong>venv ê°€ìƒí™˜ê²½ì— ì˜í•´ í™˜ê²½ë³€ìˆ˜ê°€ ì €ì¥</strong>ëœë‹¤.
    <ul>
      <li><strong>Windows Powershell, <code class="language-plaintext highlighter-rouge">venv\Scripts\activate.ps1</code>ì— í™˜ê²½ë³€ìˆ˜ê°€ ì˜¬ë¼ê°„ë‹¤</strong></li>
    </ul>
  </li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">python run.py</code>ë¡œ ì§ì ‘ì‹¤í–‰(lazy loading)ì‹œí‚¤ë ¤ë©´ <code class="language-plaintext highlighter-rouge">__main__</code>ì´ì–´í•˜ë¨„ í–ˆë‹¤</strong>
    <ul>
      <li><strong>í™˜ê²½ë³€ìˆ˜ì— ì˜í•œ <code class="language-plaintext highlighter-rouge">flask run</code>ì‹¤í–‰ì€ appê°ì²´ë¥¼ importí•´ë†“ìœ¼ë©´ ì•Œì•„ì„œ íƒì§€í•´ì„œ ì‹¤í–‰ëœë‹¤.</strong></li>
      <li>í™˜ê²½ë³€ìˆ˜ì— ì˜í•œ ì‹¤í–‰ì€ <code class="language-plaintext highlighter-rouge">__main__ -&gt; app.run(host=,port=)</code>ê°€ í•„ìš”ì—†ë‹¤</li>
    </ul>
  </li>
  <li><strong>venvì— í™˜ê²½ë³€ìˆ˜ ë“±ë¡í•´ë†“ìœ¼ë©´ deactivateí–ˆë‹¤ ë“¤ì–´ì™€ë„ ì‚´ì•„ìˆë‹¤.</strong></li>
</ul>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_APP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"run"</span><span class="w">
</span><span class="c">#export FLASK_APP=run</span><span class="w">

</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_DEBUG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="c">#export FLASK_DEBUG=1</span><span class="w">

</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w">
</span><span class="c">#export</span><span class="w">

</span><span class="nf">flask</span><span class="w"> </span><span class="nx">run</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006230145174.png" alt="image-20221006230145174"></p>

<h2 id="7-local-run-apië¥¼-postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸">
<a class="anchor" href="#7-local-run-api%EB%A5%BC-postman%EC%9C%BC%EB%A1%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>7 local run apië¥¼ POSTMANìœ¼ë¡œ í…ŒìŠ¤íŠ¸</h2>

<h3 id="01-ì‹¤í–‰ì¤‘ì¸-urlì„-ë¶™ì—¬ë„£ê³ -api-uriëŠ”-srcmainroutesapi_routepyì˜-routeë“±ë¡ê°ì²´ë¥¼-ë³´ê³ -í™•ì¸í•´ì„œ-ì ‘ì†í•œë‹¤">
<a class="anchor" href="#01-%EC%8B%A4%ED%96%89%EC%A4%91%EC%9D%B8-url%EC%9D%84-%EB%B6%99%EC%97%AC%EB%84%A3%EA%B3%A0-api-uri%EB%8A%94-srcmainroutesapi_routepy%EC%9D%98-route%EB%93%B1%EB%A1%9D%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EB%B3%B4%EA%B3%A0-%ED%99%95%EC%9D%B8%ED%95%B4%EC%84%9C-%EC%A0%91%EC%86%8D%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>01 ì‹¤í–‰ì¤‘ì¸ urlì„ ë¶™ì—¬ë„£ê³ , api uriëŠ” src&gt;main&gt;routes&gt;api_route.pyì˜ routeë“±ë¡ê°ì²´ë¥¼ ë³´ê³  í™•ì¸í•´ì„œ ì ‘ì†í•œë‹¤</h3>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006230833856.png" alt="image-20221006230833856"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006230842123.png" alt="image-20221006230842123"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006230852374.png" alt="image-20221006230852374"></p>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221006230929493.png" alt="image-20221006230929493"></p>

<h3 id="02-ì—¬ê¸°ê¹Œì§€ë¥¼-first-composer-1ê°œ--flask-settingìœ¼ë¡œ-commití•œë‹¤">
<a class="anchor" href="#02-%EC%97%AC%EA%B8%B0%EA%B9%8C%EC%A7%80%EB%A5%BC-first-composer-1%EA%B0%9C--flask-setting%EC%9C%BC%EB%A1%9C-commit%ED%95%9C%EB%8B%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>02 ì—¬ê¸°ê¹Œì§€ë¥¼ first composer 1ê°œ + flask settingìœ¼ë¡œ commití•œë‹¤</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -am "feat: Implementing first composer and setting Flask"
</code></pre></div></div>

<h2 id="ì°¸ê³ ">
<a class="anchor" href="#%EC%B0%B8%EA%B3%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>ì°¸ê³ </h2>

<ul>
  <li><a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Robert C. Martin (Uncle Bob)ì˜ Clean Code Blog</a></li>
  <li><a href="https://velog.io/@jahoy/Python%EC%9C%BC%EB%A1%9C-Clean-Architecture-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">ìš©ì–´ ì°¸ê³  ë¸”ë¡œê·¸ 1í¸</a></li>
  <li><a href="https://velog.io/@jahoy/Python%EC%9C%BC%EB%A1%9C-%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B02">ìš©ì–´ ì°¸ê³  ë¸”ë¡œê·¸ 2í¸</a></li>
</ul>

<h4 id="gitignore">
<a class="anchor" href="#gitignore" aria-hidden="true"><span class="octicon octicon-link"></span></a>gitignore</h4>

<ul>
  <li>
    <p>gitì— commitë˜ì—ˆë˜ ê²ƒì„ ignoreí•˜ê³  ì‹¶ì„ ë•Œ</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git rm [íŒŒì¼ëª…] --cached
</code></pre></div>    </div>
  </li>
  <li>
    <p>git amend</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git commit --amend --no-edit
</code></pre></div>    </div>
  </li>
</ul>

<ol>
  <li>console ë“±ì—ì„œ init importë¶€í„° ìƒê¸°ëŠ” pycacheí´ë”</li>
  <li>venv</li>
  <li>ì—°ìŠµìš© sqlite .dbíŒŒì¼</li>
  <li>pytestì‹œ ìƒê¸°ëŠ” .pytest_cache í´ë”</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>**/__pycache__
venv
storage.db
.pytest_cache
</code></pre></div></div>

<h4 id="sqlalchemyíŒ¨í‚¤ì§€">
<a class="anchor" href="#sqlalchemy%ED%8C%A8%ED%82%A4%EC%A7%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>sqlalchemyíŒ¨í‚¤ì§€</h4>

<ul>
  <li>ì¼ë°˜ íŒ¨í‚¤ì§€: create_engine / ì¹¼ëŸ¼ì¬ë£Œë“¤</li>
  <li>.orm íŒ¨í‚¤ì§€:
    <ul>
      <li>relatioship: 1:Mì—ì„œ 1ì— í•´ë‹¹í•˜ëŠ” tableì´ ë“¤ê³  ìˆëŠ” ê°€ì§œì¹¼ëŸ¼</li>
      <li>sessionmaker: handler class ì† enterì—ì„œ engineì„ ë¬¶ì–´ì„œ sessionì„ ë°˜í™˜í•´ì£¼ëŠ” ë†ˆ</li>
    </ul>
  </li>
  <li>ê³„ì¸µë³„ ë³€ìˆ˜ì •ë¦¬
    <ul>
      <li>id : sqlalchemy -&gt; <strong>repoë¶€í„°ëŠ”</strong> fk_idë„ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">pk_id</code>
</li>
      <li>name: sqlalchemy-&gt;repo-&gt;usecaseê¹Œì§€ëŠ” ê·¸ëƒ¥ name (ì„ íƒì¸ì ê°œë³„ë©”ì„œë“œì—by_name)-&gt; <strong>controllerë¶€í„°ëŠ” ì™¸ë¶€ì—ì„  ë‹¤ë¥¸(pet)_nameë„ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">pk_name</code></strong>
</li>
    </ul>
  </li>
</ul>

<h4 id="githubì—ì„œ-brë”°ì„œ-ì‘ì—…í•˜ê¸°">
<a class="anchor" href="#github%EC%97%90%EC%84%9C-br%EB%94%B0%EC%84%9C-%EC%9E%91%EC%97%85%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>githubì—ì„œ brë”°ì„œ ì‘ì—…í•˜ê¸°</h4>

<h5 id="1-1-githubì—ì„œ-brìƒì„±--clone">
<a class="anchor" href="#1-1-github%EC%97%90%EC%84%9C-br%EC%83%9D%EC%84%B1--clone" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-1] githubì—ì„œ brìƒì„± ~ clone</h5>

<ol>
  <li>
    <p>githubì— ë“¤ì–´ê°€ì„œ <code class="language-plaintext highlighter-rouge">feat/~</code>ë¡œ ë¸Œëœì¹˜ ìƒì„±</p>
  </li>
  <li>
    <p>í•´ë‹¹ brë§Œ clone</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git clone -b [branch] [gitì£¼ì†Œ]
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="cloneí›„-ì´ˆê¸°-ì‘ì—…-ì„¸íŒ…">
<a class="anchor" href="#clone%ED%9B%84-%EC%B4%88%EA%B8%B0-%EC%9E%91%EC%97%85-%EC%84%B8%ED%8C%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>cloneí›„ ì´ˆê¸° ì‘ì—… ì„¸íŒ…</h5>

<ol>
  <li>gitignoreì¤‘ì— dbíŒŒì¼ ìˆìœ¼ë©´ ì˜®ê²¨ì£¼ê¸°
    <ul>
      <li>ì—†ìœ¼ë©´ config importí•´ì„œ Base + handler -&gt; get_enigne -&gt; bindí•œ ë‹¤ìŒ, create_all()í•´ì¤˜ì•¼í• ë“¯??</li>
    </ul>
  </li>
</ol>

<p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20220929154256052.png" alt="image-20220929154256052"></p>

<ol>
  <li>githubì—ì„œ ë”°ì˜¨ ë¹ˆ ìƒˆbrì— ëŒ€í•´, venvë¥¼ ë§Œë“¤ê³  í™œì„±í™”í•˜ê³   vscodeë¥¼ ì—°ë‹¤</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m virtualenv -p python310 venv

.\venv\Scripts\activate
</code></pre></div></div>

<ol>
  <li>ìµœì´ˆ requirements.txt ì§ì ‘ ì„¤ì¹˜</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -r requirements.txt
</code></pre></div></div>

<ol>
  <li>ìµœì´ˆ pre-commit install ì§ì ‘ ì„¸íŒ…</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pre-commit install
</code></pre></div></div>

<ol>
  <li>vscode ì—´ê³  interpreter venvë¡œ ì§€ì •</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>code .
</code></pre></div></div>

<h5 id="1-2-ì‘ì—…ëë‚œ-brì˜-í´ë”ì—ì„œ-ìƒˆ-ì‘ì—…-brìƒì„±--ë¶„ê¸°ê²Œì‹œ-ì´ˆê¸°ì„¸íŒ…-ë˜-ì•ˆí•´ë„-ë˜ëŠ”-ì¥ì ">
<a class="anchor" href="#1-2-%EC%9E%91%EC%97%85%EB%81%9D%EB%82%9C-br%EC%9D%98-%ED%8F%B4%EB%8D%94%EC%97%90%EC%84%9C-%EC%83%88-%EC%9E%91%EC%97%85-br%EC%83%9D%EC%84%B1--%EB%B6%84%EA%B8%B0%EA%B2%8C%EC%8B%9C-%EC%B4%88%EA%B8%B0%EC%84%B8%ED%8C%85-%EB%98%90-%EC%95%88%ED%95%B4%EB%8F%84-%EB%90%98%EB%8A%94-%EC%9E%A5%EC%A0%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-2] ì‘ì—…ëë‚œ brì˜ í´ë”ì—ì„œ ìƒˆ ì‘ì—… brìƒì„± ~ ë¶„ê¸°ê²Œì‹œ (ì´ˆê¸°ì„¸íŒ… ë˜ ì•ˆí•´ë„ ë˜ëŠ” ì¥ì )</h5>

<ol>
  <li>
    <p>í˜„ì¬ brë¥¼ í™•ì¸í•œë‹¤.</p>

    <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">branch</span>
<span class="o">*</span> <span class="n">feat</span><span class="o">/</span><span class="n">register_user_use_case</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>checkout -b</strong>ë¡œ ìƒˆ br ìƒì„±í•˜ì—¬ ì§„ì…í•˜ê¸°</p>

    <ul>
      <li>ì›ë˜ëŠ” githubì—ì„œ create branchí–ˆì—ˆìŒ.</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout -b feat/generic_use_cases
   
git branch
   
* feat/generic_use_cases
  feat/register_user_use_case
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>git push -u origin [branchëª…]ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">ìƒˆë¡œìƒì„±í•œ brë¥¼ pushí•´ì„œ githubì— ìƒì„±í•˜ê¸°</code></strong></p>

    <ul>
      <li>vscodeì—ì„œëŠ” push -u origin [branch] ëŒ€ì‹   <strong><code class="language-plaintext highlighter-rouge">ë¶„ê¸°ê²Œì‹œ</code>ê°€ ëœ¬ë‹¤.</strong>
</li>
    </ul>
  </li>
  <li>
    <p>githubì—ì„œ <strong>ë¹ˆ ë¶„ê¸°ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°</strong></p>

    <ul>
      <li>githubì— mergeë˜ê¸° ìœ„í•´ì„œëŠ” <strong>ì§ì „ ì‘ì—…ì´í›„ <code class="language-plaintext highlighter-rouge">githubì— ìƒˆ ì‘ì—… brë¥¼ ë¨¼ì € ìƒì„±í•´ë†“ê³  ì‘ì—…</code>ì— ë“¤ì–´ê°€ì•¼í•œë‹¤</strong>
</li>
    </ul>
  </li>
</ol>

<h5 id="1-3--ì˜›ë‚ ì—-ë”°ë‘”-brì—ì„œ-ì‘ì—…ì‹œì‘í• -ë•-ìµœì‹ -masterë¥¼-rebaseí›„ì—-ì‘ì—…ì‹œì‘í•˜ê¸°">
<a class="anchor" href="#1-3--%EC%98%9B%EB%82%A0%EC%97%90-%EB%94%B0%EB%91%94-br%EC%97%90%EC%84%9C-%EC%9E%91%EC%97%85%EC%8B%9C%EC%9E%91%ED%95%A0-%EB%95%90-%EC%B5%9C%EC%8B%A0-master%EB%A5%BC-rebase%ED%9B%84%EC%97%90-%EC%9E%91%EC%97%85%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>[1-3]  ì˜›ë‚ ì— ë”°ë‘” brì—ì„œ ì‘ì—…ì‹œì‘í•  ë•, ìµœì‹  masterë¥¼ rebaseí›„ì— ì‘ì—…ì‹œì‘í•˜ê¸°</h5>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">git checkout master</code>ë¥¼ í†µí•´ <strong>ì•ˆê°€ì ¸ì™€ì„œ ì•ˆë³´ì´ë˜ master</strong>ë¥¼ ë§Œë“ ë‹¤</p>

    <ul>
      <li>
<strong>-bì˜ ìƒˆë¡œë§Œë“  ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ</strong> remoteì™€ ì—°ê²°ëœ masterê°€ ëœë‹¤.</li>
      <li>
<code class="language-plaintext highlighter-rouge">git branch</code>ë¡œ í™•ì¸</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout master
   
git branch
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">git pull</code>ë¡œ masterì— ìµœì‹  ì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git pull
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>rebaseë°›ì„ ì—…ëƒì•ˆëœ ì‘ì—…brë¡œ ë„˜ì–´ê°„ ë’¤, <code class="language-plaintext highlighter-rouge">matserì˜ ë‚´ìš©ì„ rebaseë¡œ ë°›ì•„ì˜¨ë‹¤</code></strong></p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git checkout [ì‘ì—…br]
   
git rebase master
   
git log --oneline
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="2-í•´ë‹¹br-ì‘ì—…í…ŒìŠ¤íŠ¸-ì™„ë£Œí›„--mergeê¹Œì§€-ì •ë¦¬">
<a class="anchor" href="#2-%ED%95%B4%EB%8B%B9br-%EC%9E%91%EC%97%85%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%99%84%EB%A3%8C%ED%9B%84--merge%EA%B9%8C%EC%A7%80-%EC%A0%95%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>[2] í•´ë‹¹br ì‘ì—…(í…ŒìŠ¤íŠ¸) ì™„ë£Œí›„ ~ mergeê¹Œì§€ ì •ë¦¬</h5>

<ol>
  <li>
    <p>status í™•ì¸í›„ add . í›„  -amìœ¼ë¡œ ì»¤ë°‹-&gt;ì‹¤íŒ¨-&gt;-amì»¤ë°‹</p>

    <ul>
      <li><strong>addë¥¼ ë¨¼ì € ë‚ ë ¤ì•¼ addëœìƒíƒœë¡œ pytestí•˜ëŠ” ê²ƒ ê°™ë‹¤?!</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>git status
   
git add .
   
git commit -am "feat: implementing data interfaces"
   
git commit -am "feat: implementing data interfaces"
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>git pushëŠ” í˜„ì¬ ë¡œê·¸ì¸ëœ vscodeì—ì„œ í•˜ê³  ìˆìŒ.</strong></p>
  </li>
  <li>
    <p><strong>githubì— ë“¤ì–´ê°€ë³´ë©´, <code class="language-plaintext highlighter-rouge">Compare &amp; pull request</code>ê°€ ë– ìˆë”ë¼ë„ <code class="language-plaintext highlighter-rouge">PRíƒ­ &gt; new PR</code>ë¡œ ë“¤ì–´ê°€ëŠ” ë²„ë¦‡ì„ ë“¤ì—¬ë³´ì.</strong></p>
  </li>
</ol>

<ul>
  <li>Comparing changeê¹Œì§€ ë“¤ì–´ê°€ì„œ ì½”ë“œë¥¼ í™•ì¸í•˜ê³  <code class="language-plaintext highlighter-rouge">Able to merge</code> ë° <code class="language-plaintext highlighter-rouge">ì„¸ë¶€ì½”ë“œ</code>ë¥¼ í™•ì¸í•˜ê³  <strong>ì§ì ‘ Create PRê¹Œì§€ ê°€ì</strong>
</li>
</ul>

<ol>
  <li><strong>mergeí›„ masterì— ë°˜ì˜ë˜ì—ˆëŠ”ì§€ê¹Œì§€ í™•ì¸í•˜ì</strong></li>
</ol>

<h4 id="vscode-ì„¤ì •">
<a class="anchor" href="#vscode-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>vscode ì„¤ì •</h4>

<ul>
  <li>ìºì‰¬íŒŒì¼ ì•ˆë³´ì´ê¸°</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"files.exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"**/__pycache__"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"**/.pytest_cache"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<ul>
  <li>
    <p>tabì‹œ spaceë¡œ ì…ë ¥ë˜ê¸°</p>

    <p><img src="https://raw.githubusercontent.com/is3js/screenshots/main/image-20221001015405760.png" alt="image-20221001015405760"></p>
  </li>
  <li>
    <p>íƒìƒ‰ê¸° ì—´ê¸° ë‹¨ì¶•í‚¤ : <code class="language-plaintext highlighter-rouge">shift + alt + R</code></p>

    <ul>
      <li>íŒŒì¼: íŒŒì¼ íƒìƒ‰ê¸°ì— í‘œì‹œ</li>
    </ul>
  </li>
</ul>

<h4 id="testì •ë¦¬">
<a class="anchor" href="#test%EC%A0%95%EB%A6%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>testì •ë¦¬</h4>

<ol>
  <li>
    <p>repo_insert_X</p>

    <ol>
      <li>idì œì™¸ faker + insertë©”ì„œë“œ -&gt; new_dto</li>
      <li>new_dtoì† ë°°ì •id + engine db select -&gt; query_data -&gt; engine db delete</li>
      <li>assert new_dto.í•„ë“œ == query_dataí•„ë“œ ë¹„êµ</li>
    </ol>
  </li>
  <li>
    <p>repo_select_X</p>
    <ol>
      <li>idí¬í•¨ faker -&gt; entityëª¨ë¸ ê°ì²´</li>
      <li>idí¬í•¨ ì¬ë£Œë“¤ + engine db insert -&gt; dbë°ì´í„°ë§Œë“¤ì–´ë†“ê¸°</li>
      <li>id, fkì¬ë£Œë“¤ + selectë©”ì„œë“œ -&gt; List[entityëª¨ë¸ê°ì²´ë“¤]</li>
      <li>engine db delete</li>
    </ol>
  </li>
</ol>

<h4 id="status_code">
<a class="anchor" href="#status_code" aria-hidden="true"><span class="octicon octicon-link"></span></a>status_code</h4>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">422</code>: validate_entryì‹¤íŒ¨í•˜ëŠ” query ì† paramë“¤ -&gt; usecaseë©”ì„œë“œì˜ ê²°ê³¼ë¬¼ responseì˜ [â€œSuccessâ€]ê°€ False</p>

    <ul>
      <li><strong>í•„ìˆ˜param(dictì† í•„ë“œ)ì´ ë¹ ì¡Œì„ ê²½ìš°(ì¡´ì¬ê²€ì¦) or í•„ìˆ˜paramì´ validate_entryì‹¤íŒ¨í•  ê²½ìš°</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if reponse["Success"] is False:
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">400</code>: queryì† paramë“¤ì´ í•„ìš”í•œ controllerì¸ë° http_requestì•ˆì— ì•„ì˜ˆ ì¡´ì¬ë„ ì•ˆí–ˆë‹¤ë©´, 400 Bad Requestì—ëŸ¬</p>

    <ul>
      <li><strong>http_requestì— í•„ìˆ˜paramì„ í¬í•¨í•œ .query or .bodyê°€ ì•„ì˜ˆ ë‚ ë¼ì˜¤ì§€ë„ ì•Šì•˜ì„ ê²½ìš°</strong></li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if http_request.query:
	# if query
# if not query
else:
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>if http_request.body:
	# if body
# if not body
else:
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="powershell-í™˜ê²½ë³€ìˆ˜-ë“±ë¡í™•ì¸">
<a class="anchor" href="#powershell-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EB%93%B1%EB%A1%9D%ED%99%95%EC%9D%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>powershell í™˜ê²½ë³€ìˆ˜ ë“±ë¡/í™•ì¸</h4>

<ul>
  <li>pythonê°€ìƒí™˜ê²½ venvì—ì„œ activatedí•œ ìƒíƒœë¡œ ì ìš©
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">venv\Scripts\activate.ps1</code>ì— ì €ì¥ëœë‹¤.</li>
    </ul>
  </li>
</ul>

<ol>
  <li>
    <p>ë“±ë¡:</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_APP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
   
</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_DEBUG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span></code></pre></div>    </div>

    <ul>
      <li>íŒŒì¼ëª…ì€ â€œ â€œ í™•ì¥ìë¥¼ ëº€ ìŒë”°ì˜´í‘œë¡œ</li>
    </ul>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">FLASK_RUN_PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8000</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>í™•ì¸</p>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w">
</span></code></pre></div>    </div>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nf">Format-Table</span><span class="w"> </span><span class="nt">-Wrap</span><span class="w">
</span></code></pre></div>    </div>

    <div class="language-powershell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c">## 'LOGONSERVER' í™˜ê²½ë³€ìˆ˜ë¥¼ ì°¾ê³  ì‹¶ë‹¤ë©´,</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:LOGONSERVER</span><span class="w">
   
</span><span class="c">## 'on'ì´ í¬í•¨ëœ ë‹¨ì–´, ex) logONserver, ONedrive...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="o">*</span><span class="nx">on</span><span class="o">*</span><span class="w">
   
</span><span class="c">## 'on'ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´, ONedrive ...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:on</span><span class="o">*</span><span class="w">
   
</span><span class="c">## 'on'ìœ¼ë¡œ ëë‚˜ëŠ” ë‹¨ì–´, ex) processor_revisiON ...</span><span class="w">
</span><span class="nf">Get-ChildItem</span><span class="w"> </span><span class="nx">Env:</span><span class="o">*</span><span class="nx">on</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ol>


  </div><a class="u-url" href="/python/flask/cleanarchitecture/2022/09/06/%ED%81%B4%EB%A6%B0%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90_06_main_layer_OneEntity_composer_and_setting_flask.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>í‰ë²”í•œ í•œì˜ì‚¬ ëŒë²”ì˜ ì—”ì§€ë‹ˆì–´ ë„ì „ê¸°</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/is2js" target="_blank" title="is2js"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/is2js" target="_blank" title="is2js"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
